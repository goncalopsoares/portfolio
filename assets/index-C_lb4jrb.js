(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Za(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Lt={},Nr=[],on=()=>{},Dm=()=>!1,eo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),tl=e=>e.startsWith("onUpdate:"),re=Object.assign,el=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Vm=Object.prototype.hasOwnProperty,kt=(e,t)=>Vm.call(e,t),pt=Array.isArray,Mr=e=>no(e)==="[object Map]",jh=e=>no(e)==="[object Set]",gt=e=>typeof e=="function",Jt=e=>typeof e=="string",Hn=e=>typeof e=="symbol",qt=e=>e!==null&&typeof e=="object",Uh=e=>(qt(e)||gt(e))&&gt(e.then)&&gt(e.catch),Bh=Object.prototype.toString,no=e=>Bh.call(e),Om=e=>no(e).slice(8,-1),qh=e=>no(e)==="[object Object]",nl=e=>Jt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ss=Za(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ro=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Nm=/-(\w)/g,Ge=ro(e=>e.replace(Nm,(t,n)=>n?n.toUpperCase():"")),Mm=/\B([A-Z])/g,_r=ro(e=>e.replace(Mm,"-$1").toLowerCase()),so=ro(e=>e.charAt(0).toUpperCase()+e.slice(1)),jo=ro(e=>e?`on${so(e)}`:""),Vn=(e,t)=>!Object.is(e,t),Uo=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Hh=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Lm=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Kc;const io=()=>Kc||(Kc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xe(e){if(pt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Jt(r)?Um(r):xe(r);if(s)for(const o in s)t[o]=s[o]}return t}else if(Jt(e)||qt(e))return e}const Fm=/;(?![^(]*\))/g,$m=/:([^]+)/,jm=/\/\*[^]*?\*\//g;function Um(e){const t={};return e.replace(jm,"").split(Fm).forEach(n=>{if(n){const r=n.split($m);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ne(e){let t="";if(Jt(e))t=e;else if(pt(e))for(let n=0;n<e.length;n++){const r=ne(e[n]);r&&(t+=r+" ")}else if(qt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Bm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qm=Za(Bm);function zh(e){return!!e||e===""}const Kh=e=>!!(e&&e.__v_isRef===!0),et=e=>Jt(e)?e:e==null?"":pt(e)||qt(e)&&(e.toString===Bh||!gt(e.toString))?Kh(e)?et(e.value):JSON.stringify(e,Gh,2):String(e),Gh=(e,t)=>Kh(t)?Gh(e,t.value):Mr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],o)=>(n[Bo(r,o)+" =>"]=s,n),{})}:jh(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Bo(n))}:Hn(t)?Bo(t):qt(t)&&!pt(t)&&!qh(t)?String(t):t,Bo=(e,t="")=>{var n;return Hn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Se;class Wh{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Se,!t&&Se&&(this.index=(Se.scopes||(Se.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Se;try{return Se=this,t()}finally{Se=n}}}on(){Se=this}off(){Se=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Hm(e){return new Wh(e)}function Qh(){return Se}function zm(e,t=!1){Se&&Se.cleanups.push(e)}let Ft;const qo=new WeakSet;class Xh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Se&&Se.active&&Se.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qo.has(this)&&(qo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Jh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Gc(this),Zh(this);const t=Ft,n=Xe;Ft=this,Xe=!0;try{return this.fn()}finally{tf(this),Ft=t,Xe=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)il(t);this.deps=this.depsTail=void 0,Gc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){pa(this)&&this.run()}get dirty(){return pa(this)}}let Yh=0,xs,Ps;function Jh(e,t=!1){if(e.flags|=8,t){e.next=Ps,Ps=e;return}e.next=xs,xs=e}function rl(){Yh++}function sl(){if(--Yh>0)return;if(Ps){let t=Ps;for(Ps=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;xs;){let t=xs;for(xs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Zh(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function tf(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),il(r),Km(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function pa(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ef(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ef(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Us))return;e.globalVersion=Us;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!pa(e)){e.flags&=-3;return}const n=Ft,r=Xe;Ft=e,Xe=!0;try{Zh(e);const s=e.fn(e._value);(t.version===0||Vn(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ft=n,Xe=r,tf(e),e.flags&=-3}}function il(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)il(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Km(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Xe=!0;const nf=[];function zn(){nf.push(Xe),Xe=!1}function Kn(){const e=nf.pop();Xe=e===void 0?!0:e}function Gc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ft;Ft=void 0;try{t()}finally{Ft=n}}}let Us=0;class Gm{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ol{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ft||!Xe||Ft===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ft)n=this.activeLink=new Gm(Ft,this),Ft.deps?(n.prevDep=Ft.depsTail,Ft.depsTail.nextDep=n,Ft.depsTail=n):Ft.deps=Ft.depsTail=n,rf(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ft.depsTail,n.nextDep=void 0,Ft.depsTail.nextDep=n,Ft.depsTail=n,Ft.deps===n&&(Ft.deps=r)}return n}trigger(t){this.version++,Us++,this.notify(t)}notify(t){rl();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{sl()}}}function rf(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)rf(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ma=new WeakMap,rr=Symbol(""),ga=Symbol(""),Bs=Symbol("");function _e(e,t,n){if(Xe&&Ft){let r=ma.get(e);r||ma.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new ol),s.map=r,s.key=n),s.track()}}function _n(e,t,n,r,s,o){const l=ma.get(e);if(!l){Us++;return}const c=u=>{u&&u.trigger()};if(rl(),t==="clear")l.forEach(c);else{const u=pt(e),f=u&&nl(n);if(u&&n==="length"){const d=Number(r);l.forEach((m,g)=>{(g==="length"||g===Bs||!Hn(g)&&g>=d)&&c(m)})}else switch((n!==void 0||l.has(void 0))&&c(l.get(n)),f&&c(l.get(Bs)),t){case"add":u?f&&c(l.get("length")):(c(l.get(rr)),Mr(e)&&c(l.get(ga)));break;case"delete":u||(c(l.get(rr)),Mr(e)&&c(l.get(ga)));break;case"set":Mr(e)&&c(l.get(rr));break}}sl()}function Cr(e){const t=Pt(e);return t===e?t:(_e(t,"iterate",Bs),ze(e)?t:t.map(ye))}function oo(e){return _e(e=Pt(e),"iterate",Bs),e}const Wm={__proto__:null,[Symbol.iterator](){return Ho(this,Symbol.iterator,ye)},concat(...e){return Cr(this).concat(...e.map(t=>pt(t)?Cr(t):t))},entries(){return Ho(this,"entries",e=>(e[1]=ye(e[1]),e))},every(e,t){return pn(this,"every",e,t,void 0,arguments)},filter(e,t){return pn(this,"filter",e,t,n=>n.map(ye),arguments)},find(e,t){return pn(this,"find",e,t,ye,arguments)},findIndex(e,t){return pn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return pn(this,"findLast",e,t,ye,arguments)},findLastIndex(e,t){return pn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return pn(this,"forEach",e,t,void 0,arguments)},includes(...e){return zo(this,"includes",e)},indexOf(...e){return zo(this,"indexOf",e)},join(e){return Cr(this).join(e)},lastIndexOf(...e){return zo(this,"lastIndexOf",e)},map(e,t){return pn(this,"map",e,t,void 0,arguments)},pop(){return _s(this,"pop")},push(...e){return _s(this,"push",e)},reduce(e,...t){return Wc(this,"reduce",e,t)},reduceRight(e,...t){return Wc(this,"reduceRight",e,t)},shift(){return _s(this,"shift")},some(e,t){return pn(this,"some",e,t,void 0,arguments)},splice(...e){return _s(this,"splice",e)},toReversed(){return Cr(this).toReversed()},toSorted(e){return Cr(this).toSorted(e)},toSpliced(...e){return Cr(this).toSpliced(...e)},unshift(...e){return _s(this,"unshift",e)},values(){return Ho(this,"values",ye)}};function Ho(e,t,n){const r=oo(e),s=r[t]();return r!==e&&!ze(e)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.value&&(o.value=n(o.value)),o}),s}const Qm=Array.prototype;function pn(e,t,n,r,s,o){const l=oo(e),c=l!==e&&!ze(e),u=l[t];if(u!==Qm[t]){const m=u.apply(e,o);return c?ye(m):m}let f=n;l!==e&&(c?f=function(m,g){return n.call(this,ye(m),g,e)}:n.length>2&&(f=function(m,g){return n.call(this,m,g,e)}));const d=u.call(l,f,r);return c&&s?s(d):d}function Wc(e,t,n,r){const s=oo(e);let o=n;return s!==e&&(ze(e)?n.length>3&&(o=function(l,c,u){return n.call(this,l,c,u,e)}):o=function(l,c,u){return n.call(this,l,ye(c),u,e)}),s[t](o,...r)}function zo(e,t,n){const r=Pt(e);_e(r,"iterate",Bs);const s=r[t](...n);return(s===-1||s===!1)&&cl(n[0])?(n[0]=Pt(n[0]),r[t](...n)):s}function _s(e,t,n=[]){zn(),rl();const r=Pt(e)[t].apply(e,n);return sl(),Kn(),r}const Xm=Za("__proto__,__v_isRef,__isVue"),sf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Hn));function Ym(e){Hn(e)||(e=String(e));const t=Pt(this);return _e(t,"has",e),t.hasOwnProperty(e)}class of{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?ag:uf:o?cf:lf).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const l=pt(t);if(!s){let u;if(l&&(u=Wm[n]))return u;if(n==="hasOwnProperty")return Ym}const c=Reflect.get(t,n,we(t)?t:r);return(Hn(n)?sf.has(n):Xm(n))||(s||_e(t,"get",n),o)?c:we(c)?l&&nl(n)?c:c.value:qt(c)?s?ff(c):ei(c):c}}class af extends of{constructor(t=!1){super(!1,t)}set(t,n,r,s){let o=t[n];if(!this._isShallow){const u=ur(o);if(!ze(r)&&!ur(r)&&(o=Pt(o),r=Pt(r)),!pt(t)&&we(o)&&!we(r))return u?!1:(o.value=r,!0)}const l=pt(t)&&nl(n)?Number(n)<t.length:kt(t,n),c=Reflect.set(t,n,r,we(t)?t:s);return t===Pt(s)&&(l?Vn(r,o)&&_n(t,"set",n,r):_n(t,"add",n,r)),c}deleteProperty(t,n){const r=kt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&_n(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Hn(n)||!sf.has(n))&&_e(t,"has",n),r}ownKeys(t){return _e(t,"iterate",pt(t)?"length":rr),Reflect.ownKeys(t)}}class Jm extends of{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Zm=new af,tg=new Jm,eg=new af(!0);const _a=e=>e,bi=e=>Reflect.getPrototypeOf(e);function ng(e,t,n){return function(...r){const s=this.__v_raw,o=Pt(s),l=Mr(o),c=e==="entries"||e===Symbol.iterator&&l,u=e==="keys"&&l,f=s[e](...r),d=n?_a:t?ya:ye;return!t&&_e(o,"iterate",u?ga:rr),{next(){const{value:m,done:g}=f.next();return g?{value:m,done:g}:{value:c?[d(m[0]),d(m[1])]:d(m),done:g}},[Symbol.iterator](){return this}}}}function Ii(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function rg(e,t){const n={get(s){const o=this.__v_raw,l=Pt(o),c=Pt(s);e||(Vn(s,c)&&_e(l,"get",s),_e(l,"get",c));const{has:u}=bi(l),f=t?_a:e?ya:ye;if(u.call(l,s))return f(o.get(s));if(u.call(l,c))return f(o.get(c));o!==l&&o.get(s)},get size(){const s=this.__v_raw;return!e&&_e(Pt(s),"iterate",rr),Reflect.get(s,"size",s)},has(s){const o=this.__v_raw,l=Pt(o),c=Pt(s);return e||(Vn(s,c)&&_e(l,"has",s),_e(l,"has",c)),s===c?o.has(s):o.has(s)||o.has(c)},forEach(s,o){const l=this,c=l.__v_raw,u=Pt(c),f=t?_a:e?ya:ye;return!e&&_e(u,"iterate",rr),c.forEach((d,m)=>s.call(o,f(d),f(m),l))}};return re(n,e?{add:Ii("add"),set:Ii("set"),delete:Ii("delete"),clear:Ii("clear")}:{add(s){!t&&!ze(s)&&!ur(s)&&(s=Pt(s));const o=Pt(this);return bi(o).has.call(o,s)||(o.add(s),_n(o,"add",s,s)),this},set(s,o){!t&&!ze(o)&&!ur(o)&&(o=Pt(o));const l=Pt(this),{has:c,get:u}=bi(l);let f=c.call(l,s);f||(s=Pt(s),f=c.call(l,s));const d=u.call(l,s);return l.set(s,o),f?Vn(o,d)&&_n(l,"set",s,o):_n(l,"add",s,o),this},delete(s){const o=Pt(this),{has:l,get:c}=bi(o);let u=l.call(o,s);u||(s=Pt(s),u=l.call(o,s)),c&&c.call(o,s);const f=o.delete(s);return u&&_n(o,"delete",s,void 0),f},clear(){const s=Pt(this),o=s.size!==0,l=s.clear();return o&&_n(s,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=ng(s,e,t)}),n}function al(e,t){const n=rg(e,t);return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(kt(n,s)&&s in r?n:r,s,o)}const sg={get:al(!1,!1)},ig={get:al(!1,!0)},og={get:al(!0,!1)};const lf=new WeakMap,cf=new WeakMap,uf=new WeakMap,ag=new WeakMap;function lg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cg(e){return e.__v_skip||!Object.isExtensible(e)?0:lg(Om(e))}function ei(e){return ur(e)?e:ll(e,!1,Zm,sg,lf)}function hf(e){return ll(e,!1,eg,ig,cf)}function ff(e){return ll(e,!0,tg,og,uf)}function ll(e,t,n,r,s){if(!qt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const l=cg(e);if(l===0)return e;const c=new Proxy(e,l===2?r:n);return s.set(e,c),c}function Lr(e){return ur(e)?Lr(e.__v_raw):!!(e&&e.__v_isReactive)}function ur(e){return!!(e&&e.__v_isReadonly)}function ze(e){return!!(e&&e.__v_isShallow)}function cl(e){return e?!!e.__v_raw:!1}function Pt(e){const t=e&&e.__v_raw;return t?Pt(t):e}function En(e){return!kt(e,"__v_skip")&&Object.isExtensible(e)&&Hh(e,"__v_skip",!0),e}const ye=e=>qt(e)?ei(e):e,ya=e=>qt(e)?ff(e):e;function we(e){return e?e.__v_isRef===!0:!1}function Ot(e){return df(e,!1)}function ug(e){return df(e,!0)}function df(e,t){return we(e)?e:new hg(e,t)}class hg{constructor(t,n){this.dep=new ol,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Pt(t),this._value=n?t:ye(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||ze(t)||ur(t);t=r?t:Pt(t),Vn(t,n)&&(this._rawValue=t,this._value=r?t:ye(t),this.dep.trigger())}}function nt(e){return we(e)?e.value:e}const fg={get:(e,t,n)=>t==="__v_raw"?e:nt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return we(s)&&!we(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function pf(e){return Lr(e)?e:new Proxy(e,fg)}class dg{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ol(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Us-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ft!==this)return Jh(this,!0),!0}get value(){const t=this.dep.track();return ef(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function pg(e,t,n=!1){let r,s;return gt(e)?r=e:(r=e.get,s=e.set),new dg(r,s,n)}const Ai={},ji=new WeakMap;let Zn;function mg(e,t=!1,n=Zn){if(n){let r=ji.get(n);r||ji.set(n,r=[]),r.push(e)}}function gg(e,t,n=Lt){const{immediate:r,deep:s,once:o,scheduler:l,augmentJob:c,call:u}=n,f=q=>s?q:ze(q)||s===!1||s===0?yn(q,1):yn(q);let d,m,g,y,C=!1,N=!1;if(we(e)?(m=()=>e.value,C=ze(e)):Lr(e)?(m=()=>f(e),C=!0):pt(e)?(N=!0,C=e.some(q=>Lr(q)||ze(q)),m=()=>e.map(q=>{if(we(q))return q.value;if(Lr(q))return f(q);if(gt(q))return u?u(q,2):q()})):gt(e)?t?m=u?()=>u(e,2):e:m=()=>{if(g){zn();try{g()}finally{Kn()}}const q=Zn;Zn=d;try{return u?u(e,3,[y]):e(y)}finally{Zn=q}}:m=on,t&&s){const q=m,_t=s===!0?1/0:s;m=()=>yn(q(),_t)}const F=Qh(),W=()=>{d.stop(),F&&el(F.effects,d)};if(o&&t){const q=t;t=(..._t)=>{q(..._t),W()}}let z=N?new Array(e.length).fill(Ai):Ai;const Q=q=>{if(!(!(d.flags&1)||!d.dirty&&!q))if(t){const _t=d.run();if(s||C||(N?_t.some((vt,I)=>Vn(vt,z[I])):Vn(_t,z))){g&&g();const vt=Zn;Zn=d;try{const I=[_t,z===Ai?void 0:N&&z[0]===Ai?[]:z,y];u?u(t,3,I):t(...I),z=_t}finally{Zn=vt}}}else d.run()};return c&&c(Q),d=new Xh(m),d.scheduler=l?()=>l(Q,!1):Q,y=q=>mg(q,!1,d),g=d.onStop=()=>{const q=ji.get(d);if(q){if(u)u(q,4);else for(const _t of q)_t();ji.delete(d)}},t?r?Q(!0):z=d.run():l?l(Q.bind(null,!0),!0):d.run(),W.pause=d.pause.bind(d),W.resume=d.resume.bind(d),W.stop=W,W}function yn(e,t=1/0,n){if(t<=0||!qt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,we(e))yn(e.value,t,n);else if(pt(e))for(let r=0;r<e.length;r++)yn(e[r],t,n);else if(jh(e)||Mr(e))e.forEach(r=>{yn(r,t,n)});else if(qh(e)){for(const r in e)yn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&yn(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ni(e,t,n,r){try{return r?e(...r):e()}catch(s){ao(s,t,n)}}function cn(e,t,n,r){if(gt(e)){const s=ni(e,t,n,r);return s&&Uh(s)&&s.catch(o=>{ao(o,t,n)}),s}if(pt(e)){const s=[];for(let o=0;o<e.length;o++)s.push(cn(e[o],t,n,r));return s}}function ao(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Lt;if(t){let c=t.parent;const u=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const d=c.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](e,u,f)===!1)return}c=c.parent}if(o){zn(),ni(o,null,10,[e,u,f]),Kn();return}}_g(e,n,s,r,l)}function _g(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const Pe=[];let nn=-1;const Fr=[];let Sn=null,Pr=0;const mf=Promise.resolve();let Ui=null;function ul(e){const t=Ui||mf;return e?t.then(this?e.bind(this):e):t}function yg(e){let t=nn+1,n=Pe.length;for(;t<n;){const r=t+n>>>1,s=Pe[r],o=qs(s);o<e||o===e&&s.flags&2?t=r+1:n=r}return t}function hl(e){if(!(e.flags&1)){const t=qs(e),n=Pe[Pe.length-1];!n||!(e.flags&2)&&t>=qs(n)?Pe.push(e):Pe.splice(yg(t),0,e),e.flags|=1,gf()}}function gf(){Ui||(Ui=mf.then(yf))}function vg(e){pt(e)?Fr.push(...e):Sn&&e.id===-1?Sn.splice(Pr+1,0,e):e.flags&1||(Fr.push(e),e.flags|=1),gf()}function Qc(e,t,n=nn+1){for(;n<Pe.length;n++){const r=Pe[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Pe.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function _f(e){if(Fr.length){const t=[...new Set(Fr)].sort((n,r)=>qs(n)-qs(r));if(Fr.length=0,Sn){Sn.push(...t);return}for(Sn=t,Pr=0;Pr<Sn.length;Pr++){const n=Sn[Pr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Sn=null,Pr=0}}const qs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function yf(e){try{for(nn=0;nn<Pe.length;nn++){const t=Pe[nn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ni(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;nn<Pe.length;nn++){const t=Pe[nn];t&&(t.flags&=-2)}nn=-1,Pe.length=0,_f(),Ui=null,(Pe.length||Fr.length)&&yf()}}let Oe=null,vf=null;function Bi(e){const t=Oe;return Oe=e,vf=e&&e.type.__scopeId||null,t}function er(e,t=Oe,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&iu(-1);const o=Bi(t);let l;try{l=e(...s)}finally{Bi(o),r._d&&iu(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function Xc(e,t){if(Oe===null)return e;const n=ho(Oe),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,l,c,u=Lt]=t[s];o&&(gt(o)&&(o={mounted:o,updated:o}),o.deep&&yn(l),r.push({dir:o,instance:n,value:l,oldValue:void 0,arg:c,modifiers:u}))}return e}function Yn(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let l=0;l<s.length;l++){const c=s[l];o&&(c.oldValue=o[l].value);let u=c.dir[r];u&&(zn(),cn(u,n,8,[e.el,c,e,t]),Kn())}}const Eg=Symbol("_vte"),wg=e=>e.__isTeleport;function fl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,fl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Ef(e,t){return gt(e)?re({name:e.name},t,{setup:e}):e}function wf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function va(e,t,n,r,s=!1){if(pt(e)){e.forEach((C,N)=>va(C,t&&(pt(t)?t[N]:t),n,r,s));return}if(ks(r)&&!s)return;const o=r.shapeFlag&4?ho(r.component):r.el,l=s?null:o,{i:c,r:u}=e,f=t&&t.r,d=c.refs===Lt?c.refs={}:c.refs,m=c.setupState,g=Pt(m),y=m===Lt?()=>!1:C=>kt(g,C);if(f!=null&&f!==u&&(Jt(f)?(d[f]=null,y(f)&&(m[f]=null)):we(f)&&(f.value=null)),gt(u))ni(u,c,12,[l,d]);else{const C=Jt(u),N=we(u);if(C||N){const F=()=>{if(e.f){const W=C?y(u)?m[u]:d[u]:u.value;s?pt(W)&&el(W,o):pt(W)?W.includes(o)||W.push(o):C?(d[u]=[o],y(u)&&(m[u]=d[u])):(u.value=[o],e.k&&(d[e.k]=u.value))}else C?(d[u]=l,y(u)&&(m[u]=l)):N&&(u.value=l,e.k&&(d[e.k]=l))};l?(F.id=-1,$e(F,n)):F()}}}io().requestIdleCallback;io().cancelIdleCallback;const ks=e=>!!e.type.__asyncLoader,Tf=e=>e.type.__isKeepAlive;function Tg(e,t){bf(e,"a",t)}function bg(e,t){bf(e,"da",t)}function bf(e,t,n=ce){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(lo(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Tf(s.parent.vnode)&&Ig(r,t,n,s),s=s.parent}}function Ig(e,t,n,r){const s=lo(t,e,r,!0);If(()=>{el(r[t],s)},n)}function lo(e,t,n=ce,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...l)=>{zn();const c=ri(n),u=cn(t,n,e,l);return c(),Kn(),u});return r?s.unshift(o):s.push(o),o}}const wn=e=>(t,n=ce)=>{(!zs||e==="sp")&&lo(e,(...r)=>t(...r),n)},Ag=wn("bm"),Ee=wn("m"),Rg=wn("bu"),Cg=wn("u"),Sg=wn("bum"),If=wn("um"),xg=wn("sp"),Pg=wn("rtg"),kg=wn("rtc");function Dg(e,t=ce){lo("ec",e,t)}const Vg="components";function Br(e,t){return Ng(Vg,e,!0,t)||e}const Og=Symbol.for("v-ndc");function Ng(e,t,n=!0,r=!1){const s=Oe||ce;if(s){const o=s.type;{const c=T_(o,!1);if(c&&(c===t||c===Ge(t)||c===so(Ge(t))))return o}const l=Yc(s[e]||o[e],t)||Yc(s.appContext[e],t);return!l&&r?o:l}}function Yc(e,t){return e&&(e[t]||e[Ge(t)]||e[so(Ge(t))])}function $t(e,t,n,r){let s;const o=n,l=pt(e);if(l||Jt(e)){const c=l&&Lr(e);let u=!1;c&&(u=!ze(e),e=oo(e)),s=new Array(e.length);for(let f=0,d=e.length;f<d;f++)s[f]=t(u?ye(e[f]):e[f],f,void 0,o)}else if(typeof e=="number"){s=new Array(e);for(let c=0;c<e;c++)s[c]=t(c+1,c,void 0,o)}else if(qt(e))if(e[Symbol.iterator])s=Array.from(e,(c,u)=>t(c,u,void 0,o));else{const c=Object.keys(e);s=new Array(c.length);for(let u=0,f=c.length;u<f;u++){const d=c[u];s[u]=t(e[d],d,u,o)}}else s=[];return s}const Ea=e=>e?Hf(e)?ho(e):Ea(e.parent):null,Ds=re(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ea(e.parent),$root:e=>Ea(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>dl(e),$forceUpdate:e=>e.f||(e.f=()=>{hl(e.update)}),$nextTick:e=>e.n||(e.n=ul.bind(e.proxy)),$watch:e=>r_.bind(e)}),Ko=(e,t)=>e!==Lt&&!e.__isScriptSetup&&kt(e,t),Mg={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:o,accessCache:l,type:c,appContext:u}=e;let f;if(t[0]!=="$"){const y=l[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(Ko(r,t))return l[t]=1,r[t];if(s!==Lt&&kt(s,t))return l[t]=2,s[t];if((f=e.propsOptions[0])&&kt(f,t))return l[t]=3,o[t];if(n!==Lt&&kt(n,t))return l[t]=4,n[t];wa&&(l[t]=0)}}const d=Ds[t];let m,g;if(d)return t==="$attrs"&&_e(e.attrs,"get",""),d(e);if((m=c.__cssModules)&&(m=m[t]))return m;if(n!==Lt&&kt(n,t))return l[t]=4,n[t];if(g=u.config.globalProperties,kt(g,t))return g[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return Ko(s,t)?(s[t]=n,!0):r!==Lt&&kt(r,t)?(r[t]=n,!0):kt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},l){let c;return!!n[l]||e!==Lt&&kt(e,l)||Ko(t,l)||(c=o[0])&&kt(c,l)||kt(r,l)||kt(Ds,l)||kt(s.config.globalProperties,l)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:kt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Jc(e){return pt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let wa=!0;function Lg(e){const t=dl(e),n=e.proxy,r=e.ctx;wa=!1,t.beforeCreate&&Zc(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:l,watch:c,provide:u,inject:f,created:d,beforeMount:m,mounted:g,beforeUpdate:y,updated:C,activated:N,deactivated:F,beforeDestroy:W,beforeUnmount:z,destroyed:Q,unmounted:q,render:_t,renderTracked:vt,renderTriggered:I,errorCaptured:E,serverPrefetch:b,expose:A,inheritAttrs:R,components:S,directives:T,filters:be}=t;if(f&&Fg(f,r,null),l)for(const wt in l){const Et=l[wt];gt(Et)&&(r[wt]=Et.bind(n))}if(s){const wt=s.call(n,n);qt(wt)&&(e.data=ei(wt))}if(wa=!0,o)for(const wt in o){const Et=o[wt],Le=gt(Et)?Et.bind(n,n):gt(Et.get)?Et.get.bind(n,n):on,We=!gt(Et)&&gt(Et.set)?Et.set.bind(n):on,qe=Ut({get:Le,set:We});Object.defineProperty(r,wt,{enumerable:!0,configurable:!0,get:()=>qe.value,set:Ht=>qe.value=Ht})}if(c)for(const wt in c)Af(c[wt],r,n,wt);if(u){const wt=gt(u)?u.call(n):u;Reflect.ownKeys(wt).forEach(Et=>{On(Et,wt[Et])})}d&&Zc(d,e,"c");function Wt(wt,Et){pt(Et)?Et.forEach(Le=>wt(Le.bind(n))):Et&&wt(Et.bind(n))}if(Wt(Ag,m),Wt(Ee,g),Wt(Rg,y),Wt(Cg,C),Wt(Tg,N),Wt(bg,F),Wt(Dg,E),Wt(kg,vt),Wt(Pg,I),Wt(Sg,z),Wt(If,q),Wt(xg,b),pt(A))if(A.length){const wt=e.exposed||(e.exposed={});A.forEach(Et=>{Object.defineProperty(wt,Et,{get:()=>n[Et],set:Le=>n[Et]=Le})})}else e.exposed||(e.exposed={});_t&&e.render===on&&(e.render=_t),R!=null&&(e.inheritAttrs=R),S&&(e.components=S),T&&(e.directives=T),b&&wf(e)}function Fg(e,t,n=on){pt(e)&&(e=Ta(e));for(const r in e){const s=e[r];let o;qt(s)?"default"in s?o=Ke(s.from||r,s.default,!0):o=Ke(s.from||r):o=Ke(s),we(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[r]=o}}function Zc(e,t,n){cn(pt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Af(e,t,n,r){let s=r.includes(".")?Ff(n,r):()=>n[r];if(Jt(e)){const o=t[e];gt(o)&&Nn(s,o)}else if(gt(e))Nn(s,e.bind(n));else if(qt(e))if(pt(e))e.forEach(o=>Af(o,t,n,r));else{const o=gt(e.handler)?e.handler.bind(n):t[e.handler];gt(o)&&Nn(s,o,e)}}function dl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,c=o.get(t);let u;return c?u=c:!s.length&&!n&&!r?u=t:(u={},s.length&&s.forEach(f=>qi(u,f,l,!0)),qi(u,t,l)),qt(t)&&o.set(t,u),u}function qi(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&qi(e,o,n,!0),s&&s.forEach(l=>qi(e,l,n,!0));for(const l in t)if(!(r&&l==="expose")){const c=$g[l]||n&&n[l];e[l]=c?c(e[l],t[l]):t[l]}return e}const $g={data:tu,props:eu,emits:eu,methods:bs,computed:bs,beforeCreate:Ce,created:Ce,beforeMount:Ce,mounted:Ce,beforeUpdate:Ce,updated:Ce,beforeDestroy:Ce,beforeUnmount:Ce,destroyed:Ce,unmounted:Ce,activated:Ce,deactivated:Ce,errorCaptured:Ce,serverPrefetch:Ce,components:bs,directives:bs,watch:Ug,provide:tu,inject:jg};function tu(e,t){return t?e?function(){return re(gt(e)?e.call(this,this):e,gt(t)?t.call(this,this):t)}:t:e}function jg(e,t){return bs(Ta(e),Ta(t))}function Ta(e){if(pt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ce(e,t){return e?[...new Set([].concat(e,t))]:t}function bs(e,t){return e?re(Object.create(null),e,t):t}function eu(e,t){return e?pt(e)&&pt(t)?[...new Set([...e,...t])]:re(Object.create(null),Jc(e),Jc(t??{})):t}function Ug(e,t){if(!e)return t;if(!t)return e;const n=re(Object.create(null),e);for(const r in t)n[r]=Ce(e[r],t[r]);return n}function Rf(){return{app:null,config:{isNativeTag:Dm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bg=0;function qg(e,t){return function(r,s=null){gt(r)||(r=re({},r)),s!=null&&!qt(s)&&(s=null);const o=Rf(),l=new WeakSet,c=[];let u=!1;const f=o.app={_uid:Bg++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:I_,get config(){return o.config},set config(d){},use(d,...m){return l.has(d)||(d&&gt(d.install)?(l.add(d),d.install(f,...m)):gt(d)&&(l.add(d),d(f,...m))),f},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),f},component(d,m){return m?(o.components[d]=m,f):o.components[d]},directive(d,m){return m?(o.directives[d]=m,f):o.directives[d]},mount(d,m,g){if(!u){const y=f._ceVNode||ft(r,s);return y.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),m&&t?t(y,d):e(y,d,g),u=!0,f._container=d,d.__vue_app__=f,ho(y.component)}},onUnmount(d){c.push(d)},unmount(){u&&(cn(c,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(d,m){return o.provides[d]=m,f},runWithContext(d){const m=$r;$r=f;try{return d()}finally{$r=m}}};return f}}let $r=null;function On(e,t){if(ce){let n=ce.provides;const r=ce.parent&&ce.parent.provides;r===n&&(n=ce.provides=Object.create(r)),n[e]=t}}function Ke(e,t,n=!1){const r=ce||Oe;if(r||$r){const s=$r?$r._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&gt(t)?t.call(r&&r.proxy):t}}const Cf={},Sf=()=>Object.create(Cf),xf=e=>Object.getPrototypeOf(e)===Cf;function Hg(e,t,n,r=!1){const s={},o=Sf();e.propsDefaults=Object.create(null),Pf(e,t,s,o);for(const l in e.propsOptions[0])l in s||(s[l]=void 0);n?e.props=r?s:hf(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function zg(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:l}}=e,c=Pt(s),[u]=e.propsOptions;let f=!1;if((r||l>0)&&!(l&16)){if(l&8){const d=e.vnode.dynamicProps;for(let m=0;m<d.length;m++){let g=d[m];if(co(e.emitsOptions,g))continue;const y=t[g];if(u)if(kt(o,g))y!==o[g]&&(o[g]=y,f=!0);else{const C=Ge(g);s[C]=ba(u,c,C,y,e,!1)}else y!==o[g]&&(o[g]=y,f=!0)}}}else{Pf(e,t,s,o)&&(f=!0);let d;for(const m in c)(!t||!kt(t,m)&&((d=_r(m))===m||!kt(t,d)))&&(u?n&&(n[m]!==void 0||n[d]!==void 0)&&(s[m]=ba(u,c,m,void 0,e,!0)):delete s[m]);if(o!==c)for(const m in o)(!t||!kt(t,m))&&(delete o[m],f=!0)}f&&_n(e.attrs,"set","")}function Pf(e,t,n,r){const[s,o]=e.propsOptions;let l=!1,c;if(t)for(let u in t){if(Ss(u))continue;const f=t[u];let d;s&&kt(s,d=Ge(u))?!o||!o.includes(d)?n[d]=f:(c||(c={}))[d]=f:co(e.emitsOptions,u)||(!(u in r)||f!==r[u])&&(r[u]=f,l=!0)}if(o){const u=Pt(n),f=c||Lt;for(let d=0;d<o.length;d++){const m=o[d];n[m]=ba(s,u,m,f[m],e,!kt(f,m))}}return l}function ba(e,t,n,r,s,o){const l=e[n];if(l!=null){const c=kt(l,"default");if(c&&r===void 0){const u=l.default;if(l.type!==Function&&!l.skipFactory&&gt(u)){const{propsDefaults:f}=s;if(n in f)r=f[n];else{const d=ri(s);r=f[n]=u.call(null,t),d()}}else r=u;s.ce&&s.ce._setProp(n,r)}l[0]&&(o&&!c?r=!1:l[1]&&(r===""||r===_r(n))&&(r=!0))}return r}const Kg=new WeakMap;function kf(e,t,n=!1){const r=n?Kg:t.propsCache,s=r.get(e);if(s)return s;const o=e.props,l={},c=[];let u=!1;if(!gt(e)){const d=m=>{u=!0;const[g,y]=kf(m,t,!0);re(l,g),y&&c.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!u)return qt(e)&&r.set(e,Nr),Nr;if(pt(o))for(let d=0;d<o.length;d++){const m=Ge(o[d]);nu(m)&&(l[m]=Lt)}else if(o)for(const d in o){const m=Ge(d);if(nu(m)){const g=o[d],y=l[m]=pt(g)||gt(g)?{type:g}:re({},g),C=y.type;let N=!1,F=!0;if(pt(C))for(let W=0;W<C.length;++W){const z=C[W],Q=gt(z)&&z.name;if(Q==="Boolean"){N=!0;break}else Q==="String"&&(F=!1)}else N=gt(C)&&C.name==="Boolean";y[0]=N,y[1]=F,(N||kt(y,"default"))&&c.push(m)}}const f=[l,c];return qt(e)&&r.set(e,f),f}function nu(e){return e[0]!=="$"&&!Ss(e)}const Df=e=>e[0]==="_"||e==="$stable",pl=e=>pt(e)?e.map(rn):[rn(e)],Gg=(e,t,n)=>{if(t._n)return t;const r=er((...s)=>pl(t(...s)),n);return r._c=!1,r},Vf=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Df(s))continue;const o=e[s];if(gt(o))t[s]=Gg(s,o,r);else if(o!=null){const l=pl(o);t[s]=()=>l}}},Of=(e,t)=>{const n=pl(t);e.slots.default=()=>n},Nf=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},Wg=(e,t,n)=>{const r=e.slots=Sf();if(e.vnode.shapeFlag&32){const s=t._;s?(Nf(r,t,n),n&&Hh(r,"_",s,!0)):Vf(t,r)}else t&&Of(e,t)},Qg=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,l=Lt;if(r.shapeFlag&32){const c=t._;c?n&&c===1?o=!1:Nf(s,t,n):(o=!t.$stable,Vf(t,s)),l=t}else t&&(Of(e,t),l={default:1});if(o)for(const c in s)!Df(c)&&l[c]==null&&delete s[c]},$e=u_;function Xg(e){return Yg(e)}function Yg(e,t){const n=io();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:l,createText:c,createComment:u,setText:f,setElementText:d,parentNode:m,nextSibling:g,setScopeId:y=on,insertStaticContent:C}=e,N=(v,w,D,$=null,M=null,j=null,Y=void 0,K=null,H=!!w.dynamicChildren)=>{if(v===w)return;v&&!ys(v,w)&&($=L(v),Ht(v,M,j,!0),v=null),w.patchFlag===-2&&(H=!1,w.dynamicChildren=null);const{type:B,ref:ct,shapeFlag:Z}=w;switch(B){case uo:F(v,w,D,$);break;case hr:W(v,w,D,$);break;case Vi:v==null&&z(w,D,$,Y);break;case dt:S(v,w,D,$,M,j,Y,K,H);break;default:Z&1?_t(v,w,D,$,M,j,Y,K,H):Z&6?T(v,w,D,$,M,j,Y,K,H):(Z&64||Z&128)&&B.process(v,w,D,$,M,j,Y,K,H,rt)}ct!=null&&M&&va(ct,v&&v.ref,j,w||v,!w)},F=(v,w,D,$)=>{if(v==null)r(w.el=c(w.children),D,$);else{const M=w.el=v.el;w.children!==v.children&&f(M,w.children)}},W=(v,w,D,$)=>{v==null?r(w.el=u(w.children||""),D,$):w.el=v.el},z=(v,w,D,$)=>{[v.el,v.anchor]=C(v.children,w,D,$,v.el,v.anchor)},Q=({el:v,anchor:w},D,$)=>{let M;for(;v&&v!==w;)M=g(v),r(v,D,$),v=M;r(w,D,$)},q=({el:v,anchor:w})=>{let D;for(;v&&v!==w;)D=g(v),s(v),v=D;s(w)},_t=(v,w,D,$,M,j,Y,K,H)=>{w.type==="svg"?Y="svg":w.type==="math"&&(Y="mathml"),v==null?vt(w,D,$,M,j,Y,K,H):b(v,w,M,j,Y,K,H)},vt=(v,w,D,$,M,j,Y,K)=>{let H,B;const{props:ct,shapeFlag:Z,transition:at,dirs:st}=v;if(H=v.el=l(v.type,j,ct&&ct.is,ct),Z&8?d(H,v.children):Z&16&&E(v.children,H,null,$,M,Go(v,j),Y,K),st&&Yn(v,null,$,"created"),I(H,v,v.scopeId,Y,$),ct){for(const xt in ct)xt!=="value"&&!Ss(xt)&&o(H,xt,null,ct[xt],j,$);"value"in ct&&o(H,"value",null,ct.value,j),(B=ct.onVnodeBeforeMount)&&en(B,$,v)}st&&Yn(v,null,$,"beforeMount");const ht=Jg(M,at);ht&&at.beforeEnter(H),r(H,w,D),((B=ct&&ct.onVnodeMounted)||ht||st)&&$e(()=>{B&&en(B,$,v),ht&&at.enter(H),st&&Yn(v,null,$,"mounted")},M)},I=(v,w,D,$,M)=>{if(D&&y(v,D),$)for(let j=0;j<$.length;j++)y(v,$[j]);if(M){let j=M.subTree;if(w===j||jf(j.type)&&(j.ssContent===w||j.ssFallback===w)){const Y=M.vnode;I(v,Y,Y.scopeId,Y.slotScopeIds,M.parent)}}},E=(v,w,D,$,M,j,Y,K,H=0)=>{for(let B=H;B<v.length;B++){const ct=v[B]=K?xn(v[B]):rn(v[B]);N(null,ct,w,D,$,M,j,Y,K)}},b=(v,w,D,$,M,j,Y)=>{const K=w.el=v.el;let{patchFlag:H,dynamicChildren:B,dirs:ct}=w;H|=v.patchFlag&16;const Z=v.props||Lt,at=w.props||Lt;let st;if(D&&Jn(D,!1),(st=at.onVnodeBeforeUpdate)&&en(st,D,w,v),ct&&Yn(w,v,D,"beforeUpdate"),D&&Jn(D,!0),(Z.innerHTML&&at.innerHTML==null||Z.textContent&&at.textContent==null)&&d(K,""),B?A(v.dynamicChildren,B,K,D,$,Go(w,M),j):Y||Et(v,w,K,null,D,$,Go(w,M),j,!1),H>0){if(H&16)R(K,Z,at,D,M);else if(H&2&&Z.class!==at.class&&o(K,"class",null,at.class,M),H&4&&o(K,"style",Z.style,at.style,M),H&8){const ht=w.dynamicProps;for(let xt=0;xt<ht.length;xt++){const Ct=ht[xt],he=Z[Ct],te=at[Ct];(te!==he||Ct==="value")&&o(K,Ct,he,te,M,D)}}H&1&&v.children!==w.children&&d(K,w.children)}else!Y&&B==null&&R(K,Z,at,D,M);((st=at.onVnodeUpdated)||ct)&&$e(()=>{st&&en(st,D,w,v),ct&&Yn(w,v,D,"updated")},$)},A=(v,w,D,$,M,j,Y)=>{for(let K=0;K<w.length;K++){const H=v[K],B=w[K],ct=H.el&&(H.type===dt||!ys(H,B)||H.shapeFlag&70)?m(H.el):D;N(H,B,ct,null,$,M,j,Y,!0)}},R=(v,w,D,$,M)=>{if(w!==D){if(w!==Lt)for(const j in w)!Ss(j)&&!(j in D)&&o(v,j,w[j],null,M,$);for(const j in D){if(Ss(j))continue;const Y=D[j],K=w[j];Y!==K&&j!=="value"&&o(v,j,K,Y,M,$)}"value"in D&&o(v,"value",w.value,D.value,M)}},S=(v,w,D,$,M,j,Y,K,H)=>{const B=w.el=v?v.el:c(""),ct=w.anchor=v?v.anchor:c("");let{patchFlag:Z,dynamicChildren:at,slotScopeIds:st}=w;st&&(K=K?K.concat(st):st),v==null?(r(B,D,$),r(ct,D,$),E(w.children||[],D,ct,M,j,Y,K,H)):Z>0&&Z&64&&at&&v.dynamicChildren?(A(v.dynamicChildren,at,D,M,j,Y,K),(w.key!=null||M&&w===M.subTree)&&Mf(v,w,!0)):Et(v,w,D,ct,M,j,Y,K,H)},T=(v,w,D,$,M,j,Y,K,H)=>{w.slotScopeIds=K,v==null?w.shapeFlag&512?M.ctx.activate(w,D,$,Y,H):be(w,D,$,M,j,Y,H):Be(v,w,H)},be=(v,w,D,$,M,j,Y)=>{const K=v.component=__(v,$,M);if(Tf(v)&&(K.ctx.renderer=rt),y_(K,!1,Y),K.asyncDep){if(M&&M.registerDep(K,Wt,Y),!v.el){const H=K.subTree=ft(hr);W(null,H,w,D)}}else Wt(K,v,w,D,M,j,Y)},Be=(v,w,D)=>{const $=w.component=v.component;if(l_(v,w,D))if($.asyncDep&&!$.asyncResolved){wt($,w,D);return}else $.next=w,$.update();else w.el=v.el,$.vnode=w},Wt=(v,w,D,$,M,j,Y)=>{const K=()=>{if(v.isMounted){let{next:Z,bu:at,u:st,parent:ht,vnode:xt}=v;{const fe=Lf(v);if(fe){Z&&(Z.el=xt.el,wt(v,Z,Y)),fe.asyncDep.then(()=>{v.isUnmounted||K()});return}}let Ct=Z,he;Jn(v,!1),Z?(Z.el=xt.el,wt(v,Z,Y)):Z=xt,at&&Uo(at),(he=Z.props&&Z.props.onVnodeBeforeUpdate)&&en(he,ht,Z,xt),Jn(v,!0);const te=Wo(v),oe=v.subTree;v.subTree=te,N(oe,te,m(oe.el),L(oe),v,M,j),Z.el=te.el,Ct===null&&c_(v,te.el),st&&$e(st,M),(he=Z.props&&Z.props.onVnodeUpdated)&&$e(()=>en(he,ht,Z,xt),M)}else{let Z;const{el:at,props:st}=w,{bm:ht,m:xt,parent:Ct,root:he,type:te}=v,oe=ks(w);if(Jn(v,!1),ht&&Uo(ht),!oe&&(Z=st&&st.onVnodeBeforeMount)&&en(Z,Ct,w),Jn(v,!0),at&&Nt){const fe=()=>{v.subTree=Wo(v),Nt(at,v.subTree,v,M,null)};oe&&te.__asyncHydrate?te.__asyncHydrate(at,v,fe):fe()}else{he.ce&&he.ce._injectChildStyle(te);const fe=v.subTree=Wo(v);N(null,fe,D,$,v,M,j),w.el=fe.el}if(xt&&$e(xt,M),!oe&&(Z=st&&st.onVnodeMounted)){const fe=w;$e(()=>en(Z,Ct,fe),M)}(w.shapeFlag&256||Ct&&ks(Ct.vnode)&&Ct.vnode.shapeFlag&256)&&v.a&&$e(v.a,M),v.isMounted=!0,w=D=$=null}};v.scope.on();const H=v.effect=new Xh(K);v.scope.off();const B=v.update=H.run.bind(H),ct=v.job=H.runIfDirty.bind(H);ct.i=v,ct.id=v.uid,H.scheduler=()=>hl(ct),Jn(v,!0),B()},wt=(v,w,D)=>{w.component=v;const $=v.vnode.props;v.vnode=w,v.next=null,zg(v,w.props,$,D),Qg(v,w.children,D),zn(),Qc(v),Kn()},Et=(v,w,D,$,M,j,Y,K,H=!1)=>{const B=v&&v.children,ct=v?v.shapeFlag:0,Z=w.children,{patchFlag:at,shapeFlag:st}=w;if(at>0){if(at&128){We(B,Z,D,$,M,j,Y,K,H);return}else if(at&256){Le(B,Z,D,$,M,j,Y,K,H);return}}st&8?(ct&16&&Ve(B,M,j),Z!==B&&d(D,Z)):ct&16?st&16?We(B,Z,D,$,M,j,Y,K,H):Ve(B,M,j,!0):(ct&8&&d(D,""),st&16&&E(Z,D,$,M,j,Y,K,H))},Le=(v,w,D,$,M,j,Y,K,H)=>{v=v||Nr,w=w||Nr;const B=v.length,ct=w.length,Z=Math.min(B,ct);let at;for(at=0;at<Z;at++){const st=w[at]=H?xn(w[at]):rn(w[at]);N(v[at],st,D,null,M,j,Y,K,H)}B>ct?Ve(v,M,j,!0,!1,Z):E(w,D,$,M,j,Y,K,H,Z)},We=(v,w,D,$,M,j,Y,K,H)=>{let B=0;const ct=w.length;let Z=v.length-1,at=ct-1;for(;B<=Z&&B<=at;){const st=v[B],ht=w[B]=H?xn(w[B]):rn(w[B]);if(ys(st,ht))N(st,ht,D,null,M,j,Y,K,H);else break;B++}for(;B<=Z&&B<=at;){const st=v[Z],ht=w[at]=H?xn(w[at]):rn(w[at]);if(ys(st,ht))N(st,ht,D,null,M,j,Y,K,H);else break;Z--,at--}if(B>Z){if(B<=at){const st=at+1,ht=st<ct?w[st].el:$;for(;B<=at;)N(null,w[B]=H?xn(w[B]):rn(w[B]),D,ht,M,j,Y,K,H),B++}}else if(B>at)for(;B<=Z;)Ht(v[B],M,j,!0),B++;else{const st=B,ht=B,xt=new Map;for(B=ht;B<=at;B++){const Ie=w[B]=H?xn(w[B]):rn(w[B]);Ie.key!=null&&xt.set(Ie.key,B)}let Ct,he=0;const te=at-ht+1;let oe=!1,fe=0;const bn=new Array(te);for(B=0;B<te;B++)bn[B]=0;for(B=st;B<=Z;B++){const Ie=v[B];if(he>=te){Ht(Ie,M,j,!0);continue}let He;if(Ie.key!=null)He=xt.get(Ie.key);else for(Ct=ht;Ct<=at;Ct++)if(bn[Ct-ht]===0&&ys(Ie,w[Ct])){He=Ct;break}He===void 0?Ht(Ie,M,j,!0):(bn[He-ht]=B+1,He>=fe?fe=He:oe=!0,N(Ie,w[He],D,null,M,j,Y,K,H),he++)}const wr=oe?Zg(bn):Nr;for(Ct=wr.length-1,B=te-1;B>=0;B--){const Ie=ht+B,He=w[Ie],Tr=Ie+1<ct?w[Ie+1].el:$;bn[B]===0?N(null,He,D,Tr,M,j,Y,K,H):oe&&(Ct<0||B!==wr[Ct]?qe(He,D,Tr,2):Ct--)}}},qe=(v,w,D,$,M=null)=>{const{el:j,type:Y,transition:K,children:H,shapeFlag:B}=v;if(B&6){qe(v.component.subTree,w,D,$);return}if(B&128){v.suspense.move(w,D,$);return}if(B&64){Y.move(v,w,D,rt);return}if(Y===dt){r(j,w,D);for(let Z=0;Z<H.length;Z++)qe(H[Z],w,D,$);r(v.anchor,w,D);return}if(Y===Vi){Q(v,w,D);return}if($!==2&&B&1&&K)if($===0)K.beforeEnter(j),r(j,w,D),$e(()=>K.enter(j),M);else{const{leave:Z,delayLeave:at,afterLeave:st}=K,ht=()=>r(j,w,D),xt=()=>{Z(j,()=>{ht(),st&&st()})};at?at(j,ht,xt):xt()}else r(j,w,D)},Ht=(v,w,D,$=!1,M=!1)=>{const{type:j,props:Y,ref:K,children:H,dynamicChildren:B,shapeFlag:ct,patchFlag:Z,dirs:at,cacheIndex:st}=v;if(Z===-2&&(M=!1),K!=null&&va(K,null,D,v,!0),st!=null&&(w.renderCache[st]=void 0),ct&256){w.ctx.deactivate(v);return}const ht=ct&1&&at,xt=!ks(v);let Ct;if(xt&&(Ct=Y&&Y.onVnodeBeforeUnmount)&&en(Ct,w,v),ct&6)tn(v.component,D,$);else{if(ct&128){v.suspense.unmount(D,$);return}ht&&Yn(v,null,w,"beforeUnmount"),ct&64?v.type.remove(v,w,D,rt,$):B&&!B.hasOnce&&(j!==dt||Z>0&&Z&64)?Ve(B,w,D,!1,!0):(j===dt&&Z&384||!M&&ct&16)&&Ve(H,w,D),$&&zt(v)}(xt&&(Ct=Y&&Y.onVnodeUnmounted)||ht)&&$e(()=>{Ct&&en(Ct,w,v),ht&&Yn(v,null,w,"unmounted")},D)},zt=v=>{const{type:w,el:D,anchor:$,transition:M}=v;if(w===dt){Tn(D,$);return}if(w===Vi){q(v);return}const j=()=>{s(D),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(v.shapeFlag&1&&M&&!M.persisted){const{leave:Y,delayLeave:K}=M,H=()=>Y(D,j);K?K(v.el,j,H):H()}else j()},Tn=(v,w)=>{let D;for(;v!==w;)D=g(v),s(v),v=D;s(w)},tn=(v,w,D)=>{const{bum:$,scope:M,job:j,subTree:Y,um:K,m:H,a:B}=v;ru(H),ru(B),$&&Uo($),M.stop(),j&&(j.flags|=8,Ht(Y,v,w,D)),K&&$e(K,w),$e(()=>{v.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},Ve=(v,w,D,$=!1,M=!1,j=0)=>{for(let Y=j;Y<v.length;Y++)Ht(v[Y],w,D,$,M)},L=v=>{if(v.shapeFlag&6)return L(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const w=g(v.anchor||v.el),D=w&&w[Eg];return D?g(D):w};let tt=!1;const J=(v,w,D)=>{v==null?w._vnode&&Ht(w._vnode,null,null,!0):N(w._vnode||null,v,w,null,null,null,D),w._vnode=v,tt||(tt=!0,Qc(),_f(),tt=!1)},rt={p:N,um:Ht,m:qe,r:zt,mt:be,mc:E,pc:Et,pbc:A,n:L,o:e};let Tt,Nt;return{render:J,hydrate:Tt,createApp:qg(J,Tt)}}function Go({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Jn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Jg(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Mf(e,t,n=!1){const r=e.children,s=t.children;if(pt(r)&&pt(s))for(let o=0;o<r.length;o++){const l=r[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=xn(s[o]),c.el=l.el),!n&&c.patchFlag!==-2&&Mf(l,c)),c.type===uo&&(c.el=l.el)}}function Zg(e){const t=e.slice(),n=[0];let r,s,o,l,c;const u=e.length;for(r=0;r<u;r++){const f=e[r];if(f!==0){if(s=n[n.length-1],e[s]<f){t[r]=s,n.push(r);continue}for(o=0,l=n.length-1;o<l;)c=o+l>>1,e[n[c]]<f?o=c+1:l=c;f<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=t[l];return n}function Lf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Lf(t)}function ru(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const t_=Symbol.for("v-scx"),e_=()=>Ke(t_);function n_(e,t){return ml(e,null,t)}function Nn(e,t,n){return ml(e,t,n)}function ml(e,t,n=Lt){const{immediate:r,deep:s,flush:o,once:l}=n,c=re({},n),u=t&&r||!t&&o!=="post";let f;if(zs){if(o==="sync"){const y=e_();f=y.__watcherHandles||(y.__watcherHandles=[])}else if(!u){const y=()=>{};return y.stop=on,y.resume=on,y.pause=on,y}}const d=ce;c.call=(y,C,N)=>cn(y,d,C,N);let m=!1;o==="post"?c.scheduler=y=>{$e(y,d&&d.suspense)}:o!=="sync"&&(m=!0,c.scheduler=(y,C)=>{C?y():hl(y)}),c.augmentJob=y=>{t&&(y.flags|=4),m&&(y.flags|=2,d&&(y.id=d.uid,y.i=d))};const g=gg(e,t,c);return zs&&(f?f.push(g):u&&g()),g}function r_(e,t,n){const r=this.proxy,s=Jt(e)?e.includes(".")?Ff(r,e):()=>r[e]:e.bind(r,r);let o;gt(t)?o=t:(o=t.handler,n=t);const l=ri(this),c=ml(s,o.bind(r),n);return l(),c}function Ff(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const s_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ge(t)}Modifiers`]||e[`${_r(t)}Modifiers`];function i_(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Lt;let s=n;const o=t.startsWith("update:"),l=o&&s_(r,t.slice(7));l&&(l.trim&&(s=n.map(d=>Jt(d)?d.trim():d)),l.number&&(s=n.map(Lm)));let c,u=r[c=jo(t)]||r[c=jo(Ge(t))];!u&&o&&(u=r[c=jo(_r(t))]),u&&cn(u,e,6,s);const f=r[c+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,cn(f,e,6,s)}}function $f(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const o=e.emits;let l={},c=!1;if(!gt(e)){const u=f=>{const d=$f(f,t,!0);d&&(c=!0,re(l,d))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!c?(qt(e)&&r.set(e,null),null):(pt(o)?o.forEach(u=>l[u]=null):re(l,o),qt(e)&&r.set(e,l),l)}function co(e,t){return!e||!eo(t)?!1:(t=t.slice(2).replace(/Once$/,""),kt(e,t[0].toLowerCase()+t.slice(1))||kt(e,_r(t))||kt(e,t))}function Wo(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[o],slots:l,attrs:c,emit:u,render:f,renderCache:d,props:m,data:g,setupState:y,ctx:C,inheritAttrs:N}=e,F=Bi(e);let W,z;try{if(n.shapeFlag&4){const q=s||r,_t=q;W=rn(f.call(_t,q,d,m,y,g,C)),z=c}else{const q=t;W=rn(q.length>1?q(m,{attrs:c,slots:l,emit:u}):q(m,null)),z=t.props?c:o_(c)}}catch(q){Vs.length=0,ao(q,e,1),W=ft(hr)}let Q=W;if(z&&N!==!1){const q=Object.keys(z),{shapeFlag:_t}=Q;q.length&&_t&7&&(o&&q.some(tl)&&(z=a_(z,o)),Q=qr(Q,z,!1,!0))}return n.dirs&&(Q=qr(Q,null,!1,!0),Q.dirs=Q.dirs?Q.dirs.concat(n.dirs):n.dirs),n.transition&&fl(Q,n.transition),W=Q,Bi(F),W}const o_=e=>{let t;for(const n in e)(n==="class"||n==="style"||eo(n))&&((t||(t={}))[n]=e[n]);return t},a_=(e,t)=>{const n={};for(const r in e)(!tl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function l_(e,t,n){const{props:r,children:s,component:o}=e,{props:l,children:c,patchFlag:u}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?su(r,l,f):!!l;if(u&8){const d=t.dynamicProps;for(let m=0;m<d.length;m++){const g=d[m];if(l[g]!==r[g]&&!co(f,g))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===l?!1:r?l?su(r,l,f):!0:!!l;return!1}function su(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(t[o]!==e[o]&&!co(n,o))return!0}return!1}function c_({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const jf=e=>e.__isSuspense;function u_(e,t){t&&t.pendingBranch?pt(e)?t.effects.push(...e):t.effects.push(e):vg(e)}const dt=Symbol.for("v-fgt"),uo=Symbol.for("v-txt"),hr=Symbol.for("v-cmt"),Vi=Symbol.for("v-stc"),Vs=[];let je=null;function k(e=!1){Vs.push(je=e?null:[])}function h_(){Vs.pop(),je=Vs[Vs.length-1]||null}let Hs=1;function iu(e){Hs+=e,e<0&&je&&(je.hasOnce=!0)}function Uf(e){return e.dynamicChildren=Hs>0?je||Nr:null,h_(),Hs>0&&je&&je.push(e),e}function V(e,t,n,r,s,o){return Uf(P(e,t,n,r,s,o,!0))}function Ye(e,t,n,r,s){return Uf(ft(e,t,n,r,s,!0))}function Hi(e){return e?e.__v_isVNode===!0:!1}function ys(e,t){return e.type===t.type&&e.key===t.key}const Bf=({key:e})=>e??null,Oi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Jt(e)||we(e)||gt(e)?{i:Oe,r:e,k:t,f:!!n}:e:null);function P(e,t=null,n=null,r=0,s=null,o=e===dt?0:1,l=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Bf(t),ref:t&&Oi(t),scopeId:vf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Oe};return c?(gl(u,n),o&128&&e.normalize(u)):n&&(u.shapeFlag|=Jt(n)?8:16),Hs>0&&!l&&je&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&je.push(u),u}const ft=f_;function f_(e,t=null,n=null,r=0,s=null,o=!1){if((!e||e===Og)&&(e=hr),Hi(e)){const c=qr(e,t,!0);return n&&gl(c,n),Hs>0&&!o&&je&&(c.shapeFlag&6?je[je.indexOf(e)]=c:je.push(c)),c.patchFlag=-2,c}if(b_(e)&&(e=e.__vccOpts),t){t=d_(t);let{class:c,style:u}=t;c&&!Jt(c)&&(t.class=ne(c)),qt(u)&&(cl(u)&&!pt(u)&&(u=re({},u)),t.style=xe(u))}const l=Jt(e)?1:jf(e)?128:wg(e)?64:qt(e)?4:gt(e)?2:0;return P(e,t,n,r,s,l,o,!0)}function d_(e){return e?cl(e)||xf(e)?re({},e):e:null}function qr(e,t,n=!1,r=!1){const{props:s,ref:o,patchFlag:l,children:c,transition:u}=e,f=t?p_(s||{},t):s,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Bf(f),ref:t&&t.ref?n&&o?pt(o)?o.concat(Oi(t)):[o,Oi(t)]:Oi(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==dt?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qr(e.ssContent),ssFallback:e.ssFallback&&qr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&fl(d,u.clone(d)),d}function Os(e=" ",t=0){return ft(uo,null,e,t)}function Ri(e,t){const n=ft(Vi,null,e);return n.staticCount=t,n}function ot(e="",t=!1){return t?(k(),Ye(hr,null,e)):ft(hr,null,e)}function rn(e){return e==null||typeof e=="boolean"?ft(hr):pt(e)?ft(dt,null,e.slice()):Hi(e)?xn(e):ft(uo,null,String(e))}function xn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qr(e)}function gl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(pt(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),gl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!xf(t)?t._ctx=Oe:s===3&&Oe&&(Oe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else gt(t)?(t={default:t,_ctx:Oe},n=32):(t=String(t),r&64?(n=16,t=[Os(t)]):n=8);e.children=t,e.shapeFlag|=n}function p_(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=ne([t.class,r.class]));else if(s==="style")t.style=xe([t.style,r.style]);else if(eo(s)){const o=t[s],l=r[s];l&&o!==l&&!(pt(o)&&o.includes(l))&&(t[s]=o?[].concat(o,l):l)}else s!==""&&(t[s]=r[s])}return t}function en(e,t,n,r=null){cn(e,t,7,[n,r])}const m_=Rf();let g_=0;function __(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||m_,o={uid:g_++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Wh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kf(r,s),emitsOptions:$f(r,s),emit:null,emitted:null,propsDefaults:Lt,inheritAttrs:r.inheritAttrs,ctx:Lt,data:Lt,props:Lt,attrs:Lt,slots:Lt,refs:Lt,setupState:Lt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=i_.bind(null,o),e.ce&&e.ce(o),o}let ce=null;const qf=()=>ce||Oe;let zi,Ia;{const e=io(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),o=>{s.length>1?s.forEach(l=>l(o)):s[0](o)}};zi=t("__VUE_INSTANCE_SETTERS__",n=>ce=n),Ia=t("__VUE_SSR_SETTERS__",n=>zs=n)}const ri=e=>{const t=ce;return zi(e),e.scope.on(),()=>{e.scope.off(),zi(t)}},ou=()=>{ce&&ce.scope.off(),zi(null)};function Hf(e){return e.vnode.shapeFlag&4}let zs=!1;function y_(e,t=!1,n=!1){t&&Ia(t);const{props:r,children:s}=e.vnode,o=Hf(e);Hg(e,r,o,t),Wg(e,s,n);const l=o?v_(e,t):void 0;return t&&Ia(!1),l}function v_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Mg);const{setup:r}=n;if(r){zn();const s=e.setupContext=r.length>1?w_(e):null,o=ri(e),l=ni(r,e,0,[e.props,s]),c=Uh(l);if(Kn(),o(),(c||e.sp)&&!ks(e)&&wf(e),c){if(l.then(ou,ou),t)return l.then(u=>{au(e,u,t)}).catch(u=>{ao(u,e,0)});e.asyncDep=l}else au(e,l,t)}else zf(e,t)}function au(e,t,n){gt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:qt(t)&&(e.setupState=pf(t)),zf(e,n)}let lu;function zf(e,t,n){const r=e.type;if(!e.render){if(!t&&lu&&!r.render){const s=r.template||dl(e).template;if(s){const{isCustomElement:o,compilerOptions:l}=e.appContext.config,{delimiters:c,compilerOptions:u}=r,f=re(re({isCustomElement:o,delimiters:c},l),u);r.render=lu(s,f)}}e.render=r.render||on}{const s=ri(e);zn();try{Lg(e)}finally{Kn(),s()}}}const E_={get(e,t){return _e(e,"get",""),e[t]}};function w_(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,E_),slots:e.slots,emit:e.emit,expose:t}}function ho(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(pf(En(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ds)return Ds[n](e)},has(t,n){return n in t||n in Ds}})):e.proxy}function T_(e,t=!0){return gt(e)?e.displayName||e.name:e.name||t&&e.__name}function b_(e){return gt(e)&&"__vccOpts"in e}const Ut=(e,t)=>pg(e,t,zs);function Kf(e,t,n){const r=arguments.length;return r===2?qt(t)&&!pt(t)?Hi(t)?ft(e,null,[t]):ft(e,t):ft(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Hi(n)&&(n=[n]),ft(e,t,n))}const I_="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Aa;const cu=typeof window<"u"&&window.trustedTypes;if(cu)try{Aa=cu.createPolicy("vue",{createHTML:e=>e})}catch{}const Gf=Aa?e=>Aa.createHTML(e):e=>e,A_="http://www.w3.org/2000/svg",R_="http://www.w3.org/1998/Math/MathML",gn=typeof document<"u"?document:null,uu=gn&&gn.createElement("template"),C_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?gn.createElementNS(A_,e):t==="mathml"?gn.createElementNS(R_,e):n?gn.createElement(e,{is:n}):gn.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>gn.createTextNode(e),createComment:e=>gn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>gn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,o){const l=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{uu.innerHTML=Gf(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const c=uu.content;if(r==="svg"||r==="mathml"){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}t.insertBefore(c,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},S_=Symbol("_vtc");function x_(e,t,n){const r=e[S_];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ki=Symbol("_vod"),Wf=Symbol("_vsh"),hu={beforeMount(e,{value:t},{transition:n}){e[Ki]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):vs(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),vs(e,!0),r.enter(e)):r.leave(e,()=>{vs(e,!1)}):vs(e,t))},beforeUnmount(e,{value:t}){vs(e,t)}};function vs(e,t){e.style.display=t?e[Ki]:"none",e[Wf]=!t}const P_=Symbol(""),k_=/(^|;)\s*display\s*:/;function D_(e,t,n){const r=e.style,s=Jt(n);let o=!1;if(n&&!s){if(t)if(Jt(t))for(const l of t.split(";")){const c=l.slice(0,l.indexOf(":")).trim();n[c]==null&&Ni(r,c,"")}else for(const l in t)n[l]==null&&Ni(r,l,"");for(const l in n)l==="display"&&(o=!0),Ni(r,l,n[l])}else if(s){if(t!==n){const l=r[P_];l&&(n+=";"+l),r.cssText=n,o=k_.test(n)}}else t&&e.removeAttribute("style");Ki in e&&(e[Ki]=o?r.display:"",e[Wf]&&(r.display="none"))}const fu=/\s*!important$/;function Ni(e,t,n){if(pt(n))n.forEach(r=>Ni(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=V_(e,t);fu.test(n)?e.setProperty(_r(r),n.replace(fu,""),"important"):e[r]=n}}const du=["Webkit","Moz","ms"],Qo={};function V_(e,t){const n=Qo[t];if(n)return n;let r=Ge(t);if(r!=="filter"&&r in e)return Qo[t]=r;r=so(r);for(let s=0;s<du.length;s++){const o=du[s]+r;if(o in e)return Qo[t]=o}return t}const pu="http://www.w3.org/1999/xlink";function mu(e,t,n,r,s,o=qm(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(pu,t.slice(6,t.length)):e.setAttributeNS(pu,t,n):n==null||o&&!zh(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Hn(n)?String(n):n)}function gu(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Gf(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const c=o==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(c!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=zh(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(s||t)}function O_(e,t,n,r){e.addEventListener(t,n,r)}function N_(e,t,n,r){e.removeEventListener(t,n,r)}const _u=Symbol("_vei");function M_(e,t,n,r,s=null){const o=e[_u]||(e[_u]={}),l=o[t];if(r&&l)l.value=r;else{const[c,u]=L_(t);if(r){const f=o[t]=j_(r,s);O_(e,c,f,u)}else l&&(N_(e,c,l,u),o[t]=void 0)}}const yu=/(?:Once|Passive|Capture)$/;function L_(e){let t;if(yu.test(e)){t={};let r;for(;r=e.match(yu);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):_r(e.slice(2)),t]}let Xo=0;const F_=Promise.resolve(),$_=()=>Xo||(F_.then(()=>Xo=0),Xo=Date.now());function j_(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;cn(U_(r,n.value),t,5,[r])};return n.value=e,n.attached=$_(),n}function U_(e,t){if(pt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const vu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,B_=(e,t,n,r,s,o)=>{const l=s==="svg";t==="class"?x_(e,r,l):t==="style"?D_(e,n,r):eo(t)?tl(t)||M_(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):q_(e,t,r,l))?(gu(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&mu(e,t,r,l,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Jt(r))?gu(e,Ge(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),mu(e,t,r,l))};function q_(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&vu(t)&&gt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return vu(t)&&Jt(n)?!1:t in e}const H_=["ctrl","shift","alt","meta"],z_={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>H_.some(n=>e[`${n}Key`]&&!t.includes(n))},Eu=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...o)=>{for(let l=0;l<t.length;l++){const c=z_[t[l]];if(c&&c(s,t))return}return e(s,...o)})},K_=re({patchProp:B_},C_);let wu;function G_(){return wu||(wu=Xg(K_))}const W_=(...e)=>{const t=G_().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=X_(r);if(!s)return;const o=t._component;!gt(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const l=n(s,!1,Q_(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},t};function Q_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function X_(e){return Jt(e)?document.querySelector(e):e}function Y_(){return Qf().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Qf(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const J_=typeof Proxy=="function",Z_="devtools-plugin:setup",ty="plugin:settings:set";let Sr,Ra;function ey(){var e;return Sr!==void 0||(typeof window<"u"&&window.performance?(Sr=!0,Ra=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(Sr=!0,Ra=globalThis.perf_hooks.performance):Sr=!1),Sr}function ny(){return ey()?Ra.now():Date.now()}class ry{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const l in t.settings){const c=t.settings[l];r[l]=c.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},r);try{const l=localStorage.getItem(s),c=JSON.parse(l);Object.assign(o,c)}catch{}this.fallbacks={getSettings(){return o},setSettings(l){try{localStorage.setItem(s,JSON.stringify(l))}catch{}o=l},now(){return ny()}},n&&n.on(ty,(l,c)=>{l===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(l,c)=>this.target?this.target.on[c]:(...u)=>{this.onQueue.push({method:c,args:u})}}),this.proxiedTarget=new Proxy({},{get:(l,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...u)=>(this.targetQueue.push({method:c,args:u,resolve:()=>{}}),this.fallbacks[c](...u)):(...u)=>new Promise(f=>{this.targetQueue.push({method:c,args:u,resolve:f})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function sy(e,t){const n=e,r=Qf(),s=Y_(),o=J_&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))s.emit(Z_,e,t);else{const l=o?new ry(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:l}),l&&t(l.proxiedTarget)}}/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const kr=typeof document<"u";function iy(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Vt=Object.assign;function Yo(e,t){const n={};for(const r in t){const s=t[r];n[r]=Je(s)?s.map(e):e(s)}return n}const Ns=()=>{},Je=Array.isArray,Xf=/#/g,oy=/&/g,ay=/\//g,ly=/=/g,cy=/\?/g,Yf=/\+/g,uy=/%5B/g,hy=/%5D/g,Jf=/%5E/g,fy=/%60/g,Zf=/%7B/g,dy=/%7C/g,td=/%7D/g,py=/%20/g;function _l(e){return encodeURI(""+e).replace(dy,"|").replace(uy,"[").replace(hy,"]")}function my(e){return _l(e).replace(Zf,"{").replace(td,"}").replace(Jf,"^")}function Ca(e){return _l(e).replace(Yf,"%2B").replace(py,"+").replace(Xf,"%23").replace(oy,"%26").replace(fy,"`").replace(Zf,"{").replace(td,"}").replace(Jf,"^")}function gy(e){return Ca(e).replace(ly,"%3D")}function _y(e){return _l(e).replace(Xf,"%23").replace(cy,"%3F")}function yy(e){return e==null?"":_y(e).replace(ay,"%2F")}function Ks(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const vy=/\/$/,Ey=e=>e.replace(vy,"");function Jo(e,t,n="/"){let r,s={},o="",l="";const c=t.indexOf("#");let u=t.indexOf("?");return c<u&&c>=0&&(u=-1),u>-1&&(r=t.slice(0,u),o=t.slice(u+1,c>-1?c:t.length),s=e(o)),c>-1&&(r=r||t.slice(0,c),l=t.slice(c,t.length)),r=Iy(r??t,n),{fullPath:r+(o&&"?")+o+l,path:r,query:s,hash:Ks(l)}}function wy(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Tu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Ty(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Hr(t.matched[r],n.matched[s])&&ed(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Hr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ed(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!by(e[n],t[n]))return!1;return!0}function by(e,t){return Je(e)?bu(e,t):Je(t)?bu(t,e):e===t}function bu(e,t){return Je(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Iy(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let o=n.length-1,l,c;for(l=0;l<r.length;l++)if(c=r[l],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(l).join("/")}const Cn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Gs;(function(e){e.pop="pop",e.push="push"})(Gs||(Gs={}));var Ms;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ms||(Ms={}));function Ay(e){if(!e)if(kr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Ey(e)}const Ry=/^[^#]+#/;function Cy(e,t){return e.replace(Ry,"#")+t}function Sy(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const fo=()=>({left:window.scrollX,top:window.scrollY});function xy(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=Sy(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Iu(e,t){return(history.state?history.state.position-t:-1)+e}const Sa=new Map;function Py(e,t){Sa.set(e,t)}function ky(e){const t=Sa.get(e);return Sa.delete(e),t}let Dy=()=>location.protocol+"//"+location.host;function nd(e,t){const{pathname:n,search:r,hash:s}=t,o=e.indexOf("#");if(o>-1){let c=s.includes(e.slice(o))?e.slice(o).length:1,u=s.slice(c);return u[0]!=="/"&&(u="/"+u),Tu(u,"")}return Tu(n,e)+r+s}function Vy(e,t,n,r){let s=[],o=[],l=null;const c=({state:g})=>{const y=nd(e,location),C=n.value,N=t.value;let F=0;if(g){if(n.value=y,t.value=g,l&&l===C){l=null;return}F=N?g.position-N.position:0}else r(y);s.forEach(W=>{W(n.value,C,{delta:F,type:Gs.pop,direction:F?F>0?Ms.forward:Ms.back:Ms.unknown})})};function u(){l=n.value}function f(g){s.push(g);const y=()=>{const C=s.indexOf(g);C>-1&&s.splice(C,1)};return o.push(y),y}function d(){const{history:g}=window;g.state&&g.replaceState(Vt({},g.state,{scroll:fo()}),"")}function m(){for(const g of o)g();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:f,destroy:m}}function Au(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?fo():null}}function Oy(e){const{history:t,location:n}=window,r={value:nd(e,n)},s={value:t.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(u,f,d){const m=e.indexOf("#"),g=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+u:Dy()+e+u;try{t[d?"replaceState":"pushState"](f,"",g),s.value=f}catch(y){console.error(y),n[d?"replace":"assign"](g)}}function l(u,f){const d=Vt({},t.state,Au(s.value.back,u,s.value.forward,!0),f,{position:s.value.position});o(u,d,!0),r.value=u}function c(u,f){const d=Vt({},s.value,t.state,{forward:u,scroll:fo()});o(d.current,d,!0);const m=Vt({},Au(r.value,u,null),{position:d.position+1},f);o(u,m,!1),r.value=u}return{location:r,state:s,push:c,replace:l}}function Ny(e){e=Ay(e);const t=Oy(e),n=Vy(e,t.state,t.location,t.replace);function r(o,l=!0){l||n.pauseListeners(),history.go(o)}const s=Vt({location:"",base:e,go:r,createHref:Cy.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function My(e){return typeof e=="string"||e&&typeof e=="object"}function rd(e){return typeof e=="string"||typeof e=="symbol"}const sd=Symbol("");var Ru;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ru||(Ru={}));function zr(e,t){return Vt(new Error,{type:e,[sd]:!0},t)}function mn(e,t){return e instanceof Error&&sd in e&&(t==null||!!(e.type&t))}const Cu="[^/]+?",Ly={sensitive:!1,strict:!1,start:!0,end:!0},Fy=/[.+*?^${}()[\]/\\]/g;function $y(e,t){const n=Vt({},Ly,t),r=[];let s=n.start?"^":"";const o=[];for(const f of e){const d=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let m=0;m<f.length;m++){const g=f[m];let y=40+(n.sensitive?.25:0);if(g.type===0)m||(s+="/"),s+=g.value.replace(Fy,"\\$&"),y+=40;else if(g.type===1){const{value:C,repeatable:N,optional:F,regexp:W}=g;o.push({name:C,repeatable:N,optional:F});const z=W||Cu;if(z!==Cu){y+=10;try{new RegExp(`(${z})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${C}" (${z}): `+q.message)}}let Q=N?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;m||(Q=F&&f.length<2?`(?:/${Q})`:"/"+Q),F&&(Q+="?"),s+=Q,y+=20,F&&(y+=-8),N&&(y+=-20),z===".*"&&(y+=-50)}d.push(y)}r.push(d)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function c(f){const d=f.match(l),m={};if(!d)return null;for(let g=1;g<d.length;g++){const y=d[g]||"",C=o[g-1];m[C.name]=y&&C.repeatable?y.split("/"):y}return m}function u(f){let d="",m=!1;for(const g of e){(!m||!d.endsWith("/"))&&(d+="/"),m=!1;for(const y of g)if(y.type===0)d+=y.value;else if(y.type===1){const{value:C,repeatable:N,optional:F}=y,W=C in f?f[C]:"";if(Je(W)&&!N)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const z=Je(W)?W.join("/"):W;if(!z)if(F)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):m=!0);else throw new Error(`Missing required param "${C}"`);d+=z}}return d||"/"}return{re:l,score:r,keys:o,parse:c,stringify:u}}function jy(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function id(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const o=jy(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(Su(r))return 1;if(Su(s))return-1}return s.length-r.length}function Su(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Uy={type:0,value:""},By=/[a-zA-Z0-9_]/;function qy(e){if(!e)return[[]];if(e==="/")return[[Uy]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${f}": ${y}`)}let n=0,r=n;const s=[];let o;function l(){o&&s.push(o),o=[]}let c=0,u,f="",d="";function m(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),f="")}function g(){f+=u}for(;c<e.length;){if(u=e[c++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(f&&m(),l()):u===":"?(m(),n=1):g();break;case 4:g(),n=r;break;case 1:u==="("?n=2:By.test(u)?g():(m(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:m(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),m(),l(),s}function Hy(e,t,n){const r=$y(qy(e.path),n),s=Vt(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function zy(e,t){const n=[],r=new Map;t=ku({strict:!1,end:!0,sensitive:!1},t);function s(m){return r.get(m)}function o(m,g,y){const C=!y,N=Ky(m);N.aliasOf=y&&y.record;const F=ku(t,m),W=[N];if("alias"in m){const q=typeof m.alias=="string"?[m.alias]:m.alias;for(const _t of q)W.push(Vt({},N,{components:y?y.record.components:N.components,path:_t,aliasOf:y?y.record:N}))}let z,Q;for(const q of W){const{path:_t}=q;if(g&&_t[0]!=="/"){const vt=g.record.path,I=vt[vt.length-1]==="/"?"":"/";q.path=g.record.path+(_t&&I+_t)}if(z=Hy(q,g,F),y?y.alias.push(z):(Q=Q||z,Q!==z&&Q.alias.push(z),C&&m.name&&!Pu(z)&&l(m.name)),od(z)&&u(z),N.children){const vt=N.children;for(let I=0;I<vt.length;I++)o(vt[I],z,y&&y.children[I])}y=y||z}return Q?()=>{l(Q)}:Ns}function l(m){if(rd(m)){const g=r.get(m);g&&(r.delete(m),n.splice(n.indexOf(g),1),g.children.forEach(l),g.alias.forEach(l))}else{const g=n.indexOf(m);g>-1&&(n.splice(g,1),m.record.name&&r.delete(m.record.name),m.children.forEach(l),m.alias.forEach(l))}}function c(){return n}function u(m){const g=Qy(m,n);n.splice(g,0,m),m.record.name&&!Pu(m)&&r.set(m.record.name,m)}function f(m,g){let y,C={},N,F;if("name"in m&&m.name){if(y=r.get(m.name),!y)throw zr(1,{location:m});F=y.record.name,C=Vt(xu(g.params,y.keys.filter(Q=>!Q.optional).concat(y.parent?y.parent.keys.filter(Q=>Q.optional):[]).map(Q=>Q.name)),m.params&&xu(m.params,y.keys.map(Q=>Q.name))),N=y.stringify(C)}else if(m.path!=null)N=m.path,y=n.find(Q=>Q.re.test(N)),y&&(C=y.parse(N),F=y.record.name);else{if(y=g.name?r.get(g.name):n.find(Q=>Q.re.test(g.path)),!y)throw zr(1,{location:m,currentLocation:g});F=y.record.name,C=Vt({},g.params,m.params),N=y.stringify(C)}const W=[];let z=y;for(;z;)W.unshift(z.record),z=z.parent;return{name:F,path:N,params:C,matched:W,meta:Wy(W)}}e.forEach(m=>o(m));function d(){n.length=0,r.clear()}return{addRoute:o,resolve:f,removeRoute:l,clearRoutes:d,getRoutes:c,getRecordMatcher:s}}function xu(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Ky(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Gy(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Gy(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Pu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Wy(e){return e.reduce((t,n)=>Vt(t,n.meta),{})}function ku(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Qy(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;id(e,t[o])<0?r=o:n=o+1}const s=Xy(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function Xy(e){let t=e;for(;t=t.parent;)if(od(t)&&id(e,t)===0)return t}function od({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Yy(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(Yf," "),l=o.indexOf("="),c=Ks(l<0?o:o.slice(0,l)),u=l<0?null:Ks(o.slice(l+1));if(c in t){let f=t[c];Je(f)||(f=t[c]=[f]),f.push(u)}else t[c]=u}return t}function Du(e){let t="";for(let n in e){const r=e[n];if(n=gy(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Je(r)?r.map(o=>o&&Ca(o)):[r&&Ca(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Jy(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Je(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const Zy=Symbol(""),Vu=Symbol(""),yl=Symbol(""),vl=Symbol(""),xa=Symbol("");function Es(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Pn(e,t,n,r,s,o=l=>l()){const l=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((c,u)=>{const f=g=>{g===!1?u(zr(4,{from:n,to:t})):g instanceof Error?u(g):My(g)?u(zr(2,{from:t,to:g})):(l&&r.enterCallbacks[s]===l&&typeof g=="function"&&l.push(g),c())},d=o(()=>e.call(r&&r.instances[s],t,n,f));let m=Promise.resolve(d);e.length<3&&(m=m.then(f)),m.catch(g=>u(g))})}function Zo(e,t,n,r,s=o=>o()){const o=[];for(const l of e)for(const c in l.components){let u=l.components[c];if(!(t!=="beforeRouteEnter"&&!l.instances[c]))if(tv(u)){const d=(u.__vccOpts||u)[t];d&&o.push(Pn(d,n,r,l,c,s))}else{let f=u();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${l.path}"`));const m=iy(d)?d.default:d;l.components[c]=m;const y=(m.__vccOpts||m)[t];return y&&Pn(y,n,r,l,c,s)()}))}}return o}function tv(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ou(e){const t=Ke(yl),n=Ke(vl),r=Ut(()=>{const u=nt(e.to);return t.resolve(u)}),s=Ut(()=>{const{matched:u}=r.value,{length:f}=u,d=u[f-1],m=n.matched;if(!d||!m.length)return-1;const g=m.findIndex(Hr.bind(null,d));if(g>-1)return g;const y=Nu(u[f-2]);return f>1&&Nu(d)===y&&m[m.length-1].path!==y?m.findIndex(Hr.bind(null,u[f-2])):g}),o=Ut(()=>s.value>-1&&sv(n.params,r.value.params)),l=Ut(()=>s.value>-1&&s.value===n.matched.length-1&&ed(n.params,r.value.params));function c(u={}){return rv(u)?t[nt(e.replace)?"replace":"push"](nt(e.to)).catch(Ns):Promise.resolve()}return{route:r,href:Ut(()=>r.value.href),isActive:o,isExactActive:l,navigate:c}}const ev=Ef({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ou,setup(e,{slots:t}){const n=ei(Ou(e)),{options:r}=Ke(yl),s=Ut(()=>({[Mu(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Mu(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:Kf("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),nv=ev;function rv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function sv(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Je(s)||s.length!==r.length||r.some((o,l)=>o!==s[l]))return!1}return!0}function Nu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Mu=(e,t,n)=>e??t??n,iv=Ef({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Ke(xa),s=Ut(()=>e.route||r.value),o=Ke(Vu,0),l=Ut(()=>{let f=nt(o);const{matched:d}=s.value;let m;for(;(m=d[f])&&!m.components;)f++;return f}),c=Ut(()=>s.value.matched[l.value]);On(Vu,Ut(()=>l.value+1)),On(Zy,c),On(xa,s);const u=Ot();return Nn(()=>[u.value,c.value,e.name],([f,d,m],[g,y,C])=>{d&&(d.instances[m]=f,y&&y!==d&&f&&f===g&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),f&&d&&(!y||!Hr(d,y)||!g)&&(d.enterCallbacks[m]||[]).forEach(N=>N(f))},{flush:"post"}),()=>{const f=s.value,d=e.name,m=c.value,g=m&&m.components[d];if(!g)return Lu(n.default,{Component:g,route:f});const y=m.props[d],C=y?y===!0?f.params:typeof y=="function"?y(f):y:null,F=Kf(g,Vt({},C,t,{onVnodeUnmounted:W=>{W.component.isUnmounted&&(m.instances[d]=null)},ref:u}));return Lu(n.default,{Component:F,route:f})||F}}});function Lu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ad=iv;function ov(e){const t=zy(e.routes,e),n=e.parseQuery||Yy,r=e.stringifyQuery||Du,s=e.history,o=Es(),l=Es(),c=Es(),u=ug(Cn);let f=Cn;kr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Yo.bind(null,L=>""+L),m=Yo.bind(null,yy),g=Yo.bind(null,Ks);function y(L,tt){let J,rt;return rd(L)?(J=t.getRecordMatcher(L),rt=tt):rt=L,t.addRoute(rt,J)}function C(L){const tt=t.getRecordMatcher(L);tt&&t.removeRoute(tt)}function N(){return t.getRoutes().map(L=>L.record)}function F(L){return!!t.getRecordMatcher(L)}function W(L,tt){if(tt=Vt({},tt||u.value),typeof L=="string"){const w=Jo(n,L,tt.path),D=t.resolve({path:w.path},tt),$=s.createHref(w.fullPath);return Vt(w,D,{params:g(D.params),hash:Ks(w.hash),redirectedFrom:void 0,href:$})}let J;if(L.path!=null)J=Vt({},L,{path:Jo(n,L.path,tt.path).path});else{const w=Vt({},L.params);for(const D in w)w[D]==null&&delete w[D];J=Vt({},L,{params:m(w)}),tt.params=m(tt.params)}const rt=t.resolve(J,tt),Tt=L.hash||"";rt.params=d(g(rt.params));const Nt=wy(r,Vt({},L,{hash:my(Tt),path:rt.path})),v=s.createHref(Nt);return Vt({fullPath:Nt,hash:Tt,query:r===Du?Jy(L.query):L.query||{}},rt,{redirectedFrom:void 0,href:v})}function z(L){return typeof L=="string"?Jo(n,L,u.value.path):Vt({},L)}function Q(L,tt){if(f!==L)return zr(8,{from:tt,to:L})}function q(L){return I(L)}function _t(L){return q(Vt(z(L),{replace:!0}))}function vt(L){const tt=L.matched[L.matched.length-1];if(tt&&tt.redirect){const{redirect:J}=tt;let rt=typeof J=="function"?J(L):J;return typeof rt=="string"&&(rt=rt.includes("?")||rt.includes("#")?rt=z(rt):{path:rt},rt.params={}),Vt({query:L.query,hash:L.hash,params:rt.path!=null?{}:L.params},rt)}}function I(L,tt){const J=f=W(L),rt=u.value,Tt=L.state,Nt=L.force,v=L.replace===!0,w=vt(J);if(w)return I(Vt(z(w),{state:typeof w=="object"?Vt({},Tt,w.state):Tt,force:Nt,replace:v}),tt||J);const D=J;D.redirectedFrom=tt;let $;return!Nt&&Ty(r,rt,J)&&($=zr(16,{to:D,from:rt}),qe(rt,rt,!0,!1)),($?Promise.resolve($):A(D,rt)).catch(M=>mn(M)?mn(M,2)?M:We(M):Et(M,D,rt)).then(M=>{if(M){if(mn(M,2))return I(Vt({replace:v},z(M.to),{state:typeof M.to=="object"?Vt({},Tt,M.to.state):Tt,force:Nt}),tt||D)}else M=S(D,rt,!0,v,Tt);return R(D,rt,M),M})}function E(L,tt){const J=Q(L,tt);return J?Promise.reject(J):Promise.resolve()}function b(L){const tt=Tn.values().next().value;return tt&&typeof tt.runWithContext=="function"?tt.runWithContext(L):L()}function A(L,tt){let J;const[rt,Tt,Nt]=av(L,tt);J=Zo(rt.reverse(),"beforeRouteLeave",L,tt);for(const w of rt)w.leaveGuards.forEach(D=>{J.push(Pn(D,L,tt))});const v=E.bind(null,L,tt);return J.push(v),Ve(J).then(()=>{J=[];for(const w of o.list())J.push(Pn(w,L,tt));return J.push(v),Ve(J)}).then(()=>{J=Zo(Tt,"beforeRouteUpdate",L,tt);for(const w of Tt)w.updateGuards.forEach(D=>{J.push(Pn(D,L,tt))});return J.push(v),Ve(J)}).then(()=>{J=[];for(const w of Nt)if(w.beforeEnter)if(Je(w.beforeEnter))for(const D of w.beforeEnter)J.push(Pn(D,L,tt));else J.push(Pn(w.beforeEnter,L,tt));return J.push(v),Ve(J)}).then(()=>(L.matched.forEach(w=>w.enterCallbacks={}),J=Zo(Nt,"beforeRouteEnter",L,tt,b),J.push(v),Ve(J))).then(()=>{J=[];for(const w of l.list())J.push(Pn(w,L,tt));return J.push(v),Ve(J)}).catch(w=>mn(w,8)?w:Promise.reject(w))}function R(L,tt,J){c.list().forEach(rt=>b(()=>rt(L,tt,J)))}function S(L,tt,J,rt,Tt){const Nt=Q(L,tt);if(Nt)return Nt;const v=tt===Cn,w=kr?history.state:{};J&&(rt||v?s.replace(L.fullPath,Vt({scroll:v&&w&&w.scroll},Tt)):s.push(L.fullPath,Tt)),u.value=L,qe(L,tt,J,v),We()}let T;function be(){T||(T=s.listen((L,tt,J)=>{if(!tn.listening)return;const rt=W(L),Tt=vt(rt);if(Tt){I(Vt(Tt,{replace:!0}),rt).catch(Ns);return}f=rt;const Nt=u.value;kr&&Py(Iu(Nt.fullPath,J.delta),fo()),A(rt,Nt).catch(v=>mn(v,12)?v:mn(v,2)?(I(v.to,rt).then(w=>{mn(w,20)&&!J.delta&&J.type===Gs.pop&&s.go(-1,!1)}).catch(Ns),Promise.reject()):(J.delta&&s.go(-J.delta,!1),Et(v,rt,Nt))).then(v=>{v=v||S(rt,Nt,!1),v&&(J.delta&&!mn(v,8)?s.go(-J.delta,!1):J.type===Gs.pop&&mn(v,20)&&s.go(-1,!1)),R(rt,Nt,v)}).catch(Ns)}))}let Be=Es(),Wt=Es(),wt;function Et(L,tt,J){We(L);const rt=Wt.list();return rt.length?rt.forEach(Tt=>Tt(L,tt,J)):console.error(L),Promise.reject(L)}function Le(){return wt&&u.value!==Cn?Promise.resolve():new Promise((L,tt)=>{Be.add([L,tt])})}function We(L){return wt||(wt=!L,be(),Be.list().forEach(([tt,J])=>L?J(L):tt()),Be.reset()),L}function qe(L,tt,J,rt){const{scrollBehavior:Tt}=e;if(!kr||!Tt)return Promise.resolve();const Nt=!J&&ky(Iu(L.fullPath,0))||(rt||!J)&&history.state&&history.state.scroll||null;return ul().then(()=>Tt(L,tt,Nt)).then(v=>v&&xy(v)).catch(v=>Et(v,L,tt))}const Ht=L=>s.go(L);let zt;const Tn=new Set,tn={currentRoute:u,listening:!0,addRoute:y,removeRoute:C,clearRoutes:t.clearRoutes,hasRoute:F,getRoutes:N,resolve:W,options:e,push:q,replace:_t,go:Ht,back:()=>Ht(-1),forward:()=>Ht(1),beforeEach:o.add,beforeResolve:l.add,afterEach:c.add,onError:Wt.add,isReady:Le,install(L){const tt=this;L.component("RouterLink",nv),L.component("RouterView",ad),L.config.globalProperties.$router=tt,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>nt(u)}),kr&&!zt&&u.value===Cn&&(zt=!0,q(s.location).catch(Tt=>{}));const J={};for(const Tt in Cn)Object.defineProperty(J,Tt,{get:()=>u.value[Tt],enumerable:!0});L.provide(yl,tt),L.provide(vl,hf(J)),L.provide(xa,u);const rt=L.unmount;Tn.add(L),L.unmount=function(){Tn.delete(L),Tn.size<1&&(f=Cn,T&&T(),T=null,u.value=Cn,zt=!1,wt=!1),rt()}}};function Ve(L){return L.reduce((tt,J)=>tt.then(()=>b(J)),Promise.resolve())}return tn}function av(e,t){const n=[],r=[],s=[],o=Math.max(t.matched.length,e.matched.length);for(let l=0;l<o;l++){const c=t.matched[l];c&&(e.matched.find(f=>Hr(f,c))?r.push(c):n.push(c));const u=e.matched[l];u&&(t.matched.find(f=>Hr(f,u))||s.push(u))}return[n,r,s]}function ld(e){return Ke(vl)}function cd(e){return Qh()?(zm(e),!0):!1}function El(e){return typeof e=="function"?e():nt(e)}const lv=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const cv=Object.prototype.toString,uv=e=>cv.call(e)==="[object Object]",hv=()=>{};function fv(e){return qf()}function dv(e,t=!0,n){fv()?Ee(e,n):t?e():ul(e)}const wl=lv?window:void 0;function pv(e){var t;const n=El(e);return(t=n==null?void 0:n.$el)!=null?t:n}function mv(...e){let t,n,r,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,s]=e,t=wl):[t,n,r,s]=e,!t)return hv;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],l=()=>{o.forEach(d=>d()),o.length=0},c=(d,m,g,y)=>(d.addEventListener(m,g,y),()=>d.removeEventListener(m,g,y)),u=Nn(()=>[pv(t),El(s)],([d,m])=>{if(l(),!d)return;const g=uv(m)?{...m}:m;o.push(...n.flatMap(y=>r.map(C=>c(d,y,C,g))))},{immediate:!0,flush:"post"}),f=()=>{u(),l()};return cd(f),f}function gv(){const e=Ot(!1),t=qf();return t&&Ee(()=>{e.value=!0},t),e}function _v(e){const t=gv();return Ut(()=>(t.value,!!e()))}function yv(e,t={}){const{window:n=wl}=t,r=_v(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const o=Ot(!1),l=f=>{o.value=f.matches},c=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",l):s.removeListener(l))},u=n_(()=>{r.value&&(c(),s=n.matchMedia(El(e)),"addEventListener"in s?s.addEventListener("change",l):s.addListener(l),o.value=s.matches)});return cd(()=>{u(),c(),s=void 0}),o}function Ue(e={}){const{window:t=wl,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:o=!0,type:l="inner"}=e,c=Ot(n),u=Ot(r),f=()=>{t&&(l==="outer"?(c.value=t.outerWidth,u.value=t.outerHeight):o?(c.value=t.innerWidth,u.value=t.innerHeight):(c.value=t.document.documentElement.clientWidth,u.value=t.document.documentElement.clientHeight))};if(f(),dv(f),mv("resize",f,{passive:!0}),s){const d=yv("(orientation: portrait)");Nn(d,()=>f())}return{width:c,height:u}}const vv={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ev(e,t){return k(),V("svg",vv,t[0]||(t[0]=[P("path",{fill:"currentColor",d:"M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"},null,-1)]))}const wv=En({name:"mdi-menu",render:Ev}),Tv={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function bv(e,t){return k(),V("svg",Tv,t[0]||(t[0]=[P("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z"},null,-1)]))}const Iv=En({name:"mdi-close",render:bv}),Av={key:0,class:"fixed z-50 w-full top-0 bg-background border-main-grey border-b-2"},Rv={class:"flex flex-row items-center py-6 md:px-16 lg:px-32 uppercase justify-between"},Cv={key:1,class:"fixed w-full top-0 bg-background border-main-grey border-b-2 z-50"},Sv={class:"flex flex-row items-center py-6 px-4 uppercase justify-between"},xv={key:0,class:"flex flex-col items-center justify-center bg-background w-full border-main-grey border-t-2",style:{height:"100vh"}},Pv={__name:"Navbar",setup(e){const t=ld(),{width:n}=Ue(),r=Ot(!1),s=()=>{r.value=!r.value,console.log(r.value)},o=[{name:"Sobre",link:{name:"about"}},{name:"Experiência",link:{name:"experience"}},{name:"Projetos",link:{name:"projects"}},{name:"Contactos",link:{name:"contacts"}}];return(l,c)=>{const u=Br("router-link");return nt(n)>=768?(k(),V("header",Av,[P("nav",Rv,[ft(u,{to:{name:"home"}},{default:er(()=>c[0]||(c[0]=[P("p",{class:"uppercase font-semibold"},"Gonçalo Soares",-1)])),_:1}),P("div",null,[(k(),V(dt,null,$t(o,(f,d)=>ft(u,{key:f.name,to:f.link,class:ne([{"me-12":d<=2},{underline:f.link.name===nt(t).path.slice(1)}])},{default:er(()=>[P("a",null,et(f.name),1)]),_:2},1032,["to","class"])),64))])])])):(k(),V("header",Cv,[P("nav",Sv,[ft(u,{to:{name:"home"}},{default:er(()=>c[1]||(c[1]=[P("p",{class:"uppercase font-semibold"},"Gonçalo Soares",-1)])),_:1}),P("button",{onClick:s},[r.value===!1?(k(),Ye(nt(wv),{key:0,style:{"font-size":"2rem"}})):ot("",!0),r.value===!0?(k(),Ye(nt(Iv),{key:1,style:{"font-size":"2rem"}})):ot("",!0)])]),r.value===!0?(k(),V("div",xv,[(k(),V(dt,null,$t(o,(f,d)=>ft(u,{onClick:s,key:f.name,to:f.link,class:ne(["uppercase","my-8",{underline:f.link.name===nt(t).path.slice(1)},{"pt-6":f.link.name==="about"},{"pb-6":f.link.name==="contacts"},{"-mt-20":d===0}])},{default:er(()=>[Os(et(f.name),1)]),_:2},1032,["to","class"])),64))])):ot("",!0)]))}}},kv={key:0,class:"sticky bottom-0 bg-main-grey border-main-grey border-b-2"},Dv={key:1,class:"sticky bottom-0 bg-main-grey border-main-grey border-b-2"},yr={__name:"Footer",setup(e){const{width:t}=Ue();return(n,r)=>nt(t)>=768?(k(),V("header",kv,r[0]||(r[0]=[P("nav",{class:"flex flex-row items-center py-6 md:px-16 lg:px-32 uppercase justify-between"},[P("div",{class:"uppercase text-background flex flex-row items-center justify-between gap-10"},[P("p",null,"Gonçalo Soares"),P("p",null,"©2024"),P("p",null,"gpsoares@sapo.pt")]),P("div",{class:"uppercase text-background text-sm"},[P("p",null,"Developed with vue.js")])],-1)]))):(k(),V("header",Dv,r[1]||(r[1]=[P("nav",{class:"flex flex-col items-center uppercase text-background py-6"},[P("div",{class:"text-center"},[P("p",null,"Gonçalo Soares"),P("p",null,"©2024"),P("p",null,"gpsoares@sapo.pt")]),P("div",{class:"pt-6 text-sm"},[P("p",null,"Developed with vue.js")])],-1)])))}},Vv={class:"flex flex-col min-h-screen font-SpaceMono bg-background"},Ov={class:"flex-grow"},Nv={key:0,class:"sticky bottom-0 bg-main-grey border-main-grey border-b-2"},Mv={__name:"App",setup(e){const{width:t}=Ue();return(n,r)=>(k(),V("div",Vv,[ft(Pv),P("div",Ov,[ft(nt(ad))]),nt(t)>=768?(k(),V("div",Nv,[ft(yr)])):ot("",!0)]))}},Lv={class:"mx-4 content-center"},Fv={class:"text-xl uppercase"},$v=["onDragstart"],jv=["onDragstart"],Uv=["onDragstart"],Bv={__name:"HomeView",setup(e){const{height:t,width:n}=Ue(),r=Ut(()=>t.value-168),s=["web developer","ui/ux designer"],o=Ot(0);Ee(()=>{setInterval(()=>{o.value=(o.value+1)%s.length},2e3)});const l=Ut(()=>s[o.value]),c=Ot([]),u=[{id:0,title:"W"},{id:1,title:"E"},{id:2,title:"B"},{id:3,title:"D"},{id:4,title:"E"},{id:5,title:"V"},{id:6,title:"E"},{id:7,title:"L"},{id:8,title:"O"},{id:9,title:"P"},{id:10,title:"E"},{id:11,title:"R"},{id:12,title:"U"},{id:13,title:"I"},{id:14,title:"U"},{id:15,title:"X"},{id:16,title:"/"},{id:17,title:"D"},{id:18,title:"E"},{id:19,title:"S"},{id:20,title:"I"},{id:21,title:"G"},{id:22,title:"N"},{id:23,title:"E"},{id:24,title:"R"}],f=(g,y,C)=>g.map(N=>({...N,top:Math.random()*(y-100)+50,left:Math.random()*(C-32)}));Ee(()=>{const g=document.querySelector("main"),y=g.offsetHeight,C=g.offsetWidth;return c.value=f(u,y,C),console.log(c.value),console.log(y),c});const d=(g,y)=>{console.log("Dragging",y),g.dataTransfer.effectAllowed="move",g.dataTransfer.setData("text/plain",y)},m=g=>{g.preventDefault();const y=g.dataTransfer.getData("text/plain"),C=c.value.findIndex(N=>N.id===parseInt(y));if(C!==-1){const F=g.currentTarget.getBoundingClientRect(),W=g.clientY-F.top,z=g.clientX-F.left;c.value[C].top=W,c.value[C].left=z,console.log(`Letter ${y} dropped at:`,{top:W,left:z})}};return(g,y)=>(k(),V(dt,null,[nt(n)<768?(k(),V("main",{key:0,class:"flex flex-col justify-between mx-4",style:xe({height:r.value+"px"})},[y[3]||(y[3]=Ri('<div class="w-full flex justify-between mt-20"><div class="w-full flex flex-row justify-end ms-4 me-4 mt-4"><p class="uppercase text-end pt-1 pe-4 w-1/2 self-end">Clica no menu para saberes mais sobre mim</p><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="text-main-grey scale-x-[-1] w-6 h-6 self-top"><path fill-rule="evenodd" d="M4.854 1.146a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L4 2.707V12.5A2.5 2.5 0 0 0 6.5 15h8a.5.5 0 0 0 0-1h-8A1.5 1.5 0 0 1 5 12.5V2.707l3.146 3.147a.5.5 0 1 0 .708-.708z"></path></svg></div></div>',1)),P("div",Lv,[P("h1",Fv,"Olá, sou um "+et(l.value),1)]),(k(!0),V(dt,null,$t(c.value,C=>(k(),V("p",{key:C.id,class:"text-xl absolute w-fit interactive",style:xe({top:`${C.top}px`,left:`${C.left}px`}),draggable:"true",onDragstart:N=>d(N,C.id)},et(C.title),45,$v))),128)),y[4]||(y[4]=P("div",{class:"w-full flex flex-row mb-4"},[P("p",{class:"uppercase pt-1 pe-4 w-1/2 self-end text-end"},"Entra em contacto comigo através deste email"),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",class:"text-main-grey rotate-180 w-6 h-6 self-end"},[P("path",{"fill-rule":"evenodd",d:"M4.854 1.146a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L4 2.707V12.5A2.5 2.5 0 0 0 6.5 15h8a.5.5 0 0 0 0-1h-8A1.5 1.5 0 0 1 5 12.5V2.707l3.146 3.147a.5.5 0 1 0 .708-.708z"})])],-1))],4)):ot("",!0),ft(yr),nt(n)>=768&&nt(n)<1024?(k(),V("main",{key:1,class:"flex flex-col justify-between md:mx-16 lg:mx-32",style:xe({height:r.value+"px"})},[y[5]||(y[5]=Ri('<div class="w-full flex justify-between"><div class="w-full flex flex-row justify-end ms-4 me-4 mt-4"><p class="uppercase text-end pt-1 pe-4 w-1/2 self-end">Explora as várias páginas para saberes mais sobre mim</p><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="text-main-grey scale-x-[-1] w-6 h-6 self-top me-24"><path fill-rule="evenodd" d="M4.854 1.146a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L4 2.707V12.5A2.5 2.5 0 0 0 6.5 15h8a.5.5 0 0 0 0-1h-8A1.5 1.5 0 0 1 5 12.5V2.707l3.146 3.147a.5.5 0 1 0 .708-.708z"></path></svg></div></div><div class="mx-4 content-center"><h1 class="text-3xl uppercase">Olá, sou um </h1></div>',2)),(k(!0),V(dt,null,$t(c.value,C=>(k(),V("p",{key:C.id,class:"text-3xl absolute w-fit interactive",style:xe({top:`${C.top}px`,left:`${C.left}px`}),draggable:"true",onDragstart:N=>d(N,C.id)},et(C.title),45,jv))),128)),y[6]||(y[6]=P("div",{class:"w-full flex flex-row"},[P("p",{class:"uppercase pt-1 pe-4 w-1/2 self-end text-end"},"Entra em contacto comigo através deste email"),P("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",class:"text-main-grey rotate-180 w-6 h-6 self-end"},[P("path",{"fill-rule":"evenodd",d:"M4.854 1.146a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L4 2.707V12.5A2.5 2.5 0 0 0 6.5 15h8a.5.5 0 0 0 0-1h-8A1.5 1.5 0 0 1 5 12.5V2.707l3.146 3.147a.5.5 0 1 0 .708-.708z"})])],-1))],4)):ot("",!0),nt(n)>=1024?(k(),V("main",{key:2,class:"flex flex-col justify-between md:mx-16 lg:mx-32 relative",onDrop:y[0]||(y[0]=C=>m(C)),onDraenter:y[1]||(y[1]=Eu(()=>{},["prevent"])),onDragover:y[2]||(y[2]=Eu(()=>{},["prevent"])),style:xe({height:r.value+"px"})},[y[7]||(y[7]=Ri('<div class="w-full flex justify-between"><div class="w-full flex flex-row justify-end ms-4 me-4 mt-4"><p class="uppercase text-end pt-1 pe-4 w-1/2 self-end">Explora as várias páginas para saberes mais sobre mim</p><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="text-main-grey scale-x-[-1] w-6 h-6 self-top me-48"><path fill-rule="evenodd" d="M4.854 1.146a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L4 2.707V12.5A2.5 2.5 0 0 0 6.5 15h8a.5.5 0 0 0 0-1h-8A1.5 1.5 0 0 1 5 12.5V2.707l3.146 3.147a.5.5 0 1 0 .708-.708z"></path></svg></div></div><div class="mx-4 content-center"><h1 class="text-3xl uppercase">Olá, sou um </h1></div>',2)),(k(!0),V(dt,null,$t(c.value,C=>(k(),V("p",{key:C.id,class:"text-3xl absolute w-fit interactive",style:xe({top:`${C.top}px`,left:`${C.left}px`}),draggable:"true",onDragstart:N=>d(N,C.id)},et(C.title),45,Uv))),128)),y[8]||(y[8]=Ri('<p class="uppercase pt-1 ps-4 w-1/2 self-end"></p><div class="w-full flex flex-row justify-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="text-main-grey scale-y-[-1] w-6 h-6 self-end"><path fill-rule="evenodd" d="M4.854 1.146a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L4 2.707V12.5A2.5 2.5 0 0 0 6.5 15h8a.5.5 0 0 0 0-1h-8A1.5 1.5 0 0 1 5 12.5V2.707l3.146 3.147a.5.5 0 1 0 .708-.708z"></path></svg><p class="uppercase pt-1 ps-4 w-1/2 self-end">Entra em contacto comigo através deste email</p></div>',2))],36)):ot("",!0)],64))}};var Fu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},qv=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=e[n++],l=e[n++],c=e[n++],u=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const o=e[n++],l=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return t.join("")},hd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const o=e[s],l=s+1<e.length,c=l?e[s+1]:0,u=s+2<e.length,f=u?e[s+2]:0,d=o>>2,m=(o&3)<<4|c>>4;let g=(c&15)<<2|f>>6,y=f&63;u||(y=64,l||(g=64)),r.push(n[d],n[m],n[g],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ud(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):qv(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const o=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const f=s<e.length?n[e.charAt(s)]:64;++s;const m=s<e.length?n[e.charAt(s)]:64;if(++s,o==null||c==null||f==null||m==null)throw new Hv;const g=o<<2|c>>4;if(r.push(g),f!==64){const y=c<<4&240|f>>2;if(r.push(y),m!==64){const C=f<<6&192|m;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Hv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zv=function(e){const t=ud(e);return hd.encodeByteArray(t,!0)},Gi=function(e){return zv(e).replace(/\./g,"")},Kv=function(e){try{return hd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv=()=>Gv().__FIREBASE_DEFAULTS__,Qv=()=>{if(typeof process>"u"||typeof Fu>"u")return;const e=Fu.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Xv=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Kv(e[1]);return t&&JSON.parse(t)},Tl=()=>{try{return Wv()||Qv()||Xv()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Yv=e=>{var t,n;return(n=(t=Tl())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},fd=e=>{const t=Yv(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},dd=()=>{var e;return(e=Tl())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Gi(JSON.stringify(n)),Gi(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t0(){var e;const t=(e=Tl())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e0(){return!t0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n0(){try{return typeof indexedDB=="object"}catch{return!1}}function r0(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;t(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="FirebaseError";class vr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=s0,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,md.prototype.create)}}class md{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,o=this.errors[t],l=o?i0(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new vr(s,c,r)}}function i0(e,t){return e.replace(o0,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const o0=/\{\$([^}]+)}/g;function Pa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const o=e[s],l=t[s];if($u(o)&&$u(l)){if(!Pa(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $u(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(e){return e&&e._delegate?e._delegate:e}class Kr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Jv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(c0(t))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(t=tr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=tr){return this.instances.has(t)}getOptions(t=tr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&t(l,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l0(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=tr){return this.component?this.component.multipleInstances?t:tr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l0(e){return e===tr?void 0:e}function c0(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new a0(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(It||(It={}));const h0={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},f0=It.INFO,d0={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},p0=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=d0[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gd{constructor(t){this.name=t,this._logLevel=f0,this._logHandler=p0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in It))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?h0[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...t),this._logHandler(this,It.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...t),this._logHandler(this,It.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,It.INFO,...t),this._logHandler(this,It.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,It.WARN,...t),this._logHandler(this,It.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...t),this._logHandler(this,It.ERROR,...t)}}const m0=(e,t)=>t.some(n=>e instanceof n);let ju,Uu;function g0(){return ju||(ju=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _0(){return Uu||(Uu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _d=new WeakMap,ka=new WeakMap,yd=new WeakMap,ta=new WeakMap,bl=new WeakMap;function y0(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",l)},o=()=>{n(Mn(e.result)),s()},l=()=>{r(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&_d.set(n,e)}).catch(()=>{}),bl.set(t,e),t}function v0(e){if(ka.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",l),e.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",l),e.addEventListener("abort",l)});ka.set(e,t)}let Da={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ka.get(e);if(t==="objectStoreNames")return e.objectStoreNames||yd.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function E0(e){Da=e(Da)}function w0(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ea(this),t,...n);return yd.set(r,t.sort?t.sort():[t]),Mn(r)}:_0().includes(e)?function(...t){return e.apply(ea(this),t),Mn(_d.get(this))}:function(...t){return Mn(e.apply(ea(this),t))}}function T0(e){return typeof e=="function"?w0(e):(e instanceof IDBTransaction&&v0(e),m0(e,g0())?new Proxy(e,Da):e)}function Mn(e){if(e instanceof IDBRequest)return y0(e);if(ta.has(e))return ta.get(e);const t=T0(e);return t!==e&&(ta.set(e,t),bl.set(t,e)),t}const ea=e=>bl.get(e);function b0(e,t,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(e,t),c=Mn(l);return r&&l.addEventListener("upgradeneeded",u=>{r(Mn(l.result),u.oldVersion,u.newVersion,Mn(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const I0=["get","getKey","getAll","getAllKeys","count"],A0=["put","add","delete","clear"],na=new Map;function Bu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(na.get(t))return na.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=A0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||I0.includes(n)))return;const o=async function(l,...c){const u=this.transaction(l,s?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&u.done]))[0]};return na.set(t,o),o}E0(e=>({...e,get:(t,n,r)=>Bu(t,n)||e.get(t,n,r),has:(t,n)=>!!Bu(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function C0(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Va="@firebase/app",qu="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new gd("@firebase/app"),S0="@firebase/app-compat",x0="@firebase/analytics-compat",P0="@firebase/analytics",k0="@firebase/app-check-compat",D0="@firebase/app-check",V0="@firebase/auth",O0="@firebase/auth-compat",N0="@firebase/database",M0="@firebase/database-compat",L0="@firebase/functions",F0="@firebase/functions-compat",$0="@firebase/installations",j0="@firebase/installations-compat",U0="@firebase/messaging",B0="@firebase/messaging-compat",q0="@firebase/performance",H0="@firebase/performance-compat",z0="@firebase/remote-config",K0="@firebase/remote-config-compat",G0="@firebase/storage",W0="@firebase/storage-compat",Q0="@firebase/firestore",X0="@firebase/vertexai-preview",Y0="@firebase/firestore-compat",J0="firebase",Z0="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="[DEFAULT]",tE={[Va]:"fire-core",[S0]:"fire-core-compat",[P0]:"fire-analytics",[x0]:"fire-analytics-compat",[D0]:"fire-app-check",[k0]:"fire-app-check-compat",[V0]:"fire-auth",[O0]:"fire-auth-compat",[N0]:"fire-rtdb",[M0]:"fire-rtdb-compat",[L0]:"fire-fn",[F0]:"fire-fn-compat",[$0]:"fire-iid",[j0]:"fire-iid-compat",[U0]:"fire-fcm",[B0]:"fire-fcm-compat",[q0]:"fire-perf",[H0]:"fire-perf-compat",[z0]:"fire-rc",[K0]:"fire-rc-compat",[G0]:"fire-gcs",[W0]:"fire-gcs-compat",[Q0]:"fire-fst",[Y0]:"fire-fst-compat",[X0]:"fire-vertex","fire-js":"fire-js",[J0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Map,eE=new Map,Na=new Map;function Hu(e,t){try{e.container.addComponent(t)}catch(n){fr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ws(e){const t=e.name;if(Na.has(t))return fr.debug(`There were multiple attempts to register component ${t}.`),!1;Na.set(t,e);for(const n of Wi.values())Hu(n,e);for(const n of eE.values())Hu(n,e);return!0}function vd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ln=new md("app","Firebase",nE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=Z0;function wd(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Oa,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw Ln.create("bad-app-name",{appName:String(s)});if(n||(n=dd()),!n)throw Ln.create("no-options");const o=Wi.get(s);if(o){if(Pa(n,o.options)&&Pa(r,o.config))return o;throw Ln.create("duplicate-app",{appName:s})}const l=new u0(s);for(const u of Na.values())l.addComponent(u);const c=new rE(n,r,l);return Wi.set(s,c),c}function Td(e=Oa){const t=Wi.get(e);if(!t&&e===Oa&&dd())return wd();if(!t)throw Ln.create("no-app",{appName:e});return t}function Fn(e,t,n){var r;let s=(r=tE[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fr.warn(c.join(" "));return}Ws(new Kr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firebase-heartbeat-database",iE=1,Qs="firebase-heartbeat-store";let ra=null;function bd(){return ra||(ra=b0(sE,iE,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Qs)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ln.create("idb-open",{originalErrorMessage:e.message})})),ra}async function oE(e){try{const n=(await bd()).transaction(Qs),r=await n.objectStore(Qs).get(Id(e));return await n.done,r}catch(t){if(t instanceof vr)fr.warn(t.message);else{const n=Ln.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});fr.warn(n.message)}}}async function zu(e,t){try{const r=(await bd()).transaction(Qs,"readwrite");await r.objectStore(Qs).put(t,Id(e)),await r.done}catch(n){if(n instanceof vr)fr.warn(n.message);else{const r=Ln.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(r.message)}}}function Id(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=1024,lE=30*24*60*60*1e3;class cE{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Ku();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=lE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ku(),{heartbeatsToSend:r,unsentEntries:s}=uE(this._heartbeatsCache.heartbeats),o=Gi(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Ku(){return new Date().toISOString().substring(0,10)}function uE(e,t=aE){const n=[];let r=e.slice();for(const s of e){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),Gu(n)>t){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Gu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n0()?r0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return zu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return zu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Gu(e){return Gi(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(e){Ws(new Kr("platform-logger",t=>new R0(t),"PRIVATE")),Ws(new Kr("heartbeat",t=>new cE(t),"PRIVATE")),Fn(Va,qu,e),Fn(Va,qu,"esm2017"),Fn("fire-js","")}fE("");var dE="firebase",pE="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn(dE,pE,"app");var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sr,Ad;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,E){function b(){}b.prototype=E.prototype,I.D=E.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(A,R,S){for(var T=Array(arguments.length-2),be=2;be<arguments.length;be++)T[be-2]=arguments[be];return E.prototype[R].apply(A,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,E,b){b||(b=0);var A=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)A[R]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(R=0;16>R;++R)A[R]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=I.g[0],b=I.g[1],R=I.g[2];var S=I.g[3],T=E+(S^b&(R^S))+A[0]+3614090360&4294967295;E=b+(T<<7&4294967295|T>>>25),T=S+(R^E&(b^R))+A[1]+3905402710&4294967295,S=E+(T<<12&4294967295|T>>>20),T=R+(b^S&(E^b))+A[2]+606105819&4294967295,R=S+(T<<17&4294967295|T>>>15),T=b+(E^R&(S^E))+A[3]+3250441966&4294967295,b=R+(T<<22&4294967295|T>>>10),T=E+(S^b&(R^S))+A[4]+4118548399&4294967295,E=b+(T<<7&4294967295|T>>>25),T=S+(R^E&(b^R))+A[5]+1200080426&4294967295,S=E+(T<<12&4294967295|T>>>20),T=R+(b^S&(E^b))+A[6]+2821735955&4294967295,R=S+(T<<17&4294967295|T>>>15),T=b+(E^R&(S^E))+A[7]+4249261313&4294967295,b=R+(T<<22&4294967295|T>>>10),T=E+(S^b&(R^S))+A[8]+1770035416&4294967295,E=b+(T<<7&4294967295|T>>>25),T=S+(R^E&(b^R))+A[9]+2336552879&4294967295,S=E+(T<<12&4294967295|T>>>20),T=R+(b^S&(E^b))+A[10]+4294925233&4294967295,R=S+(T<<17&4294967295|T>>>15),T=b+(E^R&(S^E))+A[11]+2304563134&4294967295,b=R+(T<<22&4294967295|T>>>10),T=E+(S^b&(R^S))+A[12]+1804603682&4294967295,E=b+(T<<7&4294967295|T>>>25),T=S+(R^E&(b^R))+A[13]+4254626195&4294967295,S=E+(T<<12&4294967295|T>>>20),T=R+(b^S&(E^b))+A[14]+2792965006&4294967295,R=S+(T<<17&4294967295|T>>>15),T=b+(E^R&(S^E))+A[15]+1236535329&4294967295,b=R+(T<<22&4294967295|T>>>10),T=E+(R^S&(b^R))+A[1]+4129170786&4294967295,E=b+(T<<5&4294967295|T>>>27),T=S+(b^R&(E^b))+A[6]+3225465664&4294967295,S=E+(T<<9&4294967295|T>>>23),T=R+(E^b&(S^E))+A[11]+643717713&4294967295,R=S+(T<<14&4294967295|T>>>18),T=b+(S^E&(R^S))+A[0]+3921069994&4294967295,b=R+(T<<20&4294967295|T>>>12),T=E+(R^S&(b^R))+A[5]+3593408605&4294967295,E=b+(T<<5&4294967295|T>>>27),T=S+(b^R&(E^b))+A[10]+38016083&4294967295,S=E+(T<<9&4294967295|T>>>23),T=R+(E^b&(S^E))+A[15]+3634488961&4294967295,R=S+(T<<14&4294967295|T>>>18),T=b+(S^E&(R^S))+A[4]+3889429448&4294967295,b=R+(T<<20&4294967295|T>>>12),T=E+(R^S&(b^R))+A[9]+568446438&4294967295,E=b+(T<<5&4294967295|T>>>27),T=S+(b^R&(E^b))+A[14]+3275163606&4294967295,S=E+(T<<9&4294967295|T>>>23),T=R+(E^b&(S^E))+A[3]+4107603335&4294967295,R=S+(T<<14&4294967295|T>>>18),T=b+(S^E&(R^S))+A[8]+1163531501&4294967295,b=R+(T<<20&4294967295|T>>>12),T=E+(R^S&(b^R))+A[13]+2850285829&4294967295,E=b+(T<<5&4294967295|T>>>27),T=S+(b^R&(E^b))+A[2]+4243563512&4294967295,S=E+(T<<9&4294967295|T>>>23),T=R+(E^b&(S^E))+A[7]+1735328473&4294967295,R=S+(T<<14&4294967295|T>>>18),T=b+(S^E&(R^S))+A[12]+2368359562&4294967295,b=R+(T<<20&4294967295|T>>>12),T=E+(b^R^S)+A[5]+4294588738&4294967295,E=b+(T<<4&4294967295|T>>>28),T=S+(E^b^R)+A[8]+2272392833&4294967295,S=E+(T<<11&4294967295|T>>>21),T=R+(S^E^b)+A[11]+1839030562&4294967295,R=S+(T<<16&4294967295|T>>>16),T=b+(R^S^E)+A[14]+4259657740&4294967295,b=R+(T<<23&4294967295|T>>>9),T=E+(b^R^S)+A[1]+2763975236&4294967295,E=b+(T<<4&4294967295|T>>>28),T=S+(E^b^R)+A[4]+1272893353&4294967295,S=E+(T<<11&4294967295|T>>>21),T=R+(S^E^b)+A[7]+4139469664&4294967295,R=S+(T<<16&4294967295|T>>>16),T=b+(R^S^E)+A[10]+3200236656&4294967295,b=R+(T<<23&4294967295|T>>>9),T=E+(b^R^S)+A[13]+681279174&4294967295,E=b+(T<<4&4294967295|T>>>28),T=S+(E^b^R)+A[0]+3936430074&4294967295,S=E+(T<<11&4294967295|T>>>21),T=R+(S^E^b)+A[3]+3572445317&4294967295,R=S+(T<<16&4294967295|T>>>16),T=b+(R^S^E)+A[6]+76029189&4294967295,b=R+(T<<23&4294967295|T>>>9),T=E+(b^R^S)+A[9]+3654602809&4294967295,E=b+(T<<4&4294967295|T>>>28),T=S+(E^b^R)+A[12]+3873151461&4294967295,S=E+(T<<11&4294967295|T>>>21),T=R+(S^E^b)+A[15]+530742520&4294967295,R=S+(T<<16&4294967295|T>>>16),T=b+(R^S^E)+A[2]+3299628645&4294967295,b=R+(T<<23&4294967295|T>>>9),T=E+(R^(b|~S))+A[0]+4096336452&4294967295,E=b+(T<<6&4294967295|T>>>26),T=S+(b^(E|~R))+A[7]+1126891415&4294967295,S=E+(T<<10&4294967295|T>>>22),T=R+(E^(S|~b))+A[14]+2878612391&4294967295,R=S+(T<<15&4294967295|T>>>17),T=b+(S^(R|~E))+A[5]+4237533241&4294967295,b=R+(T<<21&4294967295|T>>>11),T=E+(R^(b|~S))+A[12]+1700485571&4294967295,E=b+(T<<6&4294967295|T>>>26),T=S+(b^(E|~R))+A[3]+2399980690&4294967295,S=E+(T<<10&4294967295|T>>>22),T=R+(E^(S|~b))+A[10]+4293915773&4294967295,R=S+(T<<15&4294967295|T>>>17),T=b+(S^(R|~E))+A[1]+2240044497&4294967295,b=R+(T<<21&4294967295|T>>>11),T=E+(R^(b|~S))+A[8]+1873313359&4294967295,E=b+(T<<6&4294967295|T>>>26),T=S+(b^(E|~R))+A[15]+4264355552&4294967295,S=E+(T<<10&4294967295|T>>>22),T=R+(E^(S|~b))+A[6]+2734768916&4294967295,R=S+(T<<15&4294967295|T>>>17),T=b+(S^(R|~E))+A[13]+1309151649&4294967295,b=R+(T<<21&4294967295|T>>>11),T=E+(R^(b|~S))+A[4]+4149444226&4294967295,E=b+(T<<6&4294967295|T>>>26),T=S+(b^(E|~R))+A[11]+3174756917&4294967295,S=E+(T<<10&4294967295|T>>>22),T=R+(E^(S|~b))+A[2]+718787259&4294967295,R=S+(T<<15&4294967295|T>>>17),T=b+(S^(R|~E))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var b=E-this.blockSize,A=this.B,R=this.h,S=0;S<E;){if(R==0)for(;S<=b;)s(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<E;)if(A[R++]=I.charCodeAt(S++),R==this.blockSize){s(this,A),R=0;break}}else for(;S<E;)if(A[R++]=I[S++],R==this.blockSize){s(this,A),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var b=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=b&255,b/=256;for(this.u(I),I=Array(16),E=b=0;4>E;++E)for(var A=0;32>A;A+=8)I[b++]=this.g[E]>>>A&255;return I};function o(I,E){var b=c;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=E(I)}function l(I,E){this.h=E;for(var b=[],A=!0,R=I.length-1;0<=R;R--){var S=I[R]|0;A&&S==E||(b[R]=S,A=!1)}this.g=b}var c={};function u(I){return-128<=I&&128>I?o(I,function(E){return new l([E|0],0>E?-1:0)}):new l([I|0],0>I?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return F(f(-I));for(var E=[],b=1,A=0;I>=b;A++)E[A]=I/b|0,b*=4294967296;return new l(E,0)}function d(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return F(d(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=f(Math.pow(E,8)),A=m,R=0;R<I.length;R+=8){var S=Math.min(8,I.length-R),T=parseInt(I.substring(R,R+S),E);8>S?(S=f(Math.pow(E,S)),A=A.j(S).add(f(T))):(A=A.j(b),A=A.add(f(T)))}return A}var m=u(0),g=u(1),y=u(16777216);e=l.prototype,e.m=function(){if(N(this))return-F(this).m();for(var I=0,E=1,b=0;b<this.g.length;b++){var A=this.i(b);I+=(0<=A?A:4294967296+A)*E,E*=4294967296}return I},e.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(N(this))return"-"+F(this).toString(I);for(var E=f(Math.pow(I,6)),b=this,A="";;){var R=q(b,E).g;b=W(b,R.j(E));var S=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=R,C(b))return S+A;for(;6>S.length;)S="0"+S;A=S+A}},e.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function N(I){return I.h==-1}e.l=function(I){return I=W(this,I),N(I)?-1:C(I)?0:1};function F(I){for(var E=I.g.length,b=[],A=0;A<E;A++)b[A]=~I.g[A];return new l(b,~I.h).add(g)}e.abs=function(){return N(this)?F(this):this},e.add=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],A=0,R=0;R<=E;R++){var S=A+(this.i(R)&65535)+(I.i(R)&65535),T=(S>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);A=T>>>16,S&=65535,T&=65535,b[R]=T<<16|S}return new l(b,b[b.length-1]&-2147483648?-1:0)};function W(I,E){return I.add(F(E))}e.j=function(I){if(C(this)||C(I))return m;if(N(this))return N(I)?F(this).j(F(I)):F(F(this).j(I));if(N(I))return F(this.j(F(I)));if(0>this.l(y)&&0>I.l(y))return f(this.m()*I.m());for(var E=this.g.length+I.g.length,b=[],A=0;A<2*E;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<I.g.length;R++){var S=this.i(A)>>>16,T=this.i(A)&65535,be=I.i(R)>>>16,Be=I.i(R)&65535;b[2*A+2*R]+=T*Be,z(b,2*A+2*R),b[2*A+2*R+1]+=S*Be,z(b,2*A+2*R+1),b[2*A+2*R+1]+=T*be,z(b,2*A+2*R+1),b[2*A+2*R+2]+=S*be,z(b,2*A+2*R+2)}for(A=0;A<E;A++)b[A]=b[2*A+1]<<16|b[2*A];for(A=E;A<2*E;A++)b[A]=0;return new l(b,0)};function z(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function Q(I,E){this.g=I,this.h=E}function q(I,E){if(C(E))throw Error("division by zero");if(C(I))return new Q(m,m);if(N(I))return E=q(F(I),E),new Q(F(E.g),F(E.h));if(N(E))return E=q(I,F(E)),new Q(F(E.g),E.h);if(30<I.g.length){if(N(I)||N(E))throw Error("slowDivide_ only works with positive integers.");for(var b=g,A=E;0>=A.l(I);)b=_t(b),A=_t(A);var R=vt(b,1),S=vt(A,1);for(A=vt(A,2),b=vt(b,2);!C(A);){var T=S.add(A);0>=T.l(I)&&(R=R.add(b),S=T),A=vt(A,1),b=vt(b,1)}return E=W(I,R.j(E)),new Q(R,E)}for(R=m;0<=I.l(E);){for(b=Math.max(1,Math.floor(I.m()/E.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),S=f(b),T=S.j(E);N(T)||0<T.l(I);)b-=A,S=f(b),T=S.j(E);C(S)&&(S=g),R=R.add(S),I=W(I,T)}return new Q(R,I)}e.A=function(I){return q(this,I).h},e.and=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)&I.i(A);return new l(b,this.h&I.h)},e.or=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)|I.i(A);return new l(b,this.h|I.h)},e.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],A=0;A<E;A++)b[A]=this.i(A)^I.i(A);return new l(b,this.h^I.h)};function _t(I){for(var E=I.g.length+1,b=[],A=0;A<E;A++)b[A]=I.i(A)<<1|I.i(A-1)>>>31;return new l(b,I.h)}function vt(I,E){var b=E>>5;E%=32;for(var A=I.g.length-b,R=[],S=0;S<A;S++)R[S]=0<E?I.i(S+b)>>>E|I.i(S+b+1)<<32-E:I.i(S+b);return new l(R,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ad=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=d,sr=l}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});var Ci=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rd,Cd,Is,Sd,Mi,Ma,xd,Pd,kd;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ci=="object"&&Ci];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(a,h){if(h)t:{var p=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var x=a[_];if(!(x in p))break t;p=p[x]}a=a[a.length-1],_=p[a],h=h(_),h!=_&&h!=null&&t(p,a,{configurable:!0,writable:!0,value:h})}}function o(a,h){a instanceof String&&(a+="");var p=0,_=!1,x={next:function(){if(!_&&p<a.length){var O=p++;return{value:h(O,a[O]),done:!1}}return _=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}s("Array.prototype.values",function(a){return a||function(){return o(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function f(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,p){return a.call.apply(a.bind,arguments)}function m(a,h,p){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,_),a.apply(h,x)}}return function(){return a.apply(h,arguments)}}function g(a,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,g.apply(null,arguments)}function y(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function C(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(_,x,O){for(var G=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)G[Mt-2]=arguments[Mt];return h.prototype[x].apply(_,G)}}function N(a){const h=a.length;if(0<h){const p=Array(h);for(let _=0;_<h;_++)p[_]=a[_];return p}return[]}function F(a,h){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(u(_)){const x=a.length||0,O=_.length||0;a.length=x+O;for(let G=0;G<O;G++)a[x+G]=_[G]}else a.push(_)}}class W{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function z(a){return/^[\s\xa0]*$/.test(a)}function Q(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function q(a){return q[" "](a),a}q[" "]=function(){};var _t=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function vt(a,h,p){for(const _ in a)h.call(p,a[_],_,a)}function I(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function E(a){const h={};for(const p in a)h[p]=a[p];return h}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,h){let p,_;for(let x=1;x<arguments.length;x++){_=arguments[x];for(p in _)a[p]=_[p];for(let O=0;O<b.length;O++)p=b[O],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function R(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function S(a){c.setTimeout(()=>{throw a},0)}function T(){var a=Le;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class be{constructor(){this.h=this.g=null}add(h,p){const _=Be.get();_.set(h,p),this.h?this.h.next=_:this.g=_,this.h=_}}var Be=new W(()=>new Wt,a=>a.reset());class Wt{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,Et=!1,Le=new be,We=()=>{const a=c.Promise.resolve(void 0);wt=()=>{a.then(qe)}};var qe=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(p){S(p)}var h=Be;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}Et=!1};function Ht(){this.s=this.s,this.C=this.C}Ht.prototype.s=!1,Ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function zt(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var Tn=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};c.addEventListener("test",p,h),c.removeEventListener("test",p,h)}catch{}return a}();function tn(a,h){if(zt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(_t){t:{try{q(h.nodeName);var x=!0;break t}catch{}x=!1}x||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ve[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&tn.aa.h.call(this)}}C(tn,zt);var Ve={2:"touch",3:"pen",4:"mouse"};tn.prototype.h=function(){tn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),tt=0;function J(a,h,p,_,x){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!_,this.ha=x,this.key=++tt,this.da=this.fa=!1}function rt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Tt(a){this.src=a,this.g={},this.h=0}Tt.prototype.add=function(a,h,p,_,x){var O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);var G=v(a,h,_,x);return-1<G?(h=a[G],p||(h.fa=!1)):(h=new J(h,this.src,O,!!_,x),h.fa=p,a.push(h)),h};function Nt(a,h){var p=h.type;if(p in a.g){var _=a.g[p],x=Array.prototype.indexOf.call(_,h,void 0),O;(O=0<=x)&&Array.prototype.splice.call(_,x,1),O&&(rt(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function v(a,h,p,_){for(var x=0;x<a.length;++x){var O=a[x];if(!O.da&&O.listener==h&&O.capture==!!p&&O.ha==_)return x}return-1}var w="closure_lm_"+(1e6*Math.random()|0),D={};function $(a,h,p,_,x){if(Array.isArray(h)){for(var O=0;O<h.length;O++)$(a,h[O],p,_,x);return null}return p=at(p),a&&a[L]?a.K(h,p,f(_)?!!_.capture:!!_,x):M(a,h,p,!1,_,x)}function M(a,h,p,_,x,O){if(!h)throw Error("Invalid event type");var G=f(x)?!!x.capture:!!x,Mt=ct(a);if(Mt||(a[w]=Mt=new Tt(a)),p=Mt.add(h,p,_,G,O),p.proxy)return p;if(_=j(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)Tn||(x=G),x===void 0&&(x=!1),a.addEventListener(h.toString(),_,x);else if(a.attachEvent)a.attachEvent(H(h.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function j(){function a(p){return h.call(a.src,a.listener,p)}const h=B;return a}function Y(a,h,p,_,x){if(Array.isArray(h))for(var O=0;O<h.length;O++)Y(a,h[O],p,_,x);else _=f(_)?!!_.capture:!!_,p=at(p),a&&a[L]?(a=a.i,h=String(h).toString(),h in a.g&&(O=a.g[h],p=v(O,p,_,x),-1<p&&(rt(O[p]),Array.prototype.splice.call(O,p,1),O.length==0&&(delete a.g[h],a.h--)))):a&&(a=ct(a))&&(h=a.g[h.toString()],a=-1,h&&(a=v(h,p,_,x)),(p=-1<a?h[a]:null)&&K(p))}function K(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[L])Nt(h.i,a);else{var p=a.type,_=a.proxy;h.removeEventListener?h.removeEventListener(p,_,a.capture):h.detachEvent?h.detachEvent(H(p),_):h.addListener&&h.removeListener&&h.removeListener(_),(p=ct(h))?(Nt(p,a),p.h==0&&(p.src=null,h[w]=null)):rt(a)}}}function H(a){return a in D?D[a]:D[a]="on"+a}function B(a,h){if(a.da)a=!0;else{h=new tn(h,this);var p=a.listener,_=a.ha||a.src;a.fa&&K(a),a=p.call(_,h)}return a}function ct(a){return a=a[w],a instanceof Tt?a:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function at(a){return typeof a=="function"?a:(a[Z]||(a[Z]=function(h){return a.handleEvent(h)}),a[Z])}function st(){Ht.call(this),this.i=new Tt(this),this.M=this,this.F=null}C(st,Ht),st.prototype[L]=!0,st.prototype.removeEventListener=function(a,h,p,_){Y(this,a,h,p,_)};function ht(a,h){var p,_=a.F;if(_)for(p=[];_;_=_.F)p.push(_);if(a=a.M,_=h.type||h,typeof h=="string")h=new zt(h,a);else if(h instanceof zt)h.target=h.target||a;else{var x=h;h=new zt(_,a),A(h,x)}if(x=!0,p)for(var O=p.length-1;0<=O;O--){var G=h.g=p[O];x=xt(G,_,!0,h)&&x}if(G=h.g=a,x=xt(G,_,!0,h)&&x,x=xt(G,_,!1,h)&&x,p)for(O=0;O<p.length;O++)G=h.g=p[O],x=xt(G,_,!1,h)&&x}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],_=0;_<p.length;_++)rt(p[_]);delete a.g[h],a.h--}}this.F=null},st.prototype.K=function(a,h,p,_){return this.i.add(String(a),h,!1,p,_)},st.prototype.L=function(a,h,p,_){return this.i.add(String(a),h,!0,p,_)};function xt(a,h,p,_){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var x=!0,O=0;O<h.length;++O){var G=h[O];if(G&&!G.da&&G.capture==p){var Mt=G.listener,ae=G.ha||G.src;G.fa&&Nt(a.i,G),x=Mt.call(ae,_)!==!1&&x}}return x&&!_.defaultPrevented}function Ct(a,h,p){if(typeof a=="function")p&&(a=g(a,p));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(a,h||0)}function he(a){a.g=Ct(()=>{a.g=null,a.i&&(a.i=!1,he(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class te extends Ht{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oe(a){Ht.call(this),this.h=a,this.g={}}C(oe,Ht);var fe=[];function bn(a){vt(a.g,function(h,p){this.g.hasOwnProperty(p)&&K(h)},a),a.g={}}oe.prototype.N=function(){oe.aa.N.call(this),bn(this)},oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=c.JSON.stringify,Ie=c.JSON.parse,He=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Tr(){}Tr.prototype.h=null;function ec(a){return a.h||(a.h=a.i())}function nc(){}var ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ro(){zt.call(this,"d")}C(Ro,zt);function Co(){zt.call(this,"c")}C(Co,zt);var Gn={},rc=null;function ci(){return rc=rc||new st}Gn.La="serverreachability";function sc(a){zt.call(this,Gn.La,a)}C(sc,zt);function is(a){const h=ci();ht(h,new sc(h))}Gn.STAT_EVENT="statevent";function ic(a,h){zt.call(this,Gn.STAT_EVENT,a),this.stat=h}C(ic,zt);function Ae(a){const h=ci();ht(h,new ic(h,a))}Gn.Ma="timingevent";function oc(a,h){zt.call(this,Gn.Ma,a),this.size=h}C(oc,zt);function os(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},h)}function as(){this.g=!0}as.prototype.xa=function(){this.g=!1};function cm(a,h,p,_,x,O){a.info(function(){if(a.g)if(O)for(var G="",Mt=O.split("&"),ae=0;ae<Mt.length;ae++){var St=Mt[ae].split("=");if(1<St.length){var de=St[0];St=St[1];var pe=de.split("_");G=2<=pe.length&&pe[1]=="type"?G+(de+"="+St+"&"):G+(de+"=redacted&")}}else G=null;else G=O;return"XMLHTTP REQ ("+_+") [attempt "+x+"]: "+h+`
`+p+`
`+G})}function um(a,h,p,_,x,O,G){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+x+"]: "+h+`
`+p+`
`+O+" "+G})}function br(a,h,p,_){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+fm(a,p)+(_?" "+_:"")})}function hm(a,h){a.info(function(){return"TIMEOUT: "+h})}as.prototype.info=function(){};function fm(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var _=p[a];if(!(2>_.length)){var x=_[1];if(Array.isArray(x)&&!(1>x.length)){var O=x[0];if(O!="noop"&&O!="stop"&&O!="close")for(var G=1;G<x.length;G++)x[G]=""}}}}return wr(p)}catch{return h}}var ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ac={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},So;function hi(){}C(hi,Tr),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},So=new hi;function In(a,h,p,_){this.j=a,this.i=h,this.l=p,this.R=_||1,this.U=new oe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lc}function lc(){this.i=null,this.g="",this.h=!1}var cc={},xo={};function Po(a,h,p){a.L=1,a.v=mi(fn(h)),a.m=p,a.P=!0,uc(a,null)}function uc(a,h){a.F=Date.now(),fi(a),a.A=fn(a.v);var p=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),Ic(p.i,"t",_),a.C=0,p=a.j.J,a.h=new lc,a.g=Bc(a.j,p?h:null,!a.m),0<a.O&&(a.M=new te(g(a.Y,a,a.g),a.O)),h=a.U,p=a.g,_=a.ca;var x="readystatechange";Array.isArray(x)||(x&&(fe[0]=x.toString()),x=fe);for(var O=0;O<x.length;O++){var G=$(p,x[O],_||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=a.H?E(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),is(),cm(a.i,a.u,a.A,a.l,a.R,a.m)}In.prototype.ca=function(a){a=a.target;const h=this.M;h&&dn(a)==3?h.j():this.Y(a)},In.prototype.Y=function(a){try{if(a==this.g)t:{const pe=dn(this.g);var h=this.g.Ba();const Rr=this.g.Z();if(!(3>pe)&&(pe!=3||this.g&&(this.h.h||this.g.oa()||kc(this.g)))){this.J||pe!=4||h==7||(h==8||0>=Rr?is(3):is(2)),ko(this);var p=this.g.Z();this.X=p;e:if(hc(this)){var _=kc(this.g);a="";var x=_.length,O=dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),ls(this);var G="";break e}this.h.i=new c.TextDecoder}for(h=0;h<x;h++)this.h.h=!0,a+=this.h.i.decode(_[h],{stream:!(O&&h==x-1)});_.length=0,this.h.g+=a,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=p==200,um(this.i,this.u,this.A,this.l,this.R,pe,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,ae=this.g;if((Mt=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Mt)){var St=Mt;break e}}St=null}if(p=St)br(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Do(this,p);else{this.o=!1,this.s=3,Ae(12),Wn(this),ls(this);break t}}if(this.P){p=!0;let Qe;for(;!this.J&&this.C<G.length;)if(Qe=dm(this,G),Qe==xo){pe==4&&(this.s=4,Ae(14),p=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(Qe==cc){this.s=4,Ae(15),br(this.i,this.l,G,"[Invalid Chunk]"),p=!1;break}else br(this.i,this.l,Qe,null),Do(this,Qe);if(hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||G.length!=0||this.h.h||(this.s=1,Ae(16),p=!1),this.o=this.o&&p,!p)br(this.i,this.l,G,"[Invalid Chunked Response]"),Wn(this),ls(this);else if(0<G.length&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.ba&&!de.M&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Fo(de),de.M=!0,Ae(11))}}else br(this.i,this.l,G,null),Do(this,G);pe==4&&Wn(this),this.o&&!this.J&&(pe==4?Fc(this.j,this):(this.o=!1,fi(this)))}else Pm(this.g),p==400&&0<G.indexOf("Unknown SID")?(this.s=3,Ae(12)):(this.s=0,Ae(13)),Wn(this),ls(this)}}}catch{}finally{}};function hc(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function dm(a,h){var p=a.C,_=h.indexOf(`
`,p);return _==-1?xo:(p=Number(h.substring(p,_)),isNaN(p)?cc:(_+=1,_+p>h.length?xo:(h=h.slice(_,_+p),a.C=_+p,h)))}In.prototype.cancel=function(){this.J=!0,Wn(this)};function fi(a){a.S=Date.now()+a.I,fc(a,a.I)}function fc(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=os(g(a.ba,a),h)}function ko(a){a.B&&(c.clearTimeout(a.B),a.B=null)}In.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(hm(this.i,this.A),this.L!=2&&(is(),Ae(17)),Wn(this),this.s=2,ls(this)):fc(this,this.S-a)};function ls(a){a.j.G==0||a.J||Fc(a.j,a)}function Wn(a){ko(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,bn(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Do(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||Vo(p.h,a))){if(!a.K&&Vo(p.h,a)&&p.G==3){try{var _=p.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var x=_;if(x[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Ei(p),yi(p);else break t;Lo(p),Ae(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=os(g(p.Za,p),6e3));if(1>=mc(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Xn(p,11)}else if((a.K||p.g==a)&&Ei(p),!z(h))for(x=p.Da.g.parse(h),h=0;h<x.length;h++){let St=x[h];if(p.T=St[0],St=St[1],p.G==2)if(St[0]=="c"){p.K=St[1],p.ia=St[2];const de=St[3];de!=null&&(p.la=de,p.j.info("VER="+p.la));const pe=St[4];pe!=null&&(p.Aa=pe,p.j.info("SVER="+p.Aa));const Rr=St[5];Rr!=null&&typeof Rr=="number"&&0<Rr&&(_=1.5*Rr,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const Qe=a.g;if(Qe){const Ti=Qe.g?Qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var O=_.h;O.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Oo(O,O.h),O.h=null))}if(_.D){const $o=Qe.g?Qe.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(_.ya=$o,jt(_.I,_.D,$o))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var G=a;if(_.qa=Uc(_,_.J?_.ia:null,_.W),G.K){gc(_.h,G);var Mt=G,ae=_.L;ae&&(Mt.I=ae),Mt.B&&(ko(Mt),fi(Mt)),_.g=G}else Mc(_);0<p.i.length&&vi(p)}else St[0]!="stop"&&St[0]!="close"||Xn(p,7);else p.G==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?Xn(p,7):Mo(p):St[0]!="noop"&&p.l&&p.l.ta(St),p.v=0)}}is(4)}catch{}}var pm=class{constructor(a,h){this.g=a,this.map=h}};function dc(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pc(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function mc(a){return a.h?1:a.g?a.g.size:0}function Vo(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Oo(a,h){a.g?a.g.add(h):a.h=h}function gc(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}dc.prototype.cancel=function(){if(this.i=_c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function _c(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return N(a.i)}function mm(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],p=a.length,_=0;_<p;_++)h.push(a[_]);return h}h=[],p=0;for(_ in a)h[p++]=a[_];return h}function gm(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const _ in a)h[p++]=_;return h}}}function yc(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=gm(a),_=mm(a),x=_.length,O=0;O<x;O++)h.call(void 0,_[O],p&&p[O],a)}var vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _m(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var _=a[p].indexOf("="),x=null;if(0<=_){var O=a[p].substring(0,_);x=a[p].substring(_+1)}else O=a[p];h(O,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Qn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Qn){this.h=a.h,di(this,a.j),this.o=a.o,this.g=a.g,pi(this,a.s),this.l=a.l;var h=a.i,p=new hs;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Ec(this,p),this.m=a.m}else a&&(h=String(a).match(vc))?(this.h=!1,di(this,h[1]||"",!0),this.o=cs(h[2]||""),this.g=cs(h[3]||"",!0),pi(this,h[4]),this.l=cs(h[5]||"",!0),Ec(this,h[6]||"",!0),this.m=cs(h[7]||"")):(this.h=!1,this.i=new hs(null,this.h))}Qn.prototype.toString=function(){var a=[],h=this.j;h&&a.push(us(h,wc,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(us(h,wc,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(us(p,p.charAt(0)=="/"?Em:vm,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",us(p,Tm)),a.join("")};function fn(a){return new Qn(a)}function di(a,h,p){a.j=p?cs(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function pi(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Ec(a,h,p){h instanceof hs?(a.i=h,bm(a.i,a.h)):(p||(h=us(h,wm)),a.i=new hs(h,a.h))}function jt(a,h,p){a.i.set(h,p)}function mi(a){return jt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function cs(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function us(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,ym),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ym(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var wc=/[#\/\?@]/g,vm=/[#\?:]/g,Em=/[#\?]/g,wm=/[#\?@]/g,Tm=/#/g;function hs(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function An(a){a.g||(a.g=new Map,a.h=0,a.i&&_m(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}e=hs.prototype,e.add=function(a,h){An(this),this.i=null,a=Ir(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function Tc(a,h){An(a),h=Ir(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function bc(a,h){return An(a),h=Ir(a,h),a.g.has(h)}e.forEach=function(a,h){An(this),this.g.forEach(function(p,_){p.forEach(function(x){a.call(h,x,_,this)},this)},this)},e.na=function(){An(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let _=0;_<h.length;_++){const x=a[_];for(let O=0;O<x.length;O++)p.push(h[_])}return p},e.V=function(a){An(this);let h=[];if(typeof a=="string")bc(this,a)&&(h=h.concat(this.g.get(Ir(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},e.set=function(a,h){return An(this),this.i=null,a=Ir(this,a),bc(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},e.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Ic(a,h,p){Tc(a,h),0<p.length&&(a.i=null,a.g.set(Ir(a,h),N(p)),a.h+=p.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var _=h[p];const O=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var x=O;G[_]!==""&&(x+="="+encodeURIComponent(String(G[_]))),a.push(x)}}return this.i=a.join("&")};function Ir(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function bm(a,h){h&&!a.j&&(An(a),a.i=null,a.g.forEach(function(p,_){var x=_.toLowerCase();_!=x&&(Tc(this,_),Ic(this,x,p))},a)),a.j=h}function Im(a,h){const p=new as;if(c.Image){const _=new Image;_.onload=y(Rn,p,"TestLoadImage: loaded",!0,h,_),_.onerror=y(Rn,p,"TestLoadImage: error",!1,h,_),_.onabort=y(Rn,p,"TestLoadImage: abort",!1,h,_),_.ontimeout=y(Rn,p,"TestLoadImage: timeout",!1,h,_),c.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else h(!1)}function Am(a,h){const p=new as,_=new AbortController,x=setTimeout(()=>{_.abort(),Rn(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:_.signal}).then(O=>{clearTimeout(x),O.ok?Rn(p,"TestPingServer: ok",!0,h):Rn(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(x),Rn(p,"TestPingServer: error",!1,h)})}function Rn(a,h,p,_,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),_(p)}catch{}}function Rm(){this.g=new He}function Cm(a,h,p){const _=p||"";try{yc(a,function(x,O){let G=x;f(x)&&(G=wr(x)),h.push(_+O+"="+encodeURIComponent(G))})}catch(x){throw h.push(_+"type="+encodeURIComponent("_badmap")),x}}function fs(a){this.l=a.Ub||null,this.j=a.eb||!1}C(fs,Tr),fs.prototype.g=function(){return new gi(this.l,this.j)},fs.prototype.i=function(a){return function(){return a}}({});function gi(a,h){st.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(gi,st),e=gi.prototype,e.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,ps(this)},e.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},e.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ps(this)),this.g&&(this.readyState=3,ps(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ac(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ac(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}e.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?ds(this):ps(this),this.readyState==3&&Ac(this)}},e.Ra=function(a){this.g&&(this.response=this.responseText=a,ds(this))},e.Qa=function(a){this.g&&(this.response=a,ds(this))},e.ga=function(){this.g&&ds(this)};function ds(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ps(a)}e.setRequestHeader=function(a,h){this.u.append(a,h)},e.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function ps(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Rc(a){let h="";return vt(a,function(p,_){h+=_,h+=":",h+=p,h+=`\r
`}),h}function No(a,h,p){t:{for(_ in p){var _=!1;break t}_=!0}_||(p=Rc(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):jt(a,h,p))}function Kt(a){st.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Kt,st);var Sm=/^https?$/i,xm=["POST","PUT"];e=Kt.prototype,e.Ha=function(a){this.J=a},e.ea=function(a,h,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():So.g(),this.v=this.o?ec(this.o):ec(So),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(O){Cc(this,O);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var x in _)p.set(x,_[x]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const O of _.keys())p.set(O,_.get(O));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(O=>O.toLowerCase()=="content-type"),x=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(xm,h,void 0))||_||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,G]of p)this.g.setRequestHeader(O,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pc(this),this.u=!0,this.g.send(a),this.u=!1}catch(O){Cc(this,O)}};function Cc(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Sc(a),_i(a)}function Sc(a){a.A||(a.A=!0,ht(a,"complete"),ht(a,"error"))}e.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ht(this,"complete"),ht(this,"abort"),_i(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_i(this,!0)),Kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?xc(this):this.bb())},e.bb=function(){xc(this)};function xc(a){if(a.h&&typeof l<"u"&&(!a.v[1]||dn(a)!=4||a.Z()!=2)){if(a.u&&dn(a)==4)Ct(a.Ea,0,a);else if(ht(a,"readystatechange"),dn(a)==4){a.h=!1;try{const G=a.Z();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break t;default:h=!1}var p;if(!(p=h)){var _;if(_=G===0){var x=String(a.D).match(vc)[1]||null;!x&&c.self&&c.self.location&&(x=c.self.location.protocol.slice(0,-1)),_=!Sm.test(x?x.toLowerCase():"")}p=_}if(p)ht(a,"complete"),ht(a,"success");else{a.m=6;try{var O=2<dn(a)?a.g.statusText:""}catch{O=""}a.l=O+" ["+a.Z()+"]",Sc(a)}}finally{_i(a)}}}}function _i(a,h){if(a.g){Pc(a);const p=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||ht(a,"ready");try{p.onreadystatechange=_}catch{}}}function Pc(a){a.I&&(c.clearTimeout(a.I),a.I=null)}e.isActive=function(){return!!this.g};function dn(a){return a.g?a.g.readyState:0}e.Z=function(){try{return 2<dn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Ie(h)}};function kc(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Pm(a){const h={};a=(a.g&&2<=dn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(z(a[_]))continue;var p=R(a[_]);const x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const O=h[x]||[];h[x]=O,O.push(p)}I(h,function(_){return _.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function Dc(a){this.Aa=0,this.i=[],this.j=new as,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ms("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ms("baseRetryDelayMs",5e3,a),this.cb=ms("retryDelaySeedMs",1e4,a),this.Wa=ms("forwardChannelMaxRetries",2,a),this.wa=ms("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new dc(a&&a.concurrentRequestLimit),this.Da=new Rm,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Dc.prototype,e.la=8,e.G=1,e.connect=function(a,h,p,_){Ae(0),this.W=a,this.H=h||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=Uc(this,null,this.W),vi(this)};function Mo(a){if(Vc(a),a.G==3){var h=a.U++,p=fn(a.I);if(jt(p,"SID",a.K),jt(p,"RID",h),jt(p,"TYPE","terminate"),gs(a,p),h=new In(a,a.j,h),h.L=2,h.v=mi(fn(p)),p=!1,c.navigator&&c.navigator.sendBeacon)try{p=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&c.Image&&(new Image().src=h.v,p=!0),p||(h.g=Bc(h.j,null),h.g.ea(h.v)),h.F=Date.now(),fi(h)}jc(a)}function yi(a){a.g&&(Fo(a),a.g.cancel(),a.g=null)}function Vc(a){yi(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ei(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function vi(a){if(!pc(a.h)&&!a.s){a.s=!0;var h=a.Ga;wt||We(),Et||(wt(),Et=!0),Le.add(h,a),a.B=0}}function km(a,h){return mc(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=os(g(a.Ga,a,h),$c(a,a.B)),a.B++,!0)}e.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const x=new In(this,this.j,a);let O=this.o;if(this.S&&(O?(O=E(O),A(O,this.S)):O=this.S),this.m!==null||this.O||(x.H=O,O=null),this.P)t:{for(var h=0,p=0;p<this.i.length;p++){e:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break e}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=p;break t}if(h===4096||p===this.i.length-1){h=p+1;break t}}h=1e3}else h=1e3;h=Nc(this,x,h),p=fn(this.I),jt(p,"RID",a),jt(p,"CVER",22),this.D&&jt(p,"X-HTTP-Session-Id",this.D),gs(this,p),O&&(this.O?h="headers="+encodeURIComponent(String(Rc(O)))+"&"+h:this.m&&No(p,this.m,O)),Oo(this.h,x),this.Ua&&jt(p,"TYPE","init"),this.P?(jt(p,"$req",h),jt(p,"SID","null"),x.T=!0,Po(x,p,null)):Po(x,p,h),this.G=2}}else this.G==3&&(a?Oc(this,a):this.i.length==0||pc(this.h)||Oc(this))};function Oc(a,h){var p;h?p=h.l:p=a.U++;const _=fn(a.I);jt(_,"SID",a.K),jt(_,"RID",p),jt(_,"AID",a.T),gs(a,_),a.m&&a.o&&No(_,a.m,a.o),p=new In(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Nc(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Oo(a.h,p),Po(p,_,h)}function gs(a,h){a.H&&vt(a.H,function(p,_){jt(h,_,p)}),a.l&&yc({},function(p,_){jt(h,_,p)})}function Nc(a,h,p){p=Math.min(a.i.length,p);var _=a.l?g(a.l.Na,a.l,a):null;t:{var x=a.i;let O=-1;for(;;){const G=["count="+p];O==-1?0<p?(O=x[0].g,G.push("ofs="+O)):O=0:G.push("ofs="+O);let Mt=!0;for(let ae=0;ae<p;ae++){let St=x[ae].g;const de=x[ae].map;if(St-=O,0>St)O=Math.max(0,x[ae].g-100),Mt=!1;else try{Cm(de,G,"req"+St+"_")}catch{_&&_(de)}}if(Mt){_=G.join("&");break t}}}return a=a.i.splice(0,p),h.D=a,_}function Mc(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;wt||We(),Et||(wt(),Et=!0),Le.add(h,a),a.v=0}}function Lo(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=os(g(a.Fa,a),$c(a,a.v)),a.v++,!0)}e.Fa=function(){if(this.u=null,Lc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=os(g(this.ab,this),a)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ae(10),yi(this),Lc(this))};function Fo(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Lc(a){a.g=new In(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=fn(a.qa);jt(h,"RID","rpc"),jt(h,"SID",a.K),jt(h,"AID",a.T),jt(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&jt(h,"TO",a.ja),jt(h,"TYPE","xmlhttp"),gs(a,h),a.m&&a.o&&No(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=mi(fn(h)),p.m=null,p.P=!0,uc(p,a)}e.Za=function(){this.C!=null&&(this.C=null,yi(this),Lo(this),Ae(19))};function Ei(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Fc(a,h){var p=null;if(a.g==h){Ei(a),Fo(a),a.g=null;var _=2}else if(Vo(a.h,h))p=h.D,gc(a.h,h),_=1;else return;if(a.G!=0){if(h.o)if(_==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var x=a.B;_=ci(),ht(_,new oc(_,p)),vi(a)}else Mc(a);else if(x=h.s,x==3||x==0&&0<h.X||!(_==1&&km(a,h)||_==2&&Lo(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),x){case 1:Xn(a,5);break;case 4:Xn(a,10);break;case 3:Xn(a,6);break;default:Xn(a,2)}}}function $c(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function Xn(a,h){if(a.j.info("Error code "+h),h==2){var p=g(a.fb,a),_=a.Xa;const x=!_;_=new Qn(_||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||di(_,"https"),mi(_),x?Im(_.toString(),p):Am(_.toString(),p)}else Ae(2);a.G=0,a.l&&a.l.sa(h),jc(a),Vc(a)}e.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function jc(a){if(a.G=0,a.ka=[],a.l){const h=_c(a.h);(h.length!=0||a.i.length!=0)&&(F(a.ka,h),F(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function Uc(a,h,p){var _=p instanceof Qn?fn(p):new Qn(p);if(_.g!="")h&&(_.g=h+"."+_.g),pi(_,_.s);else{var x=c.location;_=x.protocol,h=h?h+"."+x.hostname:x.hostname,x=+x.port;var O=new Qn(null);_&&di(O,_),h&&(O.g=h),x&&pi(O,x),p&&(O.l=p),_=O}return p=a.D,h=a.ya,p&&h&&jt(_,p,h),jt(_,"VER",a.la),gs(a,_),_}function Bc(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Kt(new fs({eb:p})):new Kt(a.pa),h.Ha(a.J),h}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function qc(){}e=qc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function wi(){}wi.prototype.g=function(a,h){return new Fe(a,h)};function Fe(a,h){st.call(this),this.g=new Dc(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!z(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!z(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ar(this)}C(Fe,st),Fe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fe.prototype.close=function(){Mo(this.g)},Fe.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=wr(a),a=p);h.i.push(new pm(h.Ya++,a)),h.G==3&&vi(h)},Fe.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,Fe.aa.N.call(this)};function Hc(a){Ro.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){t:{for(const p in h){a=p;break t}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}C(Hc,Ro);function zc(){Co.call(this),this.status=1}C(zc,Co);function Ar(a){this.g=a}C(Ar,qc),Ar.prototype.ua=function(){ht(this.g,"a")},Ar.prototype.ta=function(a){ht(this.g,new Hc(a))},Ar.prototype.sa=function(a){ht(this.g,new zc)},Ar.prototype.ra=function(){ht(this.g,"b")},wi.prototype.createWebChannel=wi.prototype.g,Fe.prototype.send=Fe.prototype.o,Fe.prototype.open=Fe.prototype.m,Fe.prototype.close=Fe.prototype.close,kd=function(){return new wi},Pd=function(){return ci()},xd=Gn,Ma={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ui.NO_ERROR=0,ui.TIMEOUT=8,ui.HTTP_ERROR=6,Mi=ui,ac.COMPLETE="complete",Sd=ac,nc.EventType=ss,ss.OPEN="a",ss.CLOSE="b",ss.ERROR="c",ss.MESSAGE="d",st.prototype.listen=st.prototype.K,Is=nc,Cd=fs,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,Rd=Kt}).apply(typeof Ci<"u"?Ci:typeof self<"u"?self:typeof window<"u"?window:{});const Qu="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ge.UNAUTHENTICATED=new ge(null),ge.GOOGLE_CREDENTIALS=new ge("google-credentials-uid"),ge.FIRST_PARTY=new ge("first-party-uid"),ge.MOCK_USER=new ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ts="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new gd("@firebase/firestore");function ws(){return dr.logLevel}function it(e,...t){if(dr.logLevel<=It.DEBUG){const n=t.map(Il);dr.debug(`Firestore (${ts}): ${e}`,...n)}}function vn(e,...t){if(dr.logLevel<=It.ERROR){const n=t.map(Il);dr.error(`Firestore (${ts}): ${e}`,...n)}}function Gr(e,...t){if(dr.logLevel<=It.WARN){const n=t.map(Il);dr.warn(`Firestore (${ts}): ${e}`,...n)}}function Il(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(e="Unexpected state"){const t=`FIRESTORE (${ts}) INTERNAL ASSERTION FAILED: `+e;throw vn(t),new Error(t)}function Yt(e,t){e||yt()}function Rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends vr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ge.UNAUTHENTICATED))}shutdown(){}}class gE{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _E{constructor(t){this.t=t,this.currentUser=ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new $n;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $n,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const u=o;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $n)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string"),new Dd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string"),new ge(t)}}class yE{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=ge.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vE{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new yE(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wE{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=o=>{o.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,it("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const s=o=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Yt(typeof n.token=="string"),this.R=n.token,new EE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=TE(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=t.charAt(s[o]%t.length))}return r}}function Dt(e,t){return e<t?-1:e>t?1:0}function Wr(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ne.fromMillis(Date.now())}static fromDate(t){return Ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ne(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new mt(t)}static min(){return new mt(new Ne(0,0))}static max(){return new mt(new Ne(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t,n,r){n===void 0?n=0:n>t.length&&yt(),r===void 0?r=t.length-n:r>t.length-n&&yt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Xs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Xs?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const o=t.get(s),l=n.get(s);if(o<l)return-1;if(o>l)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Bt extends Xs{construct(t,n,r){return new Bt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const bE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends Xs{construct(t,n,r){return new ke(t,n,r)}static isValidIdentifier(t){return bE.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ke(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new lt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new lt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(o(),s++)}if(o(),l)throw new lt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ke(n)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(Bt.fromString(t))}static fromName(t){return new ut(Bt.fromString(t).popFirst(5))}static empty(){return new ut(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Bt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Bt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new Bt(t.slice()))}}function IE(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=mt.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Un(s,ut.empty(),t)}function AE(e){return new Un(e.readTime,e.key,-1)}class Un{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Un(mt.min(),ut.empty(),-1)}static max(){return new Un(mt.max(),ut.empty(),-1)}}function RE(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ut.comparator(e.documentKey,t.documentKey),n!==0?n:Dt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(e){if(e.code!==X.FAILED_PRECONDITION||e.message!==CE)throw e;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new U((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):U.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):U.reject(n)}static resolve(t){return new U((n,r)=>{n(t)})}static reject(t){return new U((n,r)=>{r(t)})}static waitFor(t){return new U((n,r)=>{let s=0,o=0,l=!1;t.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&n()},u=>r(u))}),l=!0,o===s&&n()})}static or(t){let n=U.resolve(!1);for(const r of t)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(t,n){return new U((r,s)=>{const o=t.length,l=new Array(o);let c=0;for(let u=0;u<o;u++){const f=u;n(t[f]).next(d=>{l[f]=d,++c,c===o&&r(l)},d=>s(d))}})}static doWhile(t,n){return new U((r,s)=>{const o=()=>{t()===!0?n().next(()=>{o()},s):r()};o()})}}function xE(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function si(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Rl.oe=-1;function po(e){return e==null}function La(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function mo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function PE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n){this.comparator=t,this.root=n||le.EMPTY}insert(t,n){return new Gt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,le.BLACK,null,null))}remove(t){return new Gt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,le.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Si(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Si(this.root,t,this.comparator,!1)}getReverseIterator(){return new Si(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Si(this.root,t,this.comparator,!0)}}class Si{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class le{constructor(t,n,r,s,o){this.key=t,this.value=n,this.color=r??le.RED,this.left=s??le.EMPTY,this.right=o??le.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,o){return new le(t??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const o=r(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return le.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return le.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const t=this.left.check();if(t!==this.right.check())throw yt();return t+(this.isRed()?0:1)}}le.EMPTY=null,le.RED=!0,le.BLACK=!1;le.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(t,n,r,s,o){return this}insert(t,n,r){return new le(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t){this.comparator=t,this.data=new Gt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yu(this.data.getIterator())}getIteratorFrom(t){return new Yu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ue(this.comparator);return n.data=t,n}}class Yu{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(ke.comparator)}static empty(){return new kn([])}unionWith(t){let n=new ue(ke.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Wr(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Od("Invalid base64 string: "+o):o}}(t);return new Te(n)}static fromUint8Array(t){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(t);return new Te(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Te.EMPTY_BYTE_STRING=new Te("");const kE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bn(e){if(Yt(!!e),typeof e=="string"){let t=0;const n=kE.exec(e);if(Yt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Xt(e.seconds),nanos:Xt(e.nanos)}}function Xt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function pr(e){return typeof e=="string"?Te.fromBase64String(e):Te.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sl(e){const t=e.mapValue.fields.__previous_value__;return Cl(t)?Sl(t):t}function Ys(e){const t=Bn(e.mapValue.fields.__local_write_time__.timestampValue);return new Ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,n,r,s,o,l,c,u,f){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f}}class Js{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Js("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Js&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function mr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Cl(e)?4:VE(e)?9007199254740991:10:yt()}function un(e,t){if(e===t)return!0;const n=mr(e);if(n!==mr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ys(e).isEqual(Ys(t));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Bn(s.timestampValue),c=Bn(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,o){return pr(s.bytesValue).isEqual(pr(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,o){return Xt(s.geoPointValue.latitude)===Xt(o.geoPointValue.latitude)&&Xt(s.geoPointValue.longitude)===Xt(o.geoPointValue.longitude)}(e,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Xt(s.integerValue)===Xt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Xt(s.doubleValue),c=Xt(o.doubleValue);return l===c?La(l)===La(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return Wr(e.arrayValue.values||[],t.arrayValue.values||[],un);case 10:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(Xu(l)!==Xu(c))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(c[u]===void 0||!un(l[u],c[u])))return!1;return!0}(e,t);default:return yt()}}function Zs(e,t){return(e.values||[]).find(n=>un(n,t))!==void 0}function Qr(e,t){if(e===t)return 0;const n=mr(e),r=mr(t);if(n!==r)return Dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(e.booleanValue,t.booleanValue);case 2:return function(o,l){const c=Xt(o.integerValue||o.doubleValue),u=Xt(l.integerValue||l.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(e,t);case 3:return Ju(e.timestampValue,t.timestampValue);case 4:return Ju(Ys(e),Ys(t));case 5:return Dt(e.stringValue,t.stringValue);case 6:return function(o,l){const c=pr(o),u=pr(l);return c.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(o,l){const c=o.split("/"),u=l.split("/");for(let f=0;f<c.length&&f<u.length;f++){const d=Dt(c[f],u[f]);if(d!==0)return d}return Dt(c.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,l){const c=Dt(Xt(o.latitude),Xt(l.latitude));return c!==0?c:Dt(Xt(o.longitude),Xt(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,l){const c=o.values||[],u=l.values||[];for(let f=0;f<c.length&&f<u.length;++f){const d=Qr(c[f],u[f]);if(d)return d}return Dt(c.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,l){if(o===xi.mapValue&&l===xi.mapValue)return 0;if(o===xi.mapValue)return 1;if(l===xi.mapValue)return-1;const c=o.fields||{},u=Object.keys(c),f=l.fields||{},d=Object.keys(f);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const g=Dt(u[m],d[m]);if(g!==0)return g;const y=Qr(c[u[m]],f[d[m]]);if(y!==0)return y}return Dt(u.length,d.length)}(e.mapValue,t.mapValue);default:throw yt()}}function Ju(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Dt(e,t);const n=Bn(e),r=Bn(t),s=Dt(n.seconds,r.seconds);return s!==0?s:Dt(n.nanos,r.nanos)}function Xr(e){return Fa(e)}function Fa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Bn(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return pr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ut.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Fa(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${Fa(n.fields[l])}`;return s+"}"}(e.mapValue):yt()}function $a(e){return!!e&&"integerValue"in e}function xl(e){return!!e&&"arrayValue"in e}function Zu(e){return!!e&&"nullValue"in e}function th(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function sa(e){return!!e&&"mapValue"in e}function Ls(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return mo(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ls(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ls(e.arrayValue.values[n]);return t}return Object.assign({},e)}function VE(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.value=t}static empty(){return new sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!sa(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ls(n)}setAll(t){let n=ke.emptyPath(),r={},s=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=Ls(l):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(t){const n=this.field(t.popLast());sa(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return un(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];sa(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){mo(n,(s,o)=>t[s]=o);for(const s of r)delete t[s]}clone(){return new sn(Ls(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,n,r,s,o,l,c){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(t){return new ve(t,0,mt.min(),mt.min(),mt.min(),sn.empty(),0)}static newFoundDocument(t,n,r,s){return new ve(t,1,n,mt.min(),r,s,0)}static newNoDocument(t,n){return new ve(t,2,n,mt.min(),mt.min(),sn.empty(),0)}static newUnknownDocument(t,n){return new ve(t,3,n,mt.min(),mt.min(),sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ve&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,n){this.position=t,this.inclusive=n}}function eh(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const o=t[s],l=e.position[s];if(o.field.isKeyField()?r=ut.comparator(ut.fromName(l.referenceValue),n.key):r=Qr(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nh(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!un(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t,n="asc"){this.field=t,this.dir=n}}function OE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{}class Zt extends Nd{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new ME(t,n,r):n==="array-contains"?new $E(t,r):n==="in"?new jE(t,r):n==="not-in"?new UE(t,r):n==="array-contains-any"?new BE(t,r):new Zt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new LE(t,r):new FE(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qr(n,this.value)):n!==null&&mr(this.value)===mr(n)&&this.matchesComparison(Qr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hn extends Nd{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new hn(t,n)}matches(t){return Md(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Md(e){return e.op==="and"}function Ld(e){return NE(e)&&Md(e)}function NE(e){for(const t of e.filters)if(t instanceof hn)return!1;return!0}function ja(e){if(e instanceof Zt)return e.field.canonicalString()+e.op.toString()+Xr(e.value);if(Ld(e))return e.filters.map(t=>ja(t)).join(",");{const t=e.filters.map(n=>ja(n)).join(",");return`${e.op}(${t})`}}function Fd(e,t){return e instanceof Zt?function(r,s){return s instanceof Zt&&r.op===s.op&&r.field.isEqual(s.field)&&un(r.value,s.value)}(e,t):e instanceof hn?function(r,s){return s instanceof hn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,l,c)=>o&&Fd(l,s.filters[c]),!0):!1}(e,t):void yt()}function $d(e){return e instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Xr(n.value)}`}(e):e instanceof hn?function(n){return n.op.toString()+" {"+n.getFilters().map($d).join(" ,")+"}"}(e):"Filter"}class ME extends Zt{constructor(t,n,r){super(t,n,r),this.key=ut.fromName(r.referenceValue)}matches(t){const n=ut.comparator(t.key,this.key);return this.matchesComparison(n)}}class LE extends Zt{constructor(t,n){super(t,"in",n),this.keys=jd("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class FE extends Zt{constructor(t,n){super(t,"not-in",n),this.keys=jd("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function jd(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ut.fromName(r.referenceValue))}class $E extends Zt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xl(n)&&Zs(n.arrayValue,this.value)}}class jE extends Zt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Zs(this.value.arrayValue,n)}}class UE extends Zt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Zs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Zs(this.value.arrayValue,n)}}class BE extends Zt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(t,n=null,r=[],s=[],o=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.ue=null}}function rh(e,t=null,n=[],r=[],s=null,o=null,l=null){return new qE(e,t,n,r,s,o,l)}function Pl(e){const t=Rt(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>ja(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),po(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Xr(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Xr(r)).join(",")),t.ue=n}return t.ue}function kl(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!OE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fd(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nh(e.startAt,t.startAt)&&nh(e.endAt,t.endAt)}function Ua(e){return ut.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,n=null,r=[],s=[],o=null,l="F",c=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HE(e,t,n,r,s,o,l,c){return new go(e,t,n,r,s,o,l,c)}function Dl(e){return new go(e)}function sh(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function zE(e){return e.collectionGroup!==null}function Fs(e){const t=Rt(e);if(t.ce===null){t.ce=[];const n=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new ue(ke.comparator);return l.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.ce.push(new Xi(o,r))}),n.has(ke.keyField().canonicalString())||t.ce.push(new Xi(ke.keyField(),r))}return t.ce}function an(e){const t=Rt(e);return t.le||(t.le=KE(t,Fs(e))),t.le}function KE(e,t){if(e.limitType==="F")return rh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Xi(s.field,o)});const n=e.endAt?new Qi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qi(e.startAt.position,e.startAt.inclusive):null;return rh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ba(e,t,n){return new go(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _o(e,t){return kl(an(e),an(t))&&e.limitType===t.limitType}function Ud(e){return`${Pl(an(e))}|lt:${e.limitType}`}function Dr(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>$d(s)).join(", ")}]`),po(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xr(s)).join(",")),`Target(${r})`}(an(e))}; limitType=${e.limitType})`}function yo(e,t){return t.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ut.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,s){for(const o of Fs(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(l,c,u){const f=eh(l,c,u);return l.inclusive?f<=0:f<0}(r.startAt,Fs(r),s)||r.endAt&&!function(l,c,u){const f=eh(l,c,u);return l.inclusive?f>=0:f>0}(r.endAt,Fs(r),s))}(e,t)}function GE(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Bd(e){return(t,n)=>{let r=!1;for(const s of Fs(e)){const o=WE(s,t,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function WE(e,t,n){const r=e.field.isKeyField()?ut.comparator(t.key,n.key):function(o,l,c){const u=l.data.field(o),f=c.data.field(o);return u!==null&&f!==null?Qr(u,f):yt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){mo(this.inner,(n,r)=>{for(const[s,o]of r)t(s,o)})}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Gt(ut.comparator);function qn(){return QE}const qd=new Gt(ut.comparator);function As(...e){let t=qd;for(const n of e)t=t.insert(n.key,n);return t}function XE(e){let t=qd;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function nr(){return $s()}function Hd(){return $s()}function $s(){return new es(e=>e.toString(),(e,t)=>e.isEqual(t))}const YE=new ue(ut.comparator);function At(...e){let t=YE;for(const n of e)t=t.add(n);return t}const JE=new ue(Dt);function ZE(){return JE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:La(t)?"-0":t}}function ew(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this._=void 0}}function nw(e,t,n){return e instanceof qa?function(s,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Cl(o)&&(o=Sl(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,t):e instanceof Yi?zd(e,t):e instanceof Ji?Kd(e,t):function(s,o){const l=sw(s,o),c=ih(l)+ih(s.Pe);return $a(l)&&$a(s.Pe)?ew(c):tw(s.serializer,c)}(e,t)}function rw(e,t,n){return e instanceof Yi?zd(e,t):e instanceof Ji?Kd(e,t):n}function sw(e,t){return e instanceof Ha?function(r){return $a(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class qa extends vo{}class Yi extends vo{constructor(t){super(),this.elements=t}}function zd(e,t){const n=Gd(t);for(const r of e.elements)n.some(s=>un(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ji extends vo{constructor(t){super(),this.elements=t}}function Kd(e,t){let n=Gd(t);for(const r of e.elements)n=n.filter(s=>!un(s,r));return{arrayValue:{values:n}}}class Ha extends vo{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function ih(e){return Xt(e.integerValue||e.doubleValue)}function Gd(e){return xl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function iw(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof Yi&&s instanceof Yi||r instanceof Ji&&s instanceof Ji?Wr(r.elements,s.elements,un):r instanceof Ha&&s instanceof Ha?un(r.Pe,s.Pe):r instanceof qa&&s instanceof qa}(e.transform,t.transform)}class ir{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ir}static exists(t){return new ir(void 0,t)}static updateTime(t){return new ir(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Li(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Vl{}function Wd(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new aw(e.key,ir.none()):new Ol(e.key,e.data,ir.none());{const n=e.data,r=sn.empty();let s=new ue(ke.comparator);for(let o of t.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new Eo(e.key,r,new kn(s.toArray()),ir.none())}}function ow(e,t,n){e instanceof Ol?function(s,o,l){const c=s.value.clone(),u=ah(s.fieldTransforms,o,l.transformResults);c.setAll(u),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof Eo?function(s,o,l){if(!Li(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=ah(s.fieldTransforms,o,l.transformResults),u=o.data;u.setAll(Qd(s)),u.setAll(c),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(e,t,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function js(e,t,n,r){return e instanceof Ol?function(o,l,c,u){if(!Li(o.precondition,l))return c;const f=o.value.clone(),d=lh(o.fieldTransforms,u,l);return f.setAll(d),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(e,t,n,r):e instanceof Eo?function(o,l,c,u){if(!Li(o.precondition,l))return c;const f=lh(o.fieldTransforms,u,l),d=l.data;return d.setAll(Qd(o)),d.setAll(f),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(e,t,n,r):function(o,l,c){return Li(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function oh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wr(r,s,(o,l)=>iw(o,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ol extends Vl{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Eo extends Vl{constructor(t,n,r,s,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Qd(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ah(e,t,n){const r=new Map;Yt(e.length===n.length);for(let s=0;s<n.length;s++){const o=e[s],l=o.transform,c=t.data.field(o.field);r.set(o.field,rw(l,c,n[s]))}return r}function lh(e,t,n){const r=new Map;for(const s of e){const o=s.transform,l=n.data.field(s.field);r.set(s.field,nw(o,l,t))}return r}class aw extends Vl{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&ow(o,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=js(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=js(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Hd();return this.mutations.forEach(s=>{const o=t.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const u=Wd(l,c);u!==null&&r.set(s.key,u),l.isValidDocument()||l.convertToNoDocument(mt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),At())}isEqual(t){return this.batchId===t.batchId&&Wr(this.mutations,t.mutations,(n,r)=>oh(n,r))&&Wr(this.baseMutations,t.baseMutations,(n,r)=>oh(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,bt;function Xd(e){if(e===void 0)return vn("GRPC error has no .code"),X.UNKNOWN;switch(e){case Qt.OK:return X.OK;case Qt.CANCELLED:return X.CANCELLED;case Qt.UNKNOWN:return X.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return X.INTERNAL;case Qt.UNAVAILABLE:return X.UNAVAILABLE;case Qt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Qt.NOT_FOUND:return X.NOT_FOUND;case Qt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Qt.ABORTED:return X.ABORTED;case Qt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Qt.DATA_LOSS:return X.DATA_LOSS;default:return yt()}}(bt=Qt||(Qt={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new sr([4294967295,4294967295],0);function ch(e){const t=hw().encode(e),n=new Ad;return n.update(t),new Uint8Array(n.digest())}function uh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new sr([n,r],0),new sr([s,o],0)]}class Nl{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rs(`Invalid padding: ${n}`);if(r<0)throw new Rs(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Rs(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Rs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=sr.fromNumber(this.Ie)}Ee(t,n,r){let s=t.add(n.multiply(sr.fromNumber(r)));return s.compare(fw)===1&&(s=new sr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=ch(t),[r,s]=uh(n);for(let o=0;o<this.hashCount;o++){const l=this.Ee(r,s,o);if(!this.de(l))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new Nl(o,s,n);return r.forEach(c=>l.insert(c)),l}insert(t){if(this.Ie===0)return;const n=ch(t),[r,s]=uh(n);for(let o=0;o<this.hashCount;o++){const l=this.Ee(r,s,o);this.Ae(l)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Rs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,n,r,s,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,ii.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new wo(mt.min(),s,new Gt(Dt),qn(),At())}}class ii{constructor(t,n,r,s,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ii(r,n,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t,n,r,s){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Yd{constructor(t,n){this.targetId=t,this.me=n}}class Jd{constructor(t,n,r=Te.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class hh{constructor(){this.fe=0,this.ge=dh(),this.pe=Te.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=At(),n=At(),r=At();return this.ge.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:yt()}}),new ii(this.pe,this.ye,t,n,r)}ve(){this.we=!1,this.ge=dh()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dw{constructor(t){this.Le=t,this.Be=new Map,this.ke=qn(),this.qe=fh(),this.Qe=new Gt(Dt)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:yt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(t){const n=t.targetId,r=t.me.count,s=this.Je(n);if(s){const o=s.target;if(Ua(o))if(r===0){const l=new ut(o.path);this.Ue(n,l,ve.newNoDocument(l,mt.min()))}else Yt(r===1);else{const l=this.Ye(n);if(l!==r){const c=this.Ze(t),u=c?this.Xe(c,t,l):1;if(u!==0){this.je(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=pr(r).toUint8Array()}catch(u){if(u instanceof Od)return Gr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Nl(l,s,o)}catch(u){return Gr(u instanceof Rs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const l=this.Le.tt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.Ue(n,o,null),s++)}),s}rt(t){const n=new Map;this.Be.forEach((o,l)=>{const c=this.Je(l);if(c){if(o.current&&Ua(c.target)){const u=new ut(c.target.path);this.ke.get(u)!==null||this.it(l,u)||this.Ue(l,u,ve.newNoDocument(u,t))}o.be&&(n.set(l,o.Ce()),o.ve())}});let r=At();this.qe.forEach((o,l)=>{let c=!0;l.forEachWhile(u=>{const f=this.Je(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(t));const s=new wo(t,n,this.Qe,this.ke,r);return this.ke=qn(),this.qe=fh(),this.Qe=new Gt(Dt),s}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const s=this.Ge(t);this.it(t,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new hh,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new ue(Dt),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new hh),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function fh(){return new Gt(ut.comparator)}function dh(){return new Gt(ut.comparator)}const pw={asc:"ASCENDING",desc:"DESCENDING"},mw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gw={and:"AND",or:"OR"};class _w{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function za(e,t){return e.useProto3Json||po(t)?t:{value:t}}function yw(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function jr(e){return Yt(!!e),mt.fromTimestamp(function(n){const r=Bn(n);return new Ne(r.seconds,r.nanos)}(e))}function Ew(e,t){return Ka(e,t).canonicalString()}function Ka(e,t){const n=function(s){return new Bt(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Zd(e){const t=Bt.fromString(e);return Yt(sp(t)),t}function ia(e,t){const n=Zd(t);if(n.get(1)!==e.databaseId.projectId)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ut(ep(n))}function tp(e,t){return Ew(e.databaseId,t)}function ww(e){const t=Zd(e);return t.length===4?Bt.emptyPath():ep(t)}function ph(e){return new Bt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ep(e){return Yt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Tw(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:yt()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(f,d){return f.useProto3Json?(Yt(d===void 0||typeof d=="string"),Te.fromBase64String(d||"")):(Yt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Te.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(f){const d=f.code===void 0?X.UNKNOWN:Xd(f.code);return new lt(d,f.message||"")}(l);n=new Jd(r,s,o,c||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=ia(e,r.document.name),o=jr(r.document.updateTime),l=r.document.createTime?jr(r.document.createTime):mt.min(),c=new sn({mapValue:{fields:r.document.fields}}),u=ve.newFoundDocument(s,o,l,c),f=r.targetIds||[],d=r.removedTargetIds||[];n=new Fi(f,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=ia(e,r.document),o=r.readTime?jr(r.readTime):mt.min(),l=ve.newNoDocument(s,o),c=r.removedTargetIds||[];n=new Fi([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=ia(e,r.document),o=r.removedTargetIds||[];n=new Fi([],o,s,null)}else{if(!("filter"in t))return yt();{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new uw(s,o),c=r.targetId;n=new Yd(c,l)}}return n}function bw(e,t){return{documents:[tp(e,t.path)]}}function Iw(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tp(e,s);const o=function(f){if(f.length!==0)return rp(hn.create(f,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(d=>function(g){return{field:Vr(g.field),direction:Cw(g.dir)}}(d))}(t.orderBy);l&&(n.structuredQuery.orderBy=l);const c=za(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{_t:n,parent:s}}function Aw(e){let t=ww(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Yt(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:t=t.child(d.collectionId)}let o=[];n.where&&(o=function(m){const g=np(m);return g instanceof hn&&Ld(g)?g.getFilters():[g]}(n.where));let l=[];n.orderBy&&(l=function(m){return m.map(g=>function(C){return new Xi(Or(C.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(m){let g;return g=typeof m=="object"?m.value:m,po(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,y=m.values||[];return new Qi(y,g)}(n.startAt));let f=null;return n.endAt&&(f=function(m){const g=!m.before,y=m.values||[];return new Qi(y,g)}(n.endAt)),HE(t,s,l,o,c,"F",u,f)}function Rw(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function np(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Or(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Or(n.unaryFilter.field);return Zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Or(n.unaryFilter.field);return Zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Or(n.unaryFilter.field);return Zt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(e):e.fieldFilter!==void 0?function(n){return Zt.create(Or(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return hn.create(n.compositeFilter.filters.map(r=>np(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return yt()}}(n.compositeFilter.op))}(e):yt()}function Cw(e){return pw[e]}function Sw(e){return mw[e]}function xw(e){return gw[e]}function Vr(e){return{fieldPath:e.canonicalString()}}function Or(e){return ke.fromServerFormat(e.fieldPath)}function rp(e){return e instanceof Zt?function(n){if(n.op==="=="){if(th(n.value))return{unaryFilter:{field:Vr(n.field),op:"IS_NAN"}};if(Zu(n.value))return{unaryFilter:{field:Vr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(th(n.value))return{unaryFilter:{field:Vr(n.field),op:"IS_NOT_NAN"}};if(Zu(n.value))return{unaryFilter:{field:Vr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vr(n.field),op:Sw(n.op),value:n.value}}}(e):e instanceof hn?function(n){const r=n.getFilters().map(s=>rp(s));return r.length===1?r[0]:{compositeFilter:{op:xw(n.op),filters:r}}}(e):yt()}function sp(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t,n,r,s,o=mt.min(),l=mt.min(),c=Te.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new Dn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Dn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.ct=t}}function kw(e){const t=Aw({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ba(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this._n=new Vw}addToCollectionParentIndex(t,n){return this._n.add(n),U.resolve()}getCollectionParents(t,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return U.resolve()}deleteFieldIndex(t,n){return U.resolve()}deleteAllFieldIndexes(t){return U.resolve()}createTargetIndexes(t,n){return U.resolve()}getDocumentsMatchingTarget(t,n){return U.resolve(null)}getIndexType(t,n){return U.resolve(0)}getFieldIndexes(t,n){return U.resolve([])}getNextCollectionGroupToUpdate(t){return U.resolve(null)}getMinOffset(t,n){return U.resolve(Un.min())}getMinOffsetFromCollectionGroup(t,n){return U.resolve(Un.min())}updateCollectionGroup(t,n,r){return U.resolve()}updateIndexEntries(t,n){return U.resolve()}}class Vw{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new ue(Bt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new ue(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Yr(0)}static Ln(){return new Yr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.changes=new es(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ve.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&js(r.mutation,s,kn.empty(),Ne.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,At()).next(()=>r))}getLocalViewOfDocuments(t,n,r=At()){const s=nr();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(o=>{let l=As();return o.forEach((c,u)=>{l=l.insert(c,u.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const r=nr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,At()))}populateOverlays(t,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,r,s){let o=qn();const l=$s(),c=function(){return $s()}();return n.forEach((u,f)=>{const d=r.get(f.key);s.has(f.key)&&(d===void 0||d.mutation instanceof Eo)?o=o.insert(f.key,f):d!==void 0?(l.set(f.key,d.mutation.getFieldMask()),js(d.mutation,f,d.mutation.getFieldMask(),Ne.now())):l.set(f.key,kn.empty())}),this.recalculateAndSaveOverlays(t,o).next(u=>(u.forEach((f,d)=>l.set(f,d)),n.forEach((f,d)=>{var m;return c.set(f,new Nw(d,(m=l.get(f))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(t,n){const r=$s();let s=new Gt((l,c)=>l-c),o=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(u=>{const f=n.get(u);if(f===null)return;let d=r.get(u)||kn.empty();d=c.applyToLocalView(f,d),r.set(u,d);const m=(s.get(c.batchId)||At()).add(u);s=s.insert(c.batchId,m)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,d=u.value,m=Hd();d.forEach(g=>{if(!o.has(g)){const y=Wd(n.get(g),r.get(g));y!==null&&m.set(g,y),o=o.add(g)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,m))}return U.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return function(l){return ut.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):zE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-o.size):U.resolve(nr());let c=-1,u=o;return l.next(f=>U.forEach(f,(d,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),o.get(d)?U.resolve():this.remoteDocumentCache.getEntry(t,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(t,f,o)).next(()=>this.computeViews(t,u,f,At())).next(d=>({batchId:c,changes:XE(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ut(n)).next(r=>{let s=As();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const o=n.collectionGroup;let l=As();return this.indexManager.getCollectionParents(t,o).next(c=>U.forEach(c,u=>{const f=function(m,g){return new go(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(t,f,r,s).next(d=>{d.forEach((m,g)=>{l=l.insert(m,g)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,s))).next(l=>{o.forEach((u,f)=>{const d=f.getKey();l.get(d)===null&&(l=l.insert(d,ve.newInvalidDocument(d)))});let c=As();return l.forEach((u,f)=>{const d=o.get(u);d!==void 0&&js(d.mutation,f,kn.empty(),Ne.now()),yo(n,f)&&(c=c.insert(u,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:jr(s.createTime)}}(n)),U.resolve()}getNamedQuery(t,n){return U.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(s){return{name:s.name,query:kw(s.bundledQuery),readTime:jr(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.overlays=new Gt(ut.comparator),this.hr=new Map}getOverlay(t,n){return U.resolve(this.overlays.get(n))}getOverlays(t,n){const r=nr();return U.forEach(n,s=>this.getOverlay(t,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,o)=>{this.ht(t,n,o)}),U.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(t,n,r){const s=nr(),o=n.length+1,l=new ut(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let o=new Gt((f,d)=>f-d);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=o.get(f.largestBatchId);d===null&&(d=nr(),o=o.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const c=nr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,d)=>c.set(f,d)),!(c.size()>=s)););return U.resolve(c)}ht(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new cw(n,r));let o=this.hr.get(n);o===void 0&&(o=At(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.Pr=new ue(ee.Ir),this.Tr=new ue(ee.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new ee(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new ee(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new ut(new Bt([])),r=new ee(n,t),s=new ee(n,t+1),o=[];return this.Tr.forEachInRange([r,s],l=>{this.Ar(l),o.push(l.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new ut(new Bt([])),r=new ee(n,t),s=new ee(n,t+1);let o=At();return this.Tr.forEachInRange([r,s],l=>{o=o.add(l.key)}),o}containsKey(t){const n=new ee(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ee{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return ut.comparator(t.key,n.key)||Dt(t.pr,n.pr)}static Er(t,n){return Dt(t.pr,n.pr)||ut.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ue(ee.Ir)}checkEmpty(t){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new lw(o,n,r,s);this.mutationQueue.push(l);for(const c of s)this.wr=this.wr.add(new ee(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return U.resolve(l)}lookupMutationBatch(t,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.br(r),o=s<0?0:s;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ee(n,0),s=new ee(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,s],l=>{const c=this.Sr(l.pr);o.push(c)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ue(Dt);return n.forEach(s=>{const o=new ee(s,0),l=new ee(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,l],c=>{r=r.add(c.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let o=r;ut.isDocumentKey(o)||(o=o.child(""));const l=new ee(new ut(o),0);let c=new ue(Dt);return this.wr.forEachWhile(u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(c=c.add(u.pr)),!0)},l),U.resolve(this.Dr(c))}Dr(t){const n=[];return t.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Yt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,s=>{const o=new ee(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new ee(n,0),s=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,U.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.vr=t,this.docs=function(){return new Gt(ut.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():ve.newInvalidDocument(n))}getEntries(t,n){let r=qn();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ve.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let o=qn();const l=n.path,c=new ut(l.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:d}}=u.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||RE(AE(d),r)<=0||(s.has(d.key)||yo(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(t,n,r,s){yt()}Fr(t,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Uw(this)}getSize(t){return U.resolve(this.size)}}class Uw extends Ow{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(t,s)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t){this.persistence=t,this.Mr=new es(n=>Pl(n),kl),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ml,this.targetCount=0,this.Lr=Yr.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(t){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return U.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new Yr(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(t,n){return this.qn(n),U.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(t,n,r){let s=0;const o=[];return this.Mr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Mr.delete(l),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),U.waitFor(o).next(()=>s)}getTargetCount(t){return U.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(t,l))}),U.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(t,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,n){this.Br={},this.overlays={},this.kr=new Rl(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Bw(this),this.indexManager=new Dw,this.remoteDocumentCache=function(s){return new jw(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Pw(n),this.$r=new Lw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Fw,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new $w(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){it("MemoryPersistence","Starting transaction:",t);const s=new Hw(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(o=>this.referenceDelegate.Wr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Gr(t,n){return U.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class Hw extends SE{constructor(t){super(),this.currentSequenceNumber=t}}class Ll{constructor(t){this.persistence=t,this.zr=new Ml,this.jr=null}static Hr(t){return new Ll(t)}get Jr(){if(this.jr)return this.jr;throw yt()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const s=ut.fromPath(r);return this.Yr(t,s).next(o=>{o||n.removeEntry(s,mt.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(t,n){let r=At(),s=At();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Fl(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return e0()?8:xE(Zv())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,s){const o={result:null};return this.ji(t,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Hi(t,n,s,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new zw;return this.Ji(t,n,l).next(c=>{if(o.result=c,this.Ui)return this.Yi(t,n,l,c.size)})}).next(()=>o.result)}Yi(t,n,r,s){return r.documentReadCount<this.Wi?(ws()<=It.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Dr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(ws()<=It.DEBUG&&it("QueryEngine","Query:",Dr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(ws()<=It.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Dr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,an(n))):U.resolve())}ji(t,n){if(sh(n))return U.resolve(null);let r=an(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ba(n,null,"F"),r=an(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const l=At(...o);return this.zi.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,r).next(u=>{const f=this.Zi(n,c);return this.Xi(n,f,l,u.readTime)?this.ji(t,Ba(n,null,"F")):this.es(t,f,n,u)}))})))}Hi(t,n,r,s){return sh(n)||s.isEqual(mt.min())?U.resolve(null):this.zi.getDocuments(t,r).next(o=>{const l=this.Zi(n,o);return this.Xi(n,l,r,s)?U.resolve(null):(ws()<=It.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Dr(n)),this.es(t,l,n,IE(s,-1)).next(c=>c))})}Zi(t,n){let r=new ue(Bd(t));return n.forEach((s,o)=>{yo(t,o)&&(r=r.add(o))}),r}Xi(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ji(t,n,r){return ws()<=It.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Dr(n)),this.zi.getDocumentsMatchingQuery(t,n,Un.min(),r)}es(t,n,r,s){return this.zi.getDocumentsMatchingQuery(t,r,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,n,r,s){this.persistence=t,this.ts=n,this.serializer=s,this.ns=new Gt(Dt),this.rs=new es(o=>Pl(o),kl),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Mw(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function Ww(e,t,n,r){return new Gw(e,t,n,r)}async function ip(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let u=At();for(const f of s){l.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}for(const f of o){c.push(f.batchId);for(const d of f.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(f=>({us:f,removedBatchIds:l,addedBatchIds:c}))})})}function op(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function Qw(e,t){const n=Rt(e),r=t.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const c=[];t.targetChanges.forEach((d,m)=>{const g=s.get(m);if(!g)return;c.push(n.Qr.removeMatchingKeys(o,d.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(o,d.addedDocuments,m)));let y=g.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(m)!==null?y=y.withResumeToken(Te.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(m,y),function(N,F,W){return N.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(g,y,d)&&c.push(n.Qr.updateTargetData(o,y))});let u=qn(),f=At();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),c.push(Xw(o,l,t.documentUpdates).next(d=>{u=d.cs,f=d.ls})),!r.isEqual(mt.min())){const d=n.Qr.getLastRemoteSnapshotVersion(o).next(m=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(d)}return U.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,f)).next(()=>u)}).then(o=>(n.ns=s,o))}function Xw(e,t,n){let r=At(),s=At();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let l=qn();return n.forEach((c,u)=>{const f=o.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(mt.min())?(t.removeEntry(c,u.readTime),l=l.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(u),l=l.insert(c,u)):it("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)}),{cs:l,ls:s}})}function Yw(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,t).next(o=>o?(s=o,U.resolve(s)):n.Qr.allocateTargetId(r).next(l=>(s=new Dn(t,l,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function Ga(e,t,n){const r=Rt(e),s=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!si(l))throw l;it("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}r.ns=r.ns.remove(t),r.rs.delete(s.target)}function mh(e,t,n){const r=Rt(e);let s=mt.min(),o=At();return r.persistence.runTransaction("Execute query","readwrite",l=>function(u,f,d){const m=Rt(u),g=m.rs.get(d);return g!==void 0?U.resolve(m.ns.get(g)):m.Qr.getTargetData(f,d)}(r,l,an(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(l,c.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(l,t,n?s:mt.min(),n?o:At())).next(c=>(Jw(r,GE(t),c),{documents:c,hs:o})))}function Jw(e,t,n){let r=e.ss.get(t)||mt.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.ss.set(t,r)}class gh{constructor(){this.activeTargetIds=ZE()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Zw{constructor(){this.no=new gh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new gh,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pi=null;function oa(){return Pi===null?Pi=function(){return 268435456+Math.round(2147483648*Math.random())}():Pi++,"0x"+Pi.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me="WebChannelConnection";class rT extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${s}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Do(){return!1}Co(n,r,s,o,l){const c=oa(),u=this.vo(n,r.toUriEncodedString());it("RestConnection",`Sending RPC '${n}' ${c}:`,u,s);const f={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(f,o,l),this.Mo(n,u,f,s).then(d=>(it("RestConnection",`Received RPC '${n}' ${c}: `,d),d),d=>{throw Gr("RestConnection",`RPC '${n}' ${c} failed with error: `,d,"url: ",u,"request:",s),d})}xo(n,r,s,o,l,c){return this.Co(n,r,s,o,l)}Fo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ts}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,l)=>n[l]=o),s&&s.headers.forEach((o,l)=>n[l]=o)}vo(n,r){const s=eT[n];return`${this.wo}/v1/${r}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,n,r,s){const o=oa();return new Promise((l,c)=>{const u=new Rd;u.setWithCredentials(!0),u.listenOnce(Sd.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Mi.NO_ERROR:const d=u.getResponseJson();it(me,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),l(d);break;case Mi.TIMEOUT:it(me,`RPC '${t}' ${o} timed out`),c(new lt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Mi.HTTP_ERROR:const m=u.getStatus();if(it(me,`RPC '${t}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const C=function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(W)>=0?W:X.UNKNOWN}(y.status);c(new lt(C,y.message))}else c(new lt(X.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new lt(X.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{it(me,`RPC '${t}' ${o} completed.`)}});const f=JSON.stringify(s);it(me,`RPC '${t}' ${o} sending request:`,s),u.send(n,"POST",f,r,15)})}Oo(t,n,r){const s=oa(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=kd(),c=Pd(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.xmlHttpFactory=new Cd({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");it(me,`Creating RPC '${t}' stream ${s}: ${d}`,u);const m=l.createWebChannel(d,u);let g=!1,y=!1;const C=new nT({lo:F=>{y?it(me,`Not sending because RPC '${t}' stream ${s} is closed:`,F):(g||(it(me,`Opening RPC '${t}' stream ${s} transport.`),m.open(),g=!0),it(me,`RPC '${t}' stream ${s} sending:`,F),m.send(F))},ho:()=>m.close()}),N=(F,W,z)=>{F.listen(W,Q=>{try{z(Q)}catch(q){setTimeout(()=>{throw q},0)}})};return N(m,Is.EventType.OPEN,()=>{y||(it(me,`RPC '${t}' stream ${s} transport opened.`),C.mo())}),N(m,Is.EventType.CLOSE,()=>{y||(y=!0,it(me,`RPC '${t}' stream ${s} transport closed`),C.po())}),N(m,Is.EventType.ERROR,F=>{y||(y=!0,Gr(me,`RPC '${t}' stream ${s} transport errored:`,F),C.po(new lt(X.UNAVAILABLE,"The operation could not be completed")))}),N(m,Is.EventType.MESSAGE,F=>{var W;if(!y){const z=F.data[0];Yt(!!z);const Q=z,q=Q.error||((W=Q[0])===null||W===void 0?void 0:W.error);if(q){it(me,`RPC '${t}' stream ${s} received error:`,q);const _t=q.status;let vt=function(b){const A=Qt[b];if(A!==void 0)return Xd(A)}(_t),I=q.message;vt===void 0&&(vt=X.INTERNAL,I="Unknown error status: "+_t+" with message "+q.message),y=!0,C.po(new lt(vt,I)),m.close()}else it(me,`RPC '${t}' stream ${s} received:`,z),C.yo(z)}}),N(c,xd.STAT_EVENT,F=>{F.stat===Ma.PROXY?it(me,`RPC '${t}' stream ${s} detected buffering proxy`):F.stat===Ma.NOPROXY&&it(me,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.fo()},0),C}}function aa(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(e){return new _w(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,n,r=1e3,s=1.5,o=6e4){this.oi=t,this.timerId=n,this.No=r,this.Lo=s,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),s=Math.max(0,n-r);s>0&&it("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,n,r,s,o,l,c,u){this.oi=t,this.Go=r,this.zo=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new lp(t,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(t,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,t!==4?this.Yo.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(vn(n.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ao(n)}__(){}auth(){this.state=1;const t=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.jo===n&&this.u_(r,s)},r=>{t(()=>{const s=new lt(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(s)})})}u_(t,n){const r=this.a_(this.jo);this.stream=this.l_(t,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(s=>{r(()=>this.c_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(t){return it("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return n=>{this.oi.enqueueAndForget(()=>this.jo===t?n():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iT extends sT{constructor(t,n,r,s,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}l_(t,n){return this.connection.Oo("Listen",t,n)}onMessage(t){this.Yo.reset();const n=Tw(this.serializer,t),r=function(o){if(!("targetChange"in o))return mt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?mt.min():l.readTime?jr(l.readTime):mt.min()}(t);return this.listener.h_(n,r)}P_(t){const n={};n.database=ph(this.serializer),n.addTarget=function(o,l){let c;const u=l.target;if(c=Ua(u)?{documents:bw(o,u)}:{query:Iw(o,u)._t},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=vw(o,l.resumeToken);const f=za(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(mt.min())>0){c.readTime=yw(o,l.snapshotVersion.toTimestamp());const f=za(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const r=Rw(this.serializer,t);r&&(n.labels=r),this.i_(n)}I_(t){const n={};n.database=ph(this.serializer),n.removeTarget=t,this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.m_=!1}f_(){if(this.m_)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,n,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(t,Ka(n,r),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new lt(X.UNKNOWN,o.toString())})}xo(t,n,r,s,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.xo(t,Ka(n,r),s,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new lt(X.UNKNOWN,l.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class aT{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(vn(n),this.y_=!1):it("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,n,r,s,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(l=>{r.enqueueAndForget(async()=>{ai(this)&&(it("RemoteStore","Restarting streams for network reachability change."),await async function(u){const f=Rt(u);f.M_.add(4),await oi(f),f.N_.set("Unknown"),f.M_.delete(4),await To(f)}(this))})}),this.N_=new aT(r,s)}}async function To(e){if(ai(e))for(const t of e.x_)await t(!0)}async function oi(e){for(const t of e.x_)await t(!1)}function cp(e,t){const n=Rt(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Bl(n)?Ul(n):ns(n).Xo()&&jl(n,t))}function $l(e,t){const n=Rt(e),r=ns(n);n.F_.delete(t),r.Xo()&&up(n,t),n.F_.size===0&&(r.Xo()?r.n_():ai(n)&&n.N_.set("Unknown"))}function jl(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ns(e).P_(t)}function up(e,t){e.L_.xe(t),ns(e).I_(t)}function Ul(e){e.L_=new dw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ns(e).start(),e.N_.w_()}function Bl(e){return ai(e)&&!ns(e).Zo()&&e.F_.size>0}function ai(e){return Rt(e).M_.size===0}function hp(e){e.L_=void 0}async function cT(e){e.N_.set("Online")}async function uT(e){e.F_.forEach((t,n)=>{jl(e,t)})}async function hT(e,t){hp(e),Bl(e)?(e.N_.D_(t),Ul(e)):e.N_.set("Unknown")}async function fT(e,t,n){if(e.N_.set("Online"),t instanceof Jd&&t.state===2&&t.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.F_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.F_.delete(c),s.L_.removeTarget(c))}(e,t)}catch(r){it("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await yh(e,r)}else if(t instanceof Fi?e.L_.Ke(t):t instanceof Yd?e.L_.He(t):e.L_.We(t),!n.isEqual(mt.min()))try{const r=await op(e.localStore);n.compareTo(r)>=0&&await function(o,l){const c=o.L_.rt(l);return c.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.F_.get(f);d&&o.F_.set(f,d.withResumeToken(u.resumeToken,l))}}),c.targetMismatches.forEach((u,f)=>{const d=o.F_.get(u);if(!d)return;o.F_.set(u,d.withResumeToken(Te.EMPTY_BYTE_STRING,d.snapshotVersion)),up(o,u);const m=new Dn(d.target,u,f,d.sequenceNumber);jl(o,m)}),o.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(r){it("RemoteStore","Failed to raise snapshot:",r),await yh(e,r)}}async function yh(e,t,n){if(!si(t))throw t;e.M_.add(1),await oi(e),e.N_.set("Offline"),n||(n=()=>op(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{it("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await To(e)})}async function vh(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const r=ai(n);n.M_.add(3),await oi(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await To(n)}async function dT(e,t){const n=Rt(e);t?(n.M_.delete(2),await To(n)):t||(n.M_.add(2),await oi(n),n.N_.set("Unknown"))}function ns(e){return e.B_||(e.B_=function(n,r,s){const o=Rt(n);return o.f_(),new iT(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(e.datastore,e.asyncQueue,{Po:cT.bind(null,e),To:uT.bind(null,e),Ao:hT.bind(null,e),h_:fT.bind(null,e)}),e.x_.push(async t=>{t?(e.B_.t_(),Bl(e)?Ul(e):e.N_.set("Unknown")):(await e.B_.stop(),hp(e))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,n,r,s,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new $n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,o){const l=Date.now()+r,c=new ql(t,n,l,s,o);return c.start(r),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fp(e,t){if(vn("AsyncQueue",`${t}: ${e}`),si(e))return new lt(X.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ut.comparator(n.key,r.key):(n,r)=>ut.comparator(n.key,r.key),this.keyedMap=As(),this.sortedSet=new Gt(this.comparator)}static emptySet(t){return new Ur(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ur)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ur;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this.q_=new Gt(ut.comparator)}track(t){const n=t.doc.key,r=this.q_.get(n);r?t.type!==0&&r.type===3?this.q_=this.q_.insert(n,t):t.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.q_=this.q_.remove(n):t.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):yt():this.q_=this.q_.insert(n,t)}Q_(){const t=[];return this.q_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Jr{constructor(t,n,r,s,o,l,c,u,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(t,n,r,s,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Jr(t,n,Ur.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_o(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class mT{constructor(){this.queries=new es(t=>Ud(t),_o),this.onlineState="Unknown",this.z_=new Set}}async function dp(e,t){const n=Rt(e);let r=3;const s=t.query;let o=n.queries.get(s);o?!o.W_()&&t.G_()&&(r=2):(o=new pT,r=t.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(s,!0);break;case 1:o.K_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=fp(l,`Initialization of query '${Dr(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,o),o.U_.push(t),t.j_(n.onlineState),o.K_&&t.H_(o.K_)&&Hl(n)}async function pp(e,t){const n=Rt(e),r=t.query;let s=3;const o=n.queries.get(r);if(o){const l=o.U_.indexOf(t);l>=0&&(o.U_.splice(l,1),o.U_.length===0?s=t.G_()?0:1:!o.W_()&&t.G_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gT(e,t){const n=Rt(e);let r=!1;for(const s of t){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.U_)c.H_(s)&&(r=!0);l.K_=s}}r&&Hl(n)}function _T(e,t,n){const r=Rt(e),s=r.queries.get(t);if(s)for(const o of s.U_)o.onError(n);r.queries.delete(t)}function Hl(e){e.z_.forEach(t=>{t.next()})}var Wa,wh;(wh=Wa||(Wa={})).J_="default",wh.Cache="cache";class mp{constructor(t,n,r){this.query=t,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Jr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),n=!0):this.ta(t,this.onlineState)&&(this.na(t),n=!0),this.X_=t,n}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),n=!0),n}ta(t,n){if(!t.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ea(t){if(t.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(t){t=Jr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==Wa.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t){this.key=t}}class _p{constructor(t){this.key=t}}class yT{constructor(t,n){this.query=t,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=At(),this.mutatedKeys=At(),this.Ia=Bd(t),this.Ta=new Ur(this.Ia)}get Ea(){return this.la}da(t,n){const r=n?n.Aa:new Eh,s=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((d,m)=>{const g=s.get(d),y=yo(this.query,m)?m:null,C=!!g&&this.mutatedKeys.has(g.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let F=!1;g&&y?g.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),F=!0):this.Ra(g,y)||(r.track({type:2,doc:y}),F=!0,(u&&this.Ia(y,u)>0||f&&this.Ia(y,f)<0)&&(c=!0)):!g&&y?(r.track({type:0,doc:y}),F=!0):g&&!y&&(r.track({type:1,doc:g}),F=!0,(u||f)&&(c=!0)),F&&(y?(l=l.add(y),o=N?o.add(d):o.delete(d)):(l=l.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const d=this.query.limitType==="F"?l.last():l.first();l=l.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ta:l,Aa:r,Xi:c,mutatedKeys:o}}Ra(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const o=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const l=t.Aa.Q_();l.sort((d,m)=>function(y,C){const N=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return N(y)-N(C)}(d.type,m.type)||this.Ia(d.doc,m.doc)),this.Va(r),s=s!=null&&s;const c=n&&!s?this.ma():[],u=this.Pa.size===0&&this.current&&!s?1:0,f=u!==this.ha;return this.ha=u,l.length!==0||f?{snapshot:new Jr(this.query,t.Ta,o,l,t.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:c}:{fa:c}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Eh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(n=>this.la=this.la.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=At(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return t.forEach(r=>{this.Pa.has(r)||n.push(new _p(r))}),this.Pa.forEach(r=>{t.has(r)||n.push(new gp(r))}),n}pa(t){this.la=t.hs,this.Pa=At();const n=this.da(t.documents);return this.applyChanges(n,!0)}ya(){return Jr.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class vT{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class ET{constructor(t){this.key=t,this.wa=!1}}class wT{constructor(t,n,r,s,o,l){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Sa={},this.ba=new es(c=>Ud(c),_o),this.Da=new Map,this.Ca=new Set,this.va=new Gt(ut.comparator),this.Fa=new Map,this.Ma=new Ml,this.xa={},this.Oa=new Map,this.Na=Yr.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function TT(e,t,n=!0){const r=Tp(e);let s;const o=r.ba.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.ya()):s=await yp(r,t,n,!0),s}async function bT(e,t){const n=Tp(e);await yp(n,t,!0,!1)}async function yp(e,t,n,r){const s=await Yw(e.localStore,an(t)),o=s.targetId,l=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let c;return r&&(c=await IT(e,t,o,l==="current",s.resumeToken)),e.isPrimaryClient&&n&&cp(e.remoteStore,s),c}async function IT(e,t,n,r,s){e.Ba=(m,g,y)=>async function(N,F,W,z){let Q=F.view.da(W);Q.Xi&&(Q=await mh(N.localStore,F.query,!1).then(({documents:I})=>F.view.da(I,Q)));const q=z&&z.targetChanges.get(F.targetId),_t=z&&z.targetMismatches.get(F.targetId)!=null,vt=F.view.applyChanges(Q,N.isPrimaryClient,q,_t);return bh(N,F.targetId,vt.fa),vt.snapshot}(e,m,g,y);const o=await mh(e.localStore,t,!0),l=new yT(t,o.hs),c=l.da(o.documents),u=ii.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),f=l.applyChanges(c,e.isPrimaryClient,u);bh(e,n,f.fa);const d=new vT(t,n,l);return e.ba.set(t,d),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),f.snapshot}async function AT(e,t,n){const r=Rt(e),s=r.ba.get(t),o=r.Da.get(s.targetId);if(o.length>1)return r.Da.set(s.targetId,o.filter(l=>!_o(l,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ga(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&$l(r.remoteStore,s.targetId),Qa(r,s.targetId)}).catch(Al)):(Qa(r,s.targetId),await Ga(r.localStore,s.targetId,!0))}async function RT(e,t){const n=Rt(e),r=n.ba.get(t),s=n.Da.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$l(n.remoteStore,r.targetId))}async function vp(e,t){const n=Rt(e);try{const r=await Qw(n.localStore,t);t.targetChanges.forEach((s,o)=>{const l=n.Fa.get(o);l&&(Yt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.wa=!0:s.modifiedDocuments.size>0?Yt(l.wa):s.removedDocuments.size>0&&(Yt(l.wa),l.wa=!1))}),await wp(n,r,t)}catch(r){await Al(r)}}function Th(e,t,n){const r=Rt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ba.forEach((o,l)=>{const c=l.view.j_(t);c.snapshot&&s.push(c.snapshot)}),function(l,c){const u=Rt(l);u.onlineState=c;let f=!1;u.queries.forEach((d,m)=>{for(const g of m.U_)g.j_(c)&&(f=!0)}),f&&Hl(u)}(r.eventManager,t),s.length&&r.Sa.h_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function CT(e,t,n){const r=Rt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Fa.get(t),o=s&&s.key;if(o){let l=new Gt(ut.comparator);l=l.insert(o,ve.newNoDocument(o,mt.min()));const c=At().add(o),u=new wo(mt.min(),new Map,new Gt(Dt),l,c);await vp(r,u),r.va=r.va.remove(o),r.Fa.delete(t),zl(r)}else await Ga(r.localStore,t,!1).then(()=>Qa(r,t,n)).catch(Al)}function Qa(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach(r=>{e.Ma.containsKey(r)||Ep(e,r)})}function Ep(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);n!==null&&($l(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),zl(e))}function bh(e,t,n){for(const r of n)r instanceof gp?(e.Ma.addReference(r.key,t),ST(e,r)):r instanceof _p?(it("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||Ep(e,r.key)):yt()}function ST(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(it("SyncEngine","New document in limbo: "+n),e.Ca.add(r),zl(e))}function zl(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new ut(Bt.fromString(t)),r=e.Na.next();e.Fa.set(r,new ET(n)),e.va=e.va.insert(n,r),cp(e.remoteStore,new Dn(an(Dl(n.path)),r,"TargetPurposeLimboResolution",Rl.oe))}}async function wp(e,t,n){const r=Rt(e),s=[],o=[],l=[];r.ba.isEmpty()||(r.ba.forEach((c,u)=>{l.push(r.Ba(u,t,n).then(f=>{var d;if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(f){s.push(f);const m=Fl.Ki(u.targetId,f);o.push(m)}}))}),await Promise.all(l),r.Sa.h_(s),await async function(u,f){const d=Rt(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>U.forEach(f,g=>U.forEach(g.qi,y=>d.persistence.referenceDelegate.addReference(m,g.targetId,y)).next(()=>U.forEach(g.Qi,y=>d.persistence.referenceDelegate.removeReference(m,g.targetId,y)))))}catch(m){if(!si(m))throw m;it("LocalStore","Failed to update sequence numbers: "+m)}for(const m of f){const g=m.targetId;if(!m.fromCache){const y=d.ns.get(g),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);d.ns=d.ns.insert(g,N)}}}(r.localStore,o))}async function xT(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){it("SyncEngine","User change. New user:",t.toKey());const r=await ip(n.localStore,t);n.currentUser=t,function(o,l){o.Oa.forEach(c=>{c.forEach(u=>{u.reject(new lt(X.CANCELLED,l))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await wp(n,r.us)}}function PT(e,t){const n=Rt(e),r=n.Fa.get(t);if(r&&r.wa)return At().add(r.key);{let s=At();const o=n.Da.get(t);if(!o)return s;for(const l of o){const c=n.ba.get(l);s=s.unionWith(c.view.Ea)}return s}}function Tp(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CT.bind(null,t),t.Sa.h_=gT.bind(null,t.eventManager),t.Sa.ka=_T.bind(null,t.eventManager),t}class Ih{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=ap(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return Ww(this.persistence,new Kw,t.initialUser,this.serializer)}createPersistence(t){return new qw(Ll.Hr,this.serializer)}createSharedClientState(t){return new Zw}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kT{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Th(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xT.bind(null,this.syncEngine),await dT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new mT}()}createDatastore(t){const n=ap(t.databaseInfo.databaseId),r=function(o){return new rT(o)}(t.databaseInfo);return function(o,l,c,u){return new oT(o,l,c,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,o,l,c){return new lT(r,s,o,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>Th(this.syncEngine,n,0),function(){return _h.D()?new _h:new tT}())}createSyncEngine(t,n){return function(s,o,l,c,u,f,d){const m=new wT(s,o,l,c,u,f);return d&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const s=Rt(r);it("RemoteStore","RemoteStore shutting down."),s.M_.add(5),await oi(s),s.O_.shutdown(),s.N_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):vn("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ge.UNAUTHENTICATED,this.clientId=Vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{it("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(it("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=fp(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function la(e,t){e.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ip(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ah(e,t){e.asyncQueue.verifyOperationInProgress();const n=await OT(e);it("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>vh(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>vh(t.remoteStore,s)),e._onlineComponents=t}function VT(e){return e.name==="FirebaseError"?e.code===X.FAILED_PRECONDITION||e.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function OT(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){it("FirestoreClient","Using user provided OfflineComponentProvider");try{await la(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!VT(n))throw n;Gr("Error using user provided cache. Falling back to memory cache: "+n),await la(e,new Ih)}}else it("FirestoreClient","Using default OfflineComponentProvider"),await la(e,new Ih);return e._offlineComponents}async function NT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(it("FirestoreClient","Using user provided OnlineComponentProvider"),await Ah(e,e._uninitializedComponentsProvider._online)):(it("FirestoreClient","Using default OnlineComponentProvider"),await Ah(e,new kT))),e._onlineComponents}async function Ip(e){const t=await NT(e),n=t.eventManager;return n.onListen=TT.bind(null,t.syncEngine),n.onUnlisten=AT.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=bT.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=RT.bind(null,t.syncEngine),n}function MT(e,t,n={}){const r=new $n;return e.asyncQueue.enqueueAndForget(async()=>function(o,l,c,u,f){const d=new bp({next:g=>{l.enqueueAndForget(()=>pp(o,m));const y=g.docs.has(c);!y&&g.fromCache?f.reject(new lt(X.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?f.reject(new lt(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(g)},error:g=>f.reject(g)}),m=new mp(Dl(c.path),d,{includeMetadataChanges:!0,ra:!0});return dp(o,m)}(await Ip(e),e.asyncQueue,t,n,r)),r.promise}function LT(e,t,n={}){const r=new $n;return e.asyncQueue.enqueueAndForget(async()=>function(o,l,c,u,f){const d=new bp({next:g=>{l.enqueueAndForget(()=>pp(o,m)),g.fromCache&&u.source==="server"?f.reject(new lt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),m=new mp(c,d,{includeMetadataChanges:!0,ra:!0});return dp(o,m)}(await Ip(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(e,t,n){if(!n)throw new lt(X.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function FT(e,t,n,r){if(t===!0&&r===!0)throw new lt(X.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ch(e){if(!ut.isDocumentKey(e))throw new lt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Sh(e){if(ut.isDocumentKey(e))throw new lt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function $T(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":yt()}function ti(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$T(e);throw new lt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new lt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ap((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bo{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new lt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xh(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mE;switch(r.type){case"firstParty":return new vE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Rh.get(n);r&&(it("ComponentProvider","Removing Datastore"),Rh.delete(n),r.terminate())}(this),Promise.resolve()}}function jT(e,t,n,r={}){var s;const o=(e=ti(e,bo))._getSettings(),l=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=ge.MOCK_USER;else{c=pd(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new lt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ge(f)}e._authCredentials=new gE(new Dd(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Io(this.firestore,t,this._query)}}class ln{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ln(this.firestore,t,this._key)}}class jn extends Io{constructor(t,n,r){super(t,n,Dl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new ut(t))}withConverter(t){return new jn(this.firestore,t,this._path)}}function Kl(e,t,...n){if(e=Zr(e),Rp("collection","path",t),e instanceof bo){const r=Bt.fromString(t,...n);return Sh(r),new jn(e,null,r)}{if(!(e instanceof ln||e instanceof jn))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Bt.fromString(t,...n));return Sh(r),new jn(e.firestore,null,r)}}function Cp(e,t,...n){if(e=Zr(e),arguments.length===1&&(t=Vd.newId()),Rp("doc","path",t),e instanceof bo){const r=Bt.fromString(t,...n);return Ch(r),new ln(e,null,new ut(r))}{if(!(e instanceof ln||e instanceof jn))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Bt.fromString(t,...n));return Ch(r),new ln(e.firestore,e instanceof jn?e.converter:null,new ut(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new lp(this,"async_queue_retry"),this.hu=()=>{const n=aa();n&&it("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const t=aa();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const n=aa();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new $n;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!si(t))throw t;it("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(t){const n=this.iu.then(()=>(this.uu=!0,t().catch(r=>{this.au=r,this.uu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw vn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(t,n,r){this.Pu(),this.lu.indexOf(t)>-1&&(n=0);const s=ql.createAndSchedule(this,t,n,r,o=>this.Eu(o));return this._u.push(s),s}Pu(){this.au&&yt()}verifyOperationInProgress(){}async du(){let t;do t=this.iu,await t;while(t!==this.iu)}Au(t){for(const n of this._u)if(n.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const n=this._u.indexOf(t);this._u.splice(n,1)}}class Gl extends bo{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=function(){return new UT}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xp(this),this._firestoreClient.terminate()}}function BT(e,t){const n=typeof e=="object"?e:Td(),r=typeof e=="string"?e:"(default)",s=vd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=fd("firestore");o&&jT(s,...o)}return s}function Sp(e){return e._firestoreClient||xp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xp(e){var t,n,r;const s=e._freezeSettings(),o=function(c,u,f,d){return new DE(c,u,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ap(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new DT(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zi(Te.fromBase64String(t))}catch(n){throw new lt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Zi(Te.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}const HT=new RegExp("[~\\*/\\[\\]]");function zT(e,t,n){if(t.search(HT)>=0)throw Ph(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new Pp(...t.split("."))._internalPath}catch{throw Ph(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function Ph(e,t,n,r,s){let o=`Function ${t}() called with invalid data`;o+=". ";let l="";return new lt(X.INVALID_ARGUMENT,o+e+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t,n,r,s,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Dp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KT extends kp{data(){return super.data()}}function Dp(e,t){return typeof t=="string"?zT(e,t):t instanceof Pp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new lt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WT{convertValue(t,n="none"){switch(mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(pr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw yt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return mo(t,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertGeoPoint(t){return new qT(Xt(t.latitude),Xt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Sl(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ys(t));default:return null}}convertTimestamp(t){const n=Bn(t);return new Ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Bt.fromString(t);Yt(sp(r));const s=new Js(r.get(1),r.get(3)),o=new ut(r.popFirst(5));return s.isEqual(n)||vn(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vp extends kp{constructor(t,n,r,s,o,l){super(t,n,r,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new $i(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Dp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $i extends Vp{data(t={}){return super.data(t)}}class QT{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Cs(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new $i(this._firestore,this._userDataWriter,r.key,r,new Cs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const u=new $i(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Cs(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const u=new $i(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Cs(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,d=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),d=l.indexOf(c.doc.key)),{type:XT(c.type),doc:u,oldIndex:f,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(e){e=ti(e,ln);const t=ti(e.firestore,Gl);return MT(Sp(t),e._key).then(n=>YT(t,e,n))}class Np extends WT{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function Wl(e){e=ti(e,Io);const t=ti(e.firestore,Gl),n=Sp(t),r=new Np(t);return GT(e._query),LT(n,e._query).then(s=>new QT(t,r,e,s))}function YT(e,t,n){const r=n.docs.get(t._key),s=new Np(e);return new Vp(e,s,t._key,r,new Cs(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){ts=s})(Ed),Ws(new Kr("firestore",(r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Gl(new _E(r.getProvider("auth-internal")),new wE(r.getProvider("app-check-internal")),function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new lt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Js(f.options.projectId,d)}(l,s),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Fn(Qu,"4.6.4",t),Fn(Qu,"4.6.4","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="firebasestorage.googleapis.com",Lp="storageBucket",JT=2*60*1e3,ZT=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie extends vr{constructor(t,n,r=0){super(ca(t),`Firebase Storage: ${n} (${ca(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ie.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ca(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var se;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(se||(se={}));function ca(e){return"storage/"+e}function Fp(){const e="An unknown error occurred, please check the error payload for server response.";return new ie(se.UNKNOWN,e)}function t1(e){return new ie(se.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function e1(e){return new ie(se.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function n1(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ie(se.UNAUTHENTICATED,e)}function r1(){return new ie(se.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function s1(e){return new ie(se.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function i1(){return new ie(se.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o1(){return new ie(se.CANCELED,"User canceled the upload/download.")}function a1(e){return new ie(se.INVALID_URL,"Invalid URL '"+e+"'.")}function l1(e){return new ie(se.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function c1(){return new ie(se.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Lp+"' property when initializing the app?")}function u1(){return new ie(se.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Xa(e){return new ie(se.INVALID_ARGUMENT,e)}function $p(){return new ie(se.APP_DELETED,"The Firebase app was deleted.")}function h1(e){return new ie(se.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ts(e){throw new ie(se.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=De.makeFromUrl(t,n)}catch{return new De(t,"")}if(r.path==="")return r;throw l1(t)}static makeFromUrl(t,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),u={bucket:1,path:3};function f(q){q.path_=decodeURIComponent(q.path)}const d="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${d}/b/${s}/o${g}`,"i"),C={bucket:1,path:3},N=n===Mp?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",W=new RegExp(`^https?://${N}/${s}/${F}`,"i"),Q=[{regex:c,indices:u,postModify:o},{regex:y,indices:C,postModify:f},{regex:W,indices:{bucket:1,path:2},postModify:f}];for(let q=0;q<Q.length;q++){const _t=Q[q],vt=_t.regex.exec(t);if(vt){const I=vt[_t.indices.bucket];let E=vt[_t.indices.path];E||(E=""),r=new De(I,E),_t.postModify(r);break}}if(r==null)throw a1(t);return r}}class f1{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(e,t,n){let r=1,s=null,o=null,l=!1,c=0;function u(){return c===2}let f=!1;function d(...F){f||(f=!0,t.apply(null,F))}function m(F){s=setTimeout(()=>{s=null,e(y,u())},F)}function g(){o&&clearTimeout(o)}function y(F,...W){if(f){g();return}if(F){g(),d.call(null,F,...W);return}if(u()||l){g(),d.call(null,F,...W);return}r<64&&(r*=2);let Q;c===1?(c=2,Q=0):Q=(r+Math.random())*1e3,m(Q)}let C=!1;function N(F){C||(C=!0,g(),!f&&(s!==null?(F||(c=2),clearTimeout(s),m(0)):F||(c=1)))}return m(0),o=setTimeout(()=>{l=!0,N(!0)},n),N}function p1(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(e){return e!==void 0}function g1(e){return typeof e=="object"&&!Array.isArray(e)}function jp(e){return typeof e=="string"||e instanceof String}function Ya(e,t,n,r){if(r<t)throw Xa(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Xa(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Up(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(or||(or={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,n,r,s,o,l,c,u,f,d,m,g=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=d,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,C)=>{this.resolve_=y,this.reject_=C,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new ki(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const u=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===or.NO_ERROR,u=o.getStatus();if(!c||_1(u,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===or.ABORT;r(!1,new ki(!1,null,d));return}const f=this.successCodes_.indexOf(u)!==-1;r(!0,new ki(f,o))})},n=(r,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());m1(u)?o(u):o()}catch(u){l(u)}else if(c!==null){const u=Fp();u.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,u)):l(u)}else if(s.canceled){const u=this.appDelete_?$p():o1();l(u)}else{const u=i1();l(u)}};this.canceled_?n(!1,new ki(!1,null,!0)):this.backoffId_=d1(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&p1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ki{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function v1(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function E1(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function w1(e,t){t&&(e["X-Firebase-GMPID"]=t)}function T1(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function b1(e,t,n,r,s,o,l=!0){const c=Up(e.urlParams),u=e.url+c,f=Object.assign({},e.headers);return w1(f,t),v1(f,n),E1(f,o),T1(f,r),new y1(u,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(e){let t;try{t=JSON.parse(e)}catch{return null}return g1(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function A1(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function Bp(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(e,t){return t}class Re{constructor(t,n,r,s){this.server=t,this.local=n||t,this.writable=!!r,this.xform=s||R1}}let Di=null;function C1(e){return!jp(e)||e.length<2?e:Bp(e)}function S1(){if(Di)return Di;const e=[];e.push(new Re("bucket")),e.push(new Re("generation")),e.push(new Re("metageneration")),e.push(new Re("name","fullPath",!0));function t(o,l){return C1(l)}const n=new Re("name");n.xform=t,e.push(n);function r(o,l){return l!==void 0?Number(l):l}const s=new Re("size");return s.xform=r,e.push(s),e.push(new Re("timeCreated")),e.push(new Re("updated")),e.push(new Re("md5Hash",null,!0)),e.push(new Re("cacheControl",null,!0)),e.push(new Re("contentDisposition",null,!0)),e.push(new Re("contentEncoding",null,!0)),e.push(new Re("contentLanguage",null,!0)),e.push(new Re("contentType",null,!0)),e.push(new Re("metadata","customMetadata",!0)),Di=e,Di}function x1(e,t){function n(){const r=e.bucket,s=e.fullPath,o=new De(r,s);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function P1(e,t,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const l=n[o];r[l.local]=l.xform(r,t[l.server])}return x1(r,e),r}function k1(e,t,n){const r=Xl(t);return r===null?null:P1(e,r,n)}function D1(e,t,n,r){const s=Xl(t);if(s===null||!jp(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const d=e.bucket,m=e.fullPath,g="/b/"+l(d)+"/o/"+l(m),y=Ql(g,n,r),C=Up({alt:"media",token:f});return y+C})[0]}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="prefixes",Dh="items";function V1(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[kh])for(const s of n[kh]){const o=s.replace(/\/$/,""),l=e._makeStorageReference(new De(t,o));r.prefixes.push(l)}if(n[Dh])for(const s of n[Dh]){const o=e._makeStorageReference(new De(t,s.name));r.items.push(o)}return r}function O1(e,t,n){const r=Xl(n);return r===null?null:V1(e,t,r)}class qp{constructor(t,n,r,s){this.url=t,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(e){if(!e)throw Fp()}function N1(e,t){function n(r,s){const o=O1(e,t,s);return Hp(o!==null),o}return n}function M1(e,t){function n(r,s){const o=k1(e,s,t);return Hp(o!==null),D1(o,s,e.host,e._protocol)}return n}function zp(e){function t(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=r1():s=n1():n.getStatus()===402?s=e1(e.bucket):n.getStatus()===403?s=s1(e.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return t}function L1(e){const t=zp(e);function n(r,s){let o=t(r,s);return r.getStatus()===404&&(o=t1(e.path)),o.serverResponse=s.serverResponse,o}return n}function F1(e,t,n,r,s){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),s&&(o.maxResults=s);const l=t.bucketOnlyServerUrl(),c=Ql(l,e.host,e._protocol),u="GET",f=e.maxOperationRetryTime,d=new qp(c,u,N1(e,t.bucket),f);return d.urlParams=o,d.errorHandler=zp(t),d}function $1(e,t,n){const r=t.fullServerUrl(),s=Ql(r,e.host,e._protocol),o="GET",l=e.maxOperationRetryTime,c=new qp(s,o,M1(e,n),l);return c.errorHandler=L1(t),c}class j1{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=or.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=or.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=or.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,s){if(this.sent_)throw Ts("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ts("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ts("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ts("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ts("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class U1 extends j1{initXhr(){this.xhr_.responseType="text"}}function Kp(){return new U1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t,n){this._service=t,n instanceof De?this._location=n:this._location=De.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new gr(t,n)}get root(){const t=new De(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Bp(this._location.path)}get storage(){return this._service}get parent(){const t=I1(this._location.path);if(t===null)return null;const n=new De(this._location.bucket,t);return new gr(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw h1(t)}}function B1(e){const t={prefixes:[],items:[]};return Gp(e,t).then(()=>t)}async function Gp(e,t,n){const s=await q1(e,{pageToken:n});t.prefixes.push(...s.prefixes),t.items.push(...s.items),s.nextPageToken!=null&&await Gp(e,t,s.nextPageToken)}function q1(e,t){t!=null&&typeof t.maxResults=="number"&&Ya("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=F1(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Kp)}function H1(e){e._throwIfRoot("getDownloadURL");const t=$1(e.storage,e._location,S1());return e.storage.makeRequestWithTokens(t,Kp).then(n=>{if(n===null)throw u1();return n})}function z1(e,t){const n=A1(e._location.path,t),r=new De(e._location.bucket,n);return new gr(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(e){return/^[A-Za-z]+:\/\//.test(e)}function G1(e,t){return new gr(e,t)}function Wp(e,t){if(e instanceof Yl){const n=e;if(n._bucket==null)throw c1();const r=new gr(n,n._bucket);return t!=null?Wp(r,t):r}else return t!==void 0?z1(e,t):e}function W1(e,t){if(t&&K1(t)){if(e instanceof Yl)return G1(e,t);throw Xa("To use ref(service, url), the first argument must be a Storage instance.")}else return Wp(e,t)}function Vh(e,t){const n=t==null?void 0:t[Lp];return n==null?null:De.makeFromBucketSpec(n,e)}function Q1(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:pd(s,e.app.options.projectId))}class Yl{constructor(t,n,r,s,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=Mp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=JT,this._maxUploadRetryTime=ZT,this._requests=new Set,s!=null?this._bucket=De.makeFromBucketSpec(s,this._host):this._bucket=Vh(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=De.makeFromBucketSpec(this._url,t):this._bucket=Vh(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Ya("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Ya("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new gr(this,t)}_makeRequest(t,n,r,s,o=!0){if(this._deleted)return new f1($p());{const l=b1(t,this._appId,r,s,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(t,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,s).getPromise()}}const Oh="@firebase/storage",Nh="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="storage";function Mh(e){return e=Zr(e),B1(e)}function ar(e){return e=Zr(e),H1(e)}function lr(e,t){return e=Zr(e),W1(e,t)}function X1(e=Td(),t){e=Zr(e);const r=vd(e,Qp).getImmediate({identifier:t}),s=fd("storage");return s&&Y1(r,...s),r}function Y1(e,t,n,r={}){Q1(e,t,n,r)}function J1(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Yl(n,r,s,t,Ed)}function Z1(){Ws(new Kr(Qp,J1,"PUBLIC").setMultipleInstances(!0)),Fn(Oh,Nh,""),Fn(Oh,Nh,"esm2017")}Z1();const tb={apiKey:"AIzaSyDqCtHM3L6fPge_sv5gIVTgwKaiKZPj1u0",authDomain:"portfolio-adb7c.firebaseapp.com",projectId:"portfolio-adb7c",storageBucket:"portfolio-adb7c.appspot.com",messagingSenderId:"113936058383",appId:"1:113936058383:web:dbf998db0d583e293abb7a"},Xp=wd(tb),cr=X1(Xp),li=BT(Xp),eb={class:"w-full mb-12 lg:m-0 uppercase"},nb={class:"mt-12 md:pb-12 lg:pb-24 md:pe-16 lg:px-32 lg:pt-16 xl:pe-32"},rb={class:"flex flex-row"},ua={__name:"AboutCardBriefing",props:{briefing:{type:Object,required:!0},isClapping:{type:Boolean,required:!0}},setup(e){return console.log(e.briefing),(n,r)=>{const s=Br("ClapHands"),o=Br("ClapHandsOff");return k(),V("main",eb,[P("div",nb,[P("div",rb,[r[0]||(r[0]=P("h6",{class:"font-semibold"},"Sobre",-1)),e.isClapping===!1?(k(),Ye(s,{key:0,onClick:n.toggleClap,class:"ms-4 cursor-pointer"},null,8,["onClick"])):(k(),Ye(o,{key:1,onClick:n.toggleClap,class:"ms-4 cursor-pointer"},null,8,["onClick"]))]),e.isClapping===!0?(k(!0),V(dt,{key:0},$t(e.briefing.briefingLI,(l,c)=>(k(),V("div",{key:c,class:ne([{"pt-6":c===0},"py-2"])},[P("p",null,et(l),1)],2))),128)):ot("",!0),e.isClapping===!1?(k(!0),V(dt,{key:1},$t(e.briefing.briefingPoints,(l,c)=>(k(),V("div",{key:c,class:ne([{"pt-6":c===0},"py-2"])},[P("p",null,et(l),1)],2))),128)):ot("",!0)])])}}},sb={class:"w-full m-0 uppercase"},ib={class:"mx-4 md:mx-0 lg:pe-8 lg:p-32 xl:pe-32"},ob=["href"],ab=["href"],ha={__name:"AboutCardSocials",props:{socials:{type:Object,required:!0},isClapping:{type:Boolean,required:!0}},setup(e){return console.log(e.socials),(n,r)=>(k(),V("main",sb,[P("div",ib,[r[0]||(r[0]=P("h6",{class:"font-semibold"},"Redes",-1)),(k(!0),V(dt,null,$t(e.socials,(s,o)=>(k(),V("div",{key:o,class:ne(o===0?"pt-4 pb-2 lg:pt-4 lg:pb-2 lg:px-2":"py-2 lg:p-2")},[e.isClapping===!1&&o<=2?(k(),V("a",{key:0,class:"underline",href:s.link},et(s.name),9,ob)):ot("",!0),e.isClapping===!0&&o===3?(k(),V("a",{key:1,class:"underline",href:s.link},et(s.name),9,ab)):ot("",!0)],2))),128))])]))}},lb=["src"],fa={__name:"ClapButton",props:{isClapping:{type:Boolean,required:!0}},setup(e){const t=Ot("");return Ee(async()=>{try{const n=lr(cr,"icons/clap.svg"),r=await ar(n);t.value=r}catch(n){console.error("Error fetching image: ",n)}}),(n,r)=>(k(),V("button",{class:ne({"bg-salmon":e.isClapping===!1,"bg-secundary-green":e.isClapping===!0,"rounded-full":!0," p-2":!0})},[P("img",{src:t.value},null,8,lb)],2))}},cb={key:0,class:""},ub={key:0,class:""},hb={class:"border-b-2 border-main-grey"},fb={class:"m-4"},db=["src"],pb=["src"],mb={class:"w-full text-end fixed bottom-12 z-40 pe-8"},gb={key:1,class:"grid grid-cols-12 mt-28"},_b={key:0,class:"col-span-7 mt-8"},yb={class:"col-span-5"},vb={class:"pe-16 pt-8 mb-8"},Eb=["src"],wb=["src"],Tb={key:2,class:"grid grid-cols-12 mt-28 mb-10"},bb={key:0,class:"col-span-7 xl:col-span-7"},Ib={class:"col-span-5 xl:col-span-5 lg:pe-32"},Ab=["src"],Rb=["src"],Cb={class:"fixed w-full text-end mt-24 pe-32"},Sb={key:3,class:"mt-8"},xb={__name:"AboutView",setup(e){const t=Ot([]),n=Ot([]),{width:r}=Ue(),s=Ot(!1);Ee(async()=>{if((await Wl(Kl(li,"about"))).forEach(d=>{t.value.push({infoId:d.id,...d.data()})}),t.value[0]){const d=t.value[0];n.value={briefingLI:d.briefingLI,briefingPoints:d.briefingShort}}});const o=()=>{s.value=!s.value},l=Ut(()=>{if(!t.value[0])return[];const f=t.value[0].socials,d=[],m={},g={};for(const[y,C]of Object.entries(f))if(y.startsWith("link_")){const N=y.split("_")[1];m[N]=C}else if(y.startsWith("name_")){const N=y.split("_")[1];g[N]=C}for(const y in m)g[y]&&d.push({link:m[y],name:g[y]});return d}),c=Ot(""),u=Ot("");return Ee(async()=>{try{const f=lr(cr,"images/about/CNV000015_1.jpg"),d=lr(cr,"images/about/CNV000015_2.jpg"),m=await ar(f),g=await ar(d);c.value=m,u.value=g}catch(f){console.error("Error fetching image: ",f)}}),(f,d)=>(k(),V(dt,null,[nt(r)<768?(k(),V("div",cb,[t.value[0]?(k(),V("div",ub,[ft(ua,{class:"mt-20 p-4 lg:border-b-2 lg:border-main-grey",briefing:n.value,isClapping:s.value},null,8,["briefing","isClapping"]),P("div",hb,[P("div",fb,[s.value===!1?(k(),V("img",{key:0,src:c.value,alt:"photo",class:"object-fill pb-8 lg:mt-96 xl:mt-64"},null,8,db)):ot("",!0),s.value===!0?(k(),V("img",{key:1,src:u.value,alt:"photo",class:"object-fill pb-8 lg:mt-96 xl:mt-64"},null,8,pb)):ot("",!0)])]),ft(ha,{class:"mb-12 mt-16",socials:l.value,isClapping:s.value},null,8,["socials","isClapping"])])):ot("",!0),P("div",mb,[ft(fa,{isClapping:s.value,onClick:o},null,8,["isClapping"])])])):ot("",!0),nt(r)>=768&&nt(r)<1024?(k(),V("div",gb,[t.value[0]?(k(),V("div",_b,[ft(ua,{class:ne({"border-b-2":s.value===!1,"border-main-grey":s.value===!1,"ps-16":!0}),briefing:n.value,isClapping:s.value},null,8,["class","briefing","isClapping"])])):ot("",!0),P("div",yb,[ft(ha,{class:"mt-20 mb-12 pe-16",socials:l.value,isClapping:s.value},null,8,["socials","isClapping"]),P("div",vb,[P("div",{class:ne({"-ms-4":!0,"pe-16":!0,"z-10":!0,relative:!0,"-mb-8":s.value===!0,"-mb-6":s.value===!1})},[ft(fa,{isClapping:s.value,onClick:o},null,8,["isClapping"])],2),s.value===!1?(k(),V("img",{key:0,src:c.value,alt:"photo",class:"object-fill mb-24 lg:mt-96 xl:mt-64"},null,8,Eb)):ot("",!0),s.value===!0?(k(),V("img",{key:1,src:u.value,alt:"photo",class:"object-fill pb-8 lg:mt-96 xl:mt-64"},null,8,wb)):ot("",!0)])])])):ot("",!0),nt(r)>=1024?(k(),V("div",Tb,[t.value[0]?(k(),V("div",bb,[ft(ua,{class:"border-main-grey border-b-2",briefing:n.value,isClapping:s.value},null,8,["briefing","isClapping"]),ft(ha,{socials:l.value,isClapping:s.value},null,8,["socials","isClapping"])])):ot("",!0),P("div",Ib,[s.value===!1?(k(),V("img",{key:0,src:c.value,alt:"photo",class:"lg:mt-72 xl:mt-64 mb-32"},null,8,Ab)):ot("",!0),s.value===!0?(k(),V("img",{key:1,src:u.value,alt:"photo",class:"lg:mt-96 pt-72 xl:mt-64 mb-32"},null,8,Rb)):ot("",!0)]),P("div",Cb,[ft(fa,{isClapping:s.value,onClick:o},null,8,["isClapping"])])])):ot("",!0),nt(r)<768?(k(),V("div",Sb,[ft(yr)])):ot("",!0)],64))}},Pb={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function kb(e,t){return k(),V("svg",Pb,t[0]||(t[0]=[P("path",{fill:"currentColor",d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"},null,-1)]))}const Yp=En({name:"mdi-plus",render:kb}),Db={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Vb(e,t){return k(),V("svg",Db,t[0]||(t[0]=[P("path",{fill:"currentColor",d:"M19 13H5v-2h14z"},null,-1)]))}const Jp=En({name:"mdi-minus",render:Vb}),Ob={class:"ms-16 lg:ms-32"},Nb={class:"uppercase flex-shrink-0 w-2/12"},Mb={key:0,class:"px-16 lg:px-32 py-6 border-b-2 border-main-grey"},Lb={class:"flex flex-col sm:flex-row items-center justify-between"},Fb={class:"font-semibold text-main-grey"},$b={key:0,class:"flex flex-row gap-3 font-semibold"},jb={class:"mt-6"},Ub={class:"mt-6"},Bb={key:0},qb={class:"mt-6"},Hb={key:0,class:"flex flex-row gap-2"},zb=["href"],Kb={key:1,class:"w-full m-0 uppercase"},Gb={class:"flex flex-row justify-between"},Wb={class:"font-semibold"},Qb={key:0,class:"underline cursor-pointer"},Xb={key:1,class:"underline cursor-pointer"},Yb={key:0,class:"px-4 py-6 border-b-2 border-main-grey flex flex-col gap-4"},Jb={key:0,class:"flex flex-row gap-3 font-semibold text-wrap"},Zb={class:"mt-6"},tI={key:0},eI={class:"list-item mx-4 pb-2"},nI={class:"mt-6"},rI={key:0,class:"flex flex-row gap-2"},sI=["href"],iI={__name:"ProjectCard",props:{project:{type:Object,required:!0},index:{type:Number,required:!0}},setup(e){const{width:t}=Ue(),n=e,r=c=>{const u=c.toDate(),f=u.toLocaleString("pt-PT",{month:"short"}).slice(0,-1),d=u.getFullYear().toString().slice(-2);return`${f} '${d}`},s=Ut(()=>r(n.project.date)),o=Ut(()=>{const c=n.project.collaborators,u=[],f={},d={};for(const[m,g]of Object.entries(c))if(m.startsWith("link_")){const y=m.split("_")[1];f[y]=g}else if(m.startsWith("name_")){const y=m.split("_")[1];d[y]=g}for(const m in f)d[m]&&u.push({link:f[m],name:d[m]});return u}),l=Ot(!1);return(c,u)=>{const f=Br("router-link");return k(),V(dt,null,[nt(t)>=768?(k(),V("main",{key:0,class:"w-full m-0 uppercase",style:xe(e.index===0?{marginTop:"9.22rem"}:{})},[P("div",{onClick:u[0]||(u[0]=d=>l.value=!l.value),class:"flex items-center justify-between gap-16 py-6 border-b-2 border-main-grey text-base text-main-grey"},[P("p",Ob,et(s.value),1),P("p",Nb,et(e.project.title),1),P("p",null,et(e.project.briefDescription),1),l.value?(k(),Ye(nt(Jp),{key:0,class:"ml-auto me-16 lg:me-32",style:xe(nt(t)<=850?{fontSize:"2.5rem"}:nt(t)<=1024&&nt(t)>=851?{fontSize:"2rem"}:nt(t)>=1025&&nt(t)<=1280?{fontSize:"1.5rem"}:{fontSize:"1.25rem"})},null,8,["style"])):(k(),Ye(nt(Yp),{key:1,class:"ml-auto me-16 lg:me-32",style:xe(nt(t)<=1024?{fontSize:"2.5rem"}:{fontSize:"1.25rem"})},null,8,["style"]))]),l.value?(k(),V("div",Mb,[P("div",Lb,[P("p",Fb,"Âmbito "+et(e.project.scope),1),e.project.technologies&&e.project.technologies.length?(k(),V("div",$b,[(k(!0),V(dt,null,$t(e.project.technologies,(d,m)=>(k(),V("p",{key:m},et(d),1))),128))])):ot("",!0)]),P("p",jb,et(e.project.description),1),P("div",Ub,[u[2]||(u[2]=P("p",{class:"font-semibold"},"O meu papel",-1)),e.project.role&&e.project.role.length?(k(),V("div",Bb,[(k(!0),V(dt,null,$t(e.project.role,(d,m)=>(k(),V("p",{key:m}," • "+et(d),1))),128))])):ot("",!0)]),ft(f,{to:{name:"projectDetails",params:{projectId:e.project.projectId}}},{default:er(()=>u[3]||(u[3]=[P("a",{class:"block underline font-semibold text-salmon my-6"},"Ler mais",-1)])),_:1},8,["to"]),P("div",qb,[u[4]||(u[4]=P("p",{class:"font-semibold"},"Em colaboração com",-1)),e.project.collaborators&&o.value.length?(k(),V("div",Hb,[(k(!0),V(dt,null,$t(o.value,(d,m)=>(k(),V("a",{key:m,href:d.link,class:"underline"},et(d.name),9,zb))),128))])):ot("",!0)])])):ot("",!0)],4)):ot("",!0),nt(t)<768?(k(),V("main",Kb,[P("div",{onClick:u[1]||(u[1]=d=>l.value=!l.value),class:"p-4 flex flex-col gap-4 py-6 border-b-2 border-main-grey",style:xe(e.index===0?{marginTop:"10.5rem"}:{})},[P("div",Gb,[P("p",null,et(s.value),1),P("p",Wb,et(e.project.title),1)]),P("p",null,et(e.project.briefDescription),1),l.value?(k(),V("p",Qb,"Esconder")):(k(),V("p",Xb,"Ver Detalhes"))],4),l.value?(k(),V("div",Yb,[e.project.technologies&&e.project.technologies.length?(k(),V("div",Jb,[P("p",null,et(e.project.technologies.join(", ")),1)])):ot("",!0),P("p",null,et(e.project.description),1),ft(f,{to:{name:"projectDetails",params:{projectId:e.project.projectId}}},{default:er(()=>u[5]||(u[5]=[P("a",{class:"block underline font-semibold text-salmon"},"Ler mais",-1)])),_:1},8,["to"]),P("div",Zb,[u[6]||(u[6]=P("p",{class:"font-semibold mb-4"},"O meu papel",-1)),e.project.role&&e.project.role.length?(k(),V("div",tI,[(k(!0),V(dt,null,$t(e.project.role,(d,m)=>(k(),V("div",{key:m},[P("p",eI,et(d),1)]))),128))])):ot("",!0)]),P("div",nI,[u[7]||(u[7]=P("p",{class:"font-semibold mb-4"},"Em colaboração com",-1)),e.project.collaborators&&o.value.length?(k(),V("div",rI,[(k(!0),V(dt,null,$t(o.value,(d,m)=>(k(),V("a",{key:m,href:d.link,class:"underline"},et(d.name),9,sI))),128))])):ot("",!0)])])):ot("",!0)])):ot("",!0)],64)}}},oI=["onClick"],Zp={__name:"SecundaryNavbar",setup(e){const t=Ke("selected"),n=Ke("setSelected"),{width:r}=Ue(),s=ld(),o=Ut(()=>s.path.slice(1)==="projects"?[{name:"Tudo",code:"tudo"},{name:"Web",code:"web"},{name:"Spreadsheets",code:"spreadsheets"},{name:"Apps",code:"apps"},{name:"Outros",code:"outros"}]:[{name:"Tudo",code:"tudo"},{name:"Trabalho",code:"work"},{name:"Formação Académica",code:"academic"}]);return(l,c)=>(k(),V("header",{class:ne(["fixed","w-full","bg-secundary-green","text-snow-white","border-b-2",{"border-t-2":nt(r)<=767},"border-main-grey"]),style:{top:"4.6rem"}},[P("nav",{class:ne(["items-center","md:justify-end","flex","flex-row","py-6","md:px-16","lg:px-32","uppercase",{"overflow-x-scroll":nt(r)<=767},{"justify-center":nt(r)>=395&&nt(r)<=767}])},[P("div",null,[(k(!0),V(dt,null,$t(o.value,u=>(k(),V("a",{key:u.name,class:ne([{"ms-8":u.code==="work"||u.code==="academic"||u.code==="web"||u.code==="spreadsheets"||u.code==="apps"||u.code==="outros"},"interactive","text-nowrap","md:ms-24",u.class,{underline:nt(t)===u.code},{"pe-4":u.code==="academic"&&nt(r)<=767},{"pe-4":u.code==="outros"&&nt(r)<=767},{"ps-4":u.code==="tudo"&&nt(r)<=767}]),onClick:f=>nt(n)(u.code)},et(u.name),11,oI))),128))])],2)],2))}},aI={key:0},lI={__name:"ProjectsView",setup(e){const{width:t}=Ue(),n=Ot([]),r=Ot("tudo"),s=l=>{r.value=l};On("selected",r),On("setSelected",s),Ee(async()=>{(await Wl(Kl(li,"projects"))).forEach(c=>{n.value.push({projectId:c.id,...c.data()})}),console.log(n.value)});const o=Ut(()=>r.value==="tudo"?n.value:n.value.filter(l=>l.type===r.value));return(l,c)=>{const u=Br("router-view");return k(),V(dt,null,[ft(Zp),(k(!0),V(dt,null,$t(o.value,(f,d)=>(k(),Ye(iI,{key:f.projectId,project:f,index:d},null,8,["project","index"]))),128)),ft(u),nt(t)<768?(k(),V("div",aI,[ft(yr)])):ot("",!0)],64)}}},cI={key:0,class:"w-full m-0 uppercase",style:{"margin-top":"9.22rem"}},uI=["href"],hI=["href"],fI={class:"mt-12 mb-20 mx-4"},dI=["src"],pI={key:1,class:"w-full m-0 uppercase",style:{"margin-top":"9.22rem"}},mI={class:"grid grid-cols-6"},gI={key:0,class:"col-span-3"},_I=["href"],yI=["href"],vI={class:"col-span-3"},EI={class:"mt-16 mb-20 me-16"},wI=["src"],TI={key:2,class:"w-full m-0 uppercase",style:{"margin-top":"9.22rem"}},bI={class:"grid grid-cols-12"},II={key:0,class:"col-span-7"},AI=["href"],RI=["href"],CI={class:"col-span-5"},SI={class:"mt-16 mb-12 me-32"},xI=["src"],PI={key:3},kI={__name:"ContactsView",setup(e){const t=Ot({}),n=Ot(""),{width:r}=Ue();Ee(async()=>{try{const o=Cp(li,"about","texts"),l=await Op(o);if(l.exists()){const c=l.data().contacts;t.value=c}else console.error("No such document!")}catch(o){console.error("Error fetching contacts:",o)}});const s=Ut(()=>{if(!t.value)return[];const o=[],l={},c={};for(const[u,f]of Object.entries(t.value))if(u.startsWith("link_")){const d=u.split("_")[1];l[d]=f}else if(u.startsWith("name_")){const d=u.split("_")[1];c[d]=f}for(const u in l)c[u]&&o.push({link:l[u],name:c[u]});return console.log("Pairs:",o),o});return Ee(async()=>{try{const o=lr(cr,"images/about/CNV000016_1.jpg"),l=await ar(o);n.value=l}catch(o){console.error("Error fetching image: ",o)}}),(o,l)=>(k(),V(dt,null,[nt(r)<768?(k(),V("main",cI,[P("div",null,[(k(!0),V(dt,null,$t(s.value,(c,u)=>(k(),V("div",{key:u,class:ne(u===0?"pt-4 pb-12 border-b-2 border-main-grey":"py-12 border-b-2 border-main-grey")},[u===0?(k(),V("a",{key:0,class:"underline mx-4",href:`mailto:${c.link}`},et(c.link),9,uI)):(k(),V("a",{key:1,class:"underline mx-4",href:c.link},et(c.name),9,hI))],2))),128))]),P("div",fI,[P("img",{src:n.value,alt:"photo",class:"object-fill"},null,8,dI)])])):ot("",!0),nt(r)>=768&&nt(r)<1024?(k(),V("main",pI,[P("div",mI,[s.value[0]?(k(),V("div",gI,[(k(!0),V(dt,null,$t(s.value,(c,u)=>(k(),V("div",{key:u,class:ne(u===0?"pt-4 pb-12 border-b-2 border-main-grey":"py-12 border-b-2 border-main-grey")},[u===0?(k(),V("a",{key:0,class:"underline mx-16",href:`mailto:${c.link}`},et(c.link),9,_I)):(k(),V("a",{key:1,class:"underline mx-16",href:c.link},et(c.name),9,yI))],2))),128))])):ot("",!0),P("div",vI,[P("div",EI,[P("img",{src:n.value,alt:"photo",class:"object-fill"},null,8,wI)])])])])):ot("",!0),nt(r)>=1024?(k(),V("main",TI,[P("div",bI,[s.value[0]?(k(),V("div",II,[(k(!0),V(dt,null,$t(s.value,(c,u)=>(k(),V("div",{key:u,class:ne(u===0?"mt-20 pb-12 border-b-2 border-main-grey":"py-12 border-b-2 border-main-grey")},[u===0?(k(),V("a",{key:0,class:"underline mx-32",href:`mailto:${c.link}`},et(c.link),9,AI)):(k(),V("a",{key:1,class:"underline mx-32",href:c.link},et(c.name),9,RI))],2))),128))])):ot("",!0),P("div",CI,[P("div",SI,[P("img",{src:n.value,alt:"photo",class:"object-fill"},null,8,xI)])])])])):ot("",!0),nt(r)<768?(k(),V("div",PI,[ft(yr)])):ot("",!0)],64))}},DI={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function VI(e,t){return k(),V("svg",DI,t[0]||(t[0]=[P("path",{fill:"currentColor",d:"M8.59 16.58L13.17 12L8.59 7.41L10 6l6 6l-6 6z"},null,-1)]))}const OI=En({name:"mdi-chevron-right",render:VI}),NI={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function MI(e,t){return k(),V("svg",NI,t[0]||(t[0]=[P("path",{fill:"currentColor",d:"M15.41 16.58L10.83 12l4.58-4.59L14 6l-6 6l6 6z"},null,-1)]))}const LI=En({name:"mdi-chevron-left",render:MI}),FI={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function $I(e,t){return k(),V("svg",FI,t[0]||(t[0]=[P("path",{fill:"currentColor",d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6l6 6zM6 6h2v12H6z"},null,-1)]))}const jI=En({name:"mdi-page-first",render:$I}),UI={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function BI(e,t){return k(),V("svg",UI,t[0]||(t[0]=[P("path",{fill:"currentColor",d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6l-6-6zM16 6h2v12h-2z"},null,-1)]))}const qI=En({name:"mdi-page-last",render:BI}),HI={key:0,class:"flex flex-col sm:flex-row"},zI={class:"w-full sm:w-1/4"},KI={class:"flex flex-col space-y-2 overflow-y-scroll pe-3 h-2/3"},GI={class:"space-y-6"},WI=["onClick","src","alt"],QI={class:"w-full sm:w-3/4 ms-8"},XI={class:"lightbox"},YI={key:0},JI=["src"],ZI={key:0,class:"text-sm mt-5"},tA={key:1},eA=["src"],nA={class:"mt-5"},rA={class:"text-sm"},sA={class:"font-semibold"},iA={key:1,class:"flex flex-col"},oA={class:"w-full"},aA={class:"lightbox"},lA={key:0},cA=["src"],uA={class:"mt-5"},hA={key:0,class:"text-sm"},fA={class:"font-semibold"},dA={key:1},pA=["src"],mA={class:"mt-5"},gA={class:"text-sm"},_A={class:"font-semibold"},yA={class:"flex flex-row gap-6 mt-4 justify-center"},Lh={__name:"ProjectCarousel",props:{projectVideos:{type:Array,required:!0},projectImages:{type:Array,required:!0},projectAltTexts:{type:Array,required:!0}},setup(e){const{width:t}=Ue(),n=e,r=Ot(null),s=f=>{r.value=f},o=()=>{r.value===n.projectVideos.length-1||r.value++},l=()=>{r.value===0||r.value--},c=()=>{r.value=0},u=()=>{r.value=n.projectVideos.length-1};return(f,d)=>(k(),V(dt,null,[nt(t)>=768?(k(),V("div",HI,[P("div",zI,[P("div",KI,[P("div",GI,[(k(!0),V(dt,null,$t(n.projectImages,(m,g)=>(k(),V("div",{key:m,class:ne({"opacity-50":g!==r.value})},[P("img",{onClick:y=>s(g),src:m,alt:m,class:"w-full object-cover cursor-pointer"},null,8,WI)],2))),128))])])]),P("div",QI,[P("div",XI,[r.value!==null&&n.projectVideos[r.value]?(k(),V("div",YI,[P("video",{src:n.projectVideos[r.value],controls:"",class:"w-full object-cover"},null,8,JI),r.value!==null&&n.projectAltTexts[r.value]?(k(),V("p",ZI,et(n.projectAltTexts[r.value]),1)):ot("",!0)])):n.projectVideos[0]?(k(),V("div",tA,[P("video",{src:n.projectVideos[0],controls:"",class:"w-full object-cover"},null,8,eA),P("div",nA,[P("p",rA,[P("span",sA,et(1)+"/"+et(n.projectAltTexts.length)+". ",1),Os(et(n.projectAltTexts[0]),1)])])])):ot("",!0)])])])):ot("",!0),nt(t)<768?(k(),V("div",iA,[P("div",oA,[P("div",aA,[r.value!==null&&n.projectVideos[r.value]?(k(),V("div",lA,[P("video",{src:n.projectVideos[r.value],controls:"",class:"w-full object-cover"},null,8,cA),P("div",uA,[r.value!==null&&n.projectAltTexts[r.value]?(k(),V("p",hA,[P("span",fA,et(r.value+1)+"/"+et(n.projectAltTexts.length)+". ",1),Os(et(n.projectAltTexts[r.value]),1)])):ot("",!0)])])):n.projectVideos[0]?(k(),V("div",dA,[P("video",{src:n.projectVideos[0],controls:"",class:"w-full object-cover"},null,8,pA),P("div",mA,[P("p",gA,[P("span",_A,et(1)+"/"+et(n.projectAltTexts.length)+". ",1),Os(et(n.projectAltTexts[0]),1)])])])):ot("",!0),P("div",yA,[ft(nt(jI),{class:"text-4xl",onClick:c}),ft(nt(LI),{class:"text-4xl",onClick:l}),ft(nt(OI),{class:"text-4xl",onClick:o}),ft(nt(qI),{class:"text-4xl",onClick:u})])])])])):ot("",!0)],64))}},vA={key:0,class:"flex flex-row w-full mt-10 uppercase",style:{"margin-top":"9.22rem"}},EA={class:"w-1/2 md:ms-16 lg:ms-32 pe-4 uppercase"},wA={class:"w-1/2 flex flex-col gap-1 ps-6 md:me-16 lg:me-32"},TA={class:"text-xs"},bA={class:"uppercase text-xl font-semibold"},IA={class:"text-sm font-semibold"},AA={class:"flex flex-row gap-6 font-semibold items-center my-3"},RA=["src","alt","onMouseover"],CA={class:"mt-2"},SA={key:0,class:"flex flex-row gap-2"},xA=["href"],PA={key:1,class:"w-full pt-10",style:{"margin-top":"6rem"}},kA={class:"flex flex-col gap-1 px-4 uppercase"},DA={class:"mb-6"},VA={class:"text-sm"},OA={class:"flex flex-row justify-start items-center text-center gap-6 py-5"},NA=["src","alt","onClick"],MA={class:"uppercase text-xl font-semibold mb-1"},LA={class:"my-6"},FA={class:"mt-2"},$A={key:0,class:"flex flex-row gap-2"},jA=["href"],UA={key:0,class:"mt-14"},BA={__name:"ProjectDetailsView",props:{projectId:{type:String,required:!0}},setup(e){const{width:t}=Ue(),n=e,r=Ot([]);Ee(async()=>{const m=await Op(Cp(li,"projects",n.projectId));m.exists()?r.value=m.data():console.log("No such document!"),console.log(r.value)});const s=Ot(null),o=Ot([]);Ee(async()=>{try{const m=lr(cr,"videos/"+n.projectId),g=await Mh(m);for(const y of g.items){const C=await ar(y);o.value.push(C)}}catch(m){console.error("Error fetching videos: ",m)}});const l=Ot([]);Ee(async()=>{try{const m=lr(cr,"images/"+n.projectId),g=await Mh(m);for(const y of g.items){const C=await ar(y);l.value.push(C)}}catch(m){console.error("Error fetching images: ",m)}});const c=Ot([]);Ee(async()=>{try{for(;i<r.technologies.length;)refs.push(lr(cr,"icons/"+r.technologies[i]+".svg")),++i;for(const m of refs){const g=await ar(m);c.value.push(g)}}catch(m){console.error("Error fetching images: ",m)}});const u=Ut(()=>{const m=r.value.links,g=[],y=[],C=[];for(const[N,F]of Object.entries(m))N.startsWith("link_")?y.push(F):N.startsWith("name_")&&C.push(F);for(let N=0;N<y.length;N++)g.push({link:y[N],name:C[N]});return g}),f=m=>{s.value=s.value===m?null:m},d=()=>{s.value=null};return(m,g)=>(k(),V(dt,null,[nt(t)>=768?(k(),V("main",vA,[P("div",EA,[ft(Lh,{projectVideos:o.value,projectImages:l.value,projectAltTexts:r.value.altTexts},null,8,["projectVideos","projectImages","projectAltTexts"])]),P("div",wA,[P("p",TA," Âmbito "+et(r.value.scope),1),P("h2",bA,et(r.value.title),1),P("p",IA,et(r.value.briefDescription),1),P("div",AA,[(k(!0),V(dt,null,$t(c.value,(y,C)=>(k(),V("div",{key:C},[P("img",{src:y,alt:y,class:"w-full object-cover cursor-pointer relative",onMouseover:N=>s.value=C,onMouseleave:g[0]||(g[0]=N=>s.value=null)},null,40,RA),Xc(P("p",{class:"text-xs pt-1"},et(r.value.technologies[C]),513),[[hu,s.value===C]])]))),128))]),P("p",CA,et(r.value.description),1),g[1]||(g[1]=P("p",{class:"font-semibold uppercase mt-3"},"Links",-1)),r.value.links&&u.value.length?(k(),V("div",SA,[(k(!0),V(dt,null,$t(u.value,(y,C)=>(k(),V("a",{key:C,href:y.link,class:"underline"},et(y.name),9,xA))),128))])):ot("",!0)])])):ot("",!0),nt(t)<768?(k(),V("main",PA,[P("div",kA,[g[2]||(g[2]=P("a",{href:"/projects",class:"underline mb-6"}," Ver outros projetos ",-1)),P("div",DA,[s.value!==null?(k(),V("div",{key:0,class:"fixed top-0 left-0 bg-transparent z-50 h-full w-full",onClick:d})):ot("",!0),P("p",VA," Âmbito "+et(r.value.scope),1),P("div",OA,[(k(!0),V(dt,null,$t(c.value,(y,C)=>(k(),V("div",{key:C,class:""},[P("img",{src:y,alt:y,onClick:N=>f(C)},null,8,NA),Xc(P("p",{class:"fixed text-xs pt-1 ms-0.5"},et(r.value.technologies[C]),513),[[hu,s.value===C]])]))),128)),s.value!==null?(k(),V("div",{key:0,class:"overlay",onClick:d})):ot("",!0)]),P("h2",MA,et(r.value.title),1),P("p",null,et(r.value.briefDescription),1)]),P("div",LA,[ft(Lh,{projectVideos:o.value,projectImages:l.value,projectAltTexts:r.value.altTexts},null,8,["projectVideos","projectImages","projectAltTexts"])]),P("p",FA,et(r.value.description),1),g[3]||(g[3]=P("p",{class:"font-semibold uppercase mt-6"},"Links",-1)),r.value.links&&u.value.length?(k(),V("div",$A,[(k(!0),V(dt,null,$t(u.value,(y,C)=>(k(),V("a",{key:C,href:y.link,class:"underline"},et(y.name),9,jA))),128))])):ot("",!0)]),nt(t)<=768?(k(),V("div",UA,[ft(yr)])):ot("",!0)])):ot("",!0)],64))}},qA={class:"grid grid-cols-8 lg:ms-32 xl:ms-80"},HA={class:"col-span-2 border-e-2 border-main-grey items-center gap-16 py-12 lg:py-16 xl:py-20 border-b-2 text-base text-main-grey"},zA={class:"md:px-16 lg:px-0 xl:ms-24"},KA={class:"uppercase flex-shrink-0 w-100 font-semibold ps-12"},GA={key:0,class:"grid grid-cols-8 lg:ms-32 xl:ms-80"},WA={class:"col-span-6 py-6 border-b-2 border-main-grey"},QA={class:"text-main-grey list-item"},XA={class:""},YA={class:"font-semibold"},JA={key:0,class:"underline cursor-pointer"},ZA={key:1,class:"underline cursor-pointer"},tR={key:0,class:"border-b-2 border-main-grey py-6"},eR={class:"list-item mx-4 pb-2"},nR={__name:"ExperienceCard",props:{experience:{type:Object,required:!0},index:{type:Number,required:!0}},setup(e){const{width:t}=Ue(),n=e,r=c=>{const u=c.toDate(),f=u.toLocaleString("pt-PT",{month:"short"}).slice(0,-1),d=u.getFullYear().toString().slice(-2);return`${f} '${d}`},s=Ut(()=>r(n.experience.startingDate)),o=Ut(()=>r(n.experience.endDate)),l=Ot(!1);return(c,u)=>(k(),V(dt,null,[nt(t)>=768?(k(),V("main",{key:0,class:"w-full uppercase",style:xe(e.index===0?{marginTop:"9.22rem"}:{})},[P("div",qA,[P("div",HA,[P("p",zA,et(s.value)+" - "+et(o.value),1)]),P("div",{onClick:u[0]||(u[0]=f=>l.value=!l.value),class:"col-span-6 flex items-center justify-between gap-16 py-6 border-b-2 border-main-grey text-base text-main-grey"},[P("div",null,[P("p",KA,et(e.experience.company),1)]),P("div",null,[P("p",null,et(e.experience.area),1)]),P("div",null,[l.value?(k(),Ye(nt(Jp),{key:0,class:"ml-auto md:me-16 lg:me-32",style:{"font-size":"1.25rem"}})):(k(),Ye(nt(Yp),{key:1,class:"ml-auto md:me-16 lg:me-32",style:{"font-size":"1.25rem"}}))])])]),l.value?(k(),V("div",GA,[u[2]||(u[2]=P("div",{class:"col-span-2 py-6 border-b-2 border-main-grey"},null,-1)),P("div",WA,[(k(!0),V(dt,null,$t(e.experience.tasks,(f,d)=>(k(),V("div",{class:"ps-16",key:d},[P("p",QA,et(f),1)]))),128))])])):ot("",!0)],4)):ot("",!0),nt(t)<768?(k(),V("main",{key:1,class:"w-full uppercase",style:xe(e.index===0?{marginTop:"10.5rem"}:{})},[P("div",{onClick:u[1]||(u[1]=f=>l.value=!l.value),class:"p-4 flex flex-col gap-4 py-6 border-b-2 border-main-grey text-base text-main-grey"},[P("p",XA,et(s.value)+" - "+et(o.value),1),P("p",null,et(e.experience.area),1),P("p",YA,et(e.experience.company),1),l.value?(k(),V("p",JA,"Esconder")):(k(),V("p",ZA,"Ver Detalhes"))]),l.value?(k(),V("div",tR,[(k(!0),V(dt,null,$t(e.experience.tasks,(f,d)=>(k(),V("div",{class:"mx-4",key:d},[P("p",eR,et(f),1)]))),128))])):ot("",!0)],4)):ot("",!0)],64))}},rR={key:0},sR={__name:"ExperienceView",setup(e){const{width:t}=Ue(),n=Ot([]),r=Ot("tudo"),s=l=>{r.value=l};On("selected",r),On("setSelected",s),Ee(async()=>{(await Wl(Kl(li,"experience"))).forEach(c=>{n.value.push({experienceId:c.id,...c.data()})}),console.log(n.value)});const o=Ut(()=>r.value==="tudo"?n.value.sort((l,c)=>c.startingDate-l.startingDate):n.value.filter(l=>l.type===r.value).sort((l,c)=>c.startingDate-l.startingDate));return(l,c)=>{const u=Br("router-view");return k(),V(dt,null,[ft(Zp),(k(!0),V(dt,null,$t(o.value,(f,d)=>(k(),Ye(nR,{key:f.experienceId,experience:f,index:d},null,8,["experience","index"]))),128)),ft(u),nt(t)<768?(k(),V("div",rR,[ft(yr)])):ot("",!0)],64)}}},iR=ov({history:Ny("/portfolio/"),routes:[{path:"/",name:"home",component:Bv},{path:"/about",name:"about",component:xb},{path:"/projects",name:"projects",component:lI},{path:"/projects/:projectId",name:"projectDetails",props:!0,component:BA},{path:"/experience",name:"experience",component:sR},{path:"/contacts",name:"contacts",component:kI}]});/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var oR="store";function rs(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function aR(e){return e!==null&&typeof e=="object"}function lR(e){return e&&typeof e.then=="function"}function cR(e,t){return function(){return e(t)}}function tm(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function em(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Ao(e,n,[],e._modules.root,!0),Jl(e,n,t)}function Jl(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,l={},c={},u=Hm(!0);u.run(function(){rs(o,function(f,d){l[d]=cR(f,e),c[d]=Ut(function(){return l[d]()}),Object.defineProperty(e.getters,d,{get:function(){return c[d].value},enumerable:!0})})}),e._state=ei({data:t}),e._scope=u,e.strict&&pR(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function Ao(e,t,n,r,s){var o=!n.length,l=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[l],e._modulesNamespaceMap[l]=r),!o&&!s){var c=Zl(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit(function(){c[u]=r.state})}var f=r.context=uR(e,l,n);r.forEachMutation(function(d,m){var g=l+m;hR(e,g,d,f)}),r.forEachAction(function(d,m){var g=d.root?m:l+m,y=d.handler||d;fR(e,g,y,f)}),r.forEachGetter(function(d,m){var g=l+m;dR(e,g,d,f)}),r.forEachChild(function(d,m){Ao(e,t,n.concat(m),d,s)})}function uR(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(o,l,c){var u=to(o,l,c),f=u.payload,d=u.options,m=u.type;return(!d||!d.root)&&(m=t+m),e.dispatch(m,f)},commit:r?e.commit:function(o,l,c){var u=to(o,l,c),f=u.payload,d=u.options,m=u.type;(!d||!d.root)&&(m=t+m),e.commit(m,f,d)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return nm(e,t)}},state:{get:function(){return Zl(e.state,n)}}}),s}function nm(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var o=s.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function hR(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(l){n.call(e,r.state,l)})}function fR(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(l){var c=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},l);return lR(c)||(c=Promise.resolve(c)),e._devtoolHook?c.catch(function(u){throw e._devtoolHook.emit("vuex:error",u),u}):c})}function dR(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function pR(e){Nn(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Zl(e,t){return t.reduce(function(n,r){return n[r]},e)}function to(e,t,n){return aR(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var mR="vuex bindings",Fh="vuex:mutations",da="vuex:actions",xr="vuex",gR=0;function _R(e,t){sy({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[mR]},function(n){n.addTimelineLayer({id:Fh,label:"Vuex Mutations",color:$h}),n.addTimelineLayer({id:da,label:"Vuex Actions",color:$h}),n.addInspector({id:xr,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===xr)if(r.filter){var s=[];om(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[im(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===xr){var s=r.nodeId;nm(t,s),r.state=ER(TR(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===xr){var s=r.nodeId,o=r.path;s!=="root"&&(o=s.split("/").filter(Boolean).concat(o)),t._withCommit(function(){r.set(t._state.data,o,r.state.value)})}}),t.subscribe(function(r,s){var o={};r.payload&&(o.payload=r.payload),o.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(xr),n.sendInspectorState(xr),n.addTimelineEvent({layerId:Fh,event:{time:Date.now(),title:r.type,data:o}})}),t.subscribeAction({before:function(r,s){var o={};r.payload&&(o.payload=r.payload),r._id=gR++,r._time=Date.now(),o.state=s,n.addTimelineEvent({layerId:da,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,s){var o={},l=Date.now()-r._time;o.duration={_custom:{type:"duration",display:l+"ms",tooltip:"Action duration",value:l}},r.payload&&(o.payload=r.payload),o.state=s,n.addTimelineEvent({layerId:da,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var $h=8702998,yR=6710886,vR=16777215,rm={label:"namespaced",textColor:vR,backgroundColor:yR};function sm(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function im(e,t){return{id:t||"root",label:sm(t),tags:e.namespaced?[rm]:[],children:Object.keys(e._children).map(function(n){return im(e._children[n],t+n+"/")})}}function om(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[rm]:[]}),Object.keys(t._children).forEach(function(s){om(e,t._children[s],n,r+s+"/")})}function ER(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(l){return{key:l,editable:!0,value:e.state[l]}})};if(r.length){var o=wR(t);s.getters=Object.keys(o).map(function(l){return{key:l.endsWith("/")?sm(l):l,editable:!1,value:Ja(function(){return o[l]})}})}return s}function wR(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,o=r.pop();r.forEach(function(l){s[l]||(s[l]={_custom:{value:{},display:l,tooltip:"Module",abstract:!0}}),s=s[l]._custom.value}),s[o]=Ja(function(){return e[n]})}else t[n]=Ja(function(){return e[n]})}),t}function TR(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,o){var l=r[s];if(!l)throw new Error('Missing module "'+s+'" for path "'+t+'".');return o===n.length-1?l:l._children},t==="root"?e:e.root._children)}function Ja(e){try{return e()}catch(t){return t}}var Ze=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},am={namespaced:{configurable:!0}};am.namespaced.get=function(){return!!this._rawModule.namespaced};Ze.prototype.addChild=function(t,n){this._children[t]=n};Ze.prototype.removeChild=function(t){delete this._children[t]};Ze.prototype.getChild=function(t){return this._children[t]};Ze.prototype.hasChild=function(t){return t in this._children};Ze.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Ze.prototype.forEachChild=function(t){rs(this._children,t)};Ze.prototype.forEachGetter=function(t){this._rawModule.getters&&rs(this._rawModule.getters,t)};Ze.prototype.forEachAction=function(t){this._rawModule.actions&&rs(this._rawModule.actions,t)};Ze.prototype.forEachMutation=function(t){this._rawModule.mutations&&rs(this._rawModule.mutations,t)};Object.defineProperties(Ze.prototype,am);var Er=function(t){this.register([],t,!1)};Er.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Er.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};Er.prototype.update=function(t){lm([],this.root,t)};Er.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var o=new Ze(n,r);if(t.length===0)this.root=o;else{var l=this.get(t.slice(0,-1));l.addChild(t[t.length-1],o)}n.modules&&rs(n.modules,function(c,u){s.register(t.concat(u),c,r)})};Er.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};Er.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function lm(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;lm(e.concat(r),t.getChild(r),n.modules[r])}}function bR(e){return new Me(e)}var Me=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Er(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var l=this,c=this,u=c.dispatch,f=c.commit;this.dispatch=function(g,y){return u.call(l,g,y)},this.commit=function(g,y,C){return f.call(l,g,y,C)},this.strict=s;var d=this._modules.root.state;Ao(this,d,[],this._modules.root),Jl(this,d),r.forEach(function(m){return m(n)})},tc={state:{configurable:!0}};Me.prototype.install=function(t,n){t.provide(n||oR,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&_R(t,this)};tc.state.get=function(){return this._state.data};tc.state.set=function(e){};Me.prototype.commit=function(t,n,r){var s=this,o=to(t,n,r),l=o.type,c=o.payload,u={type:l,payload:c},f=this._mutations[l];f&&(this._withCommit(function(){f.forEach(function(m){m(c)})}),this._subscribers.slice().forEach(function(d){return d(u,s.state)}))};Me.prototype.dispatch=function(t,n){var r=this,s=to(t,n),o=s.type,l=s.payload,c={type:o,payload:l},u=this._actions[o];if(u){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(c,r.state)})}catch{}var f=u.length>1?Promise.all(u.map(function(d){return d(l)})):u[0](l);return new Promise(function(d,m){f.then(function(g){try{r._actionSubscribers.filter(function(y){return y.after}).forEach(function(y){return y.after(c,r.state)})}catch{}d(g)},function(g){try{r._actionSubscribers.filter(function(y){return y.error}).forEach(function(y){return y.error(c,r.state,g)})}catch{}m(g)})})}};Me.prototype.subscribe=function(t,n){return tm(t,this._subscribers,n)};Me.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return tm(r,this._actionSubscribers,n)};Me.prototype.watch=function(t,n,r){var s=this;return Nn(function(){return t(s.state,s.getters)},n,Object.assign({},r))};Me.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Me.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Ao(this,this.state,t,this._modules.get(t),r.preserveState),Jl(this,this.state)};Me.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=Zl(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),em(this)};Me.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Me.prototype.hotUpdate=function(t){this._modules.update(t),em(this,!0)};Me.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Me.prototype,tc);const IR=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),AR=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),RR=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),CR=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),SR=bR({state:IR,actions:AR,mutations:RR,getters:CR});W_(Mv).use(iR).use(SR).mount("#app");
